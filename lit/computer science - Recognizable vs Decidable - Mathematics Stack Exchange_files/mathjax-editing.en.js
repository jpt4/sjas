"use strict";StackExchange.mathjaxEditing=function(){function e(){m.disabled=!0,g.resetEquationNumbers()}function t(){m.disabled=!1}function n(e,t){var n=c.slice(e,t+1).join("").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");for(p&&(n=n.replace(/\n    /g,"\n")),k.Browser.isMSIE&&(n=n.replace(/(%[^\n]*)\n/g,"$1<br/>\n"));t>e;)c[t--]="";c[e]="@@"+h.length+"@@",h.push(n),u=l=d=null}function o(e){u=l=d=p=null,h=[],c=w(e.replace(/\r\n?/g,"\n"),x);for(var t=1,o=c.length;o>t;t+=2){var i=c[t];"@"===i.charAt(0)?(c[t]="@@"+h.length+"@@",h.push(i)):u?i===l?f>0?d=t:0===f?n(u,t):u=l=d=null:i.match(/\n.*\n/)||t+2>=o?(d&&(t=d,f>=0&&n(u,t)),u=l=d=null,f=0):"{"===i&&f>=0?f++:"}"===i&&f>0&&f--:i===y||"$$"===i?(u=t,l=i,f=0):"begin"===i.substr(1,5)?(u=t,l="\\end"+i.substr(6),f=0):"`"===i.charAt(0)?(u=d=t,l=i,f=-1):"\n"===i.charAt(0)&&i.match(/    $/)&&(p=!0)}return d&&n(u,d),c.join("")}function i(e){return e=e.replace(/@@(\d+)@@/g,function(e,t){return h[t]}),h=null,e}function a(n,o){b=!1,k.cancelTypeset=!1,k.Queue(e,[o,k,n],t)}function r(e,t){b||(b=e,v&&(k.Cancel(),k.Queue([a,e,t])))}function s(e,t,n){var s=document.getElementById("wmd-preview"+t);y=n[0][0];var c=e.getConverter();c.hooks.chain("preConversion",o),c.hooks.chain("preSafe",i),e.hooks.chain("onPreviewRefresh",function(){r(s,"Typeset")}),k.Queue(function(){s&&s.querySelector(".mjx-noError")&&a(s,"Reprocess")})}var c,u,l,d,f,p,h,g,m,v=!1,b=null,y="$",k=MathJax.Hub;k.Queue(function(){return g=MathJax.InputJax.TeX,m=g.config.noErrors,v=!0,k.processUpdateTime=50,k.processSectionDelay=0,MathJax.Extension["fast-preview"].Disable(),k.Config({"HTML-CSS":{"EqnChunk":10,"EqnChunkFactor":1},"CommonHTML":{"EqnChunk":10,"EqnChunkFactor":1},"SVG":{"EqnChunk":10,"EqnChunkFactor":1}}),b?a(b,"Typeset"):void 0});var w,x=/(\$\$?|\\(?:begin|end)\{[a-z]*\*?\}|\\[\\{}$]|[{}]|(?:\n\s*)+|@@\d+@@|`+)/i;return w=3==="aba".split(/(b)/).length?function(e,t){return e.split(t)}:function(e,t){var n,o=[];if(!t.global){var i=t.toString(),a="";i=i.replace(/^\/(.*)\/([im]*)$/,function(e,t,n){return a=n,t}),t=new RegExp(i,a+"g")}t.lastIndex=0;for(var r=0;n=t.exec(e);)o.push(e.substring(r,n.index)),o.push.apply(o,n.slice(1)),r=n.index+n[0].length;return o.push(e.substring(r)),o},{"prepareWmdForMathJax":s}}(),function(){var e=MathJax.Hub;if(!e.Cancel){e.cancelTypeset=!1;var t="MathJax Canceled";e.Register.StartupHook("HTML-CSS Jax Config",function(){var n=MathJax.OutputJax["HTML-CSS"],o=n.Translate;n.Augment({"Translate":function(i,a){if(e.cancelTypeset||a.cancelled)throw Error(t);return o.call(n,i,a)}})}),e.Register.StartupHook("SVG Jax Config",function(){var n=MathJax.OutputJax.SVG,o=n.Translate;n.Augment({"Translate":function(i,a){if(e.cancelTypeset||a.cancelled)throw Error(t);return o.call(n,i,a)}})}),e.Register.StartupHook("CommonHTML Jax Config",function(){var n=MathJax.OutputJax.CommonHTML,o=n.Translate;n.Augment({"Translate":function(i,a){if(e.cancelTypeset||a.cancelled)throw Error(t);return o.call(n,i,a)}})}),e.Register.StartupHook("PreviewHTML Jax Config",function(){var n=MathJax.OutputJax.PreviewHTML,o=n.Translate;n.Augment({"Translate":function(i,a){if(e.cancelTypeset||a.cancelled)throw Error(t);return o.call(n,i,a)}})}),e.Register.StartupHook("TeX Jax Config",function(){var n=MathJax.InputJax.TeX,o=n.Translate;n.Augment({"Translate":function(i,a){if(e.cancelTypeset||a.cancelled)throw Error(t);return o.call(n,i,a)}})});var n=e.processError;e.processError=function(o,i,a){return o.message!==t?n.call(e,o,i,a):(MathJax.Message.Clear(0,0),i.jaxIDs=[],i.jax={},i.scripts=[],i.i=i.j=0,i.cancelled=!0,null)},e.Cancel=function(){this.cancelTypeset=!0}}}();