%!PS-Adobe-2.0
%%Creator: dvips(k) 5.86 Copyright 1999 Radical Eye Software
%%Title: main.dvi
%%Pages: 10
%%PageOrder: Ascend
%%BoundingBox: 0 0 596 842
%%DocumentFonts: Helvetica-Bold Helvetica Times-Bold Times-Roman
%%+ Times-Italic Symbol ZapfChancery-MediumItalic
%%EndComments
%DVIPSWebPage: (www.radicaleye.com)
%DVIPSCommandLine: dvips main -f
%DVIPSParameters: dpi=600, compressed
%DVIPSSource:  TeX output 2003.07.21:1147
%%BeginProcSet: texc.pro
%!
/TeXDict 300 dict def TeXDict begin/N{def}def/B{bind def}N/S{exch}N/X{S
N}B/A{dup}B/TR{translate}N/isls false N/vsize 11 72 mul N/hsize 8.5 72
mul N/landplus90{false}def/@rigin{isls{[0 landplus90{1 -1}{-1 1}ifelse 0
0 0]concat}if 72 Resolution div 72 VResolution div neg scale isls{
landplus90{VResolution 72 div vsize mul 0 exch}{Resolution -72 div hsize
mul 0}ifelse TR}if Resolution VResolution vsize -72 div 1 add mul TR[
matrix currentmatrix{A A round sub abs 0.00001 lt{round}if}forall round
exch round exch]setmatrix}N/@landscape{/isls true N}B/@manualfeed{
statusdict/manualfeed true put}B/@copies{/#copies X}B/FMat[1 0 0 -1 0 0]
N/FBB[0 0 0 0]N/nn 0 N/IEn 0 N/ctr 0 N/df-tail{/nn 8 dict N nn begin
/FontType 3 N/FontMatrix fntrx N/FontBBox FBB N string/base X array
/BitMaps X/BuildChar{CharBuilder}N/Encoding IEn N end A{/foo setfont}2
array copy cvx N load 0 nn put/ctr 0 N[}B/sf 0 N/df{/sf 1 N/fntrx FMat N
df-tail}B/dfs{div/sf X/fntrx[sf 0 0 sf neg 0 0]N df-tail}B/E{pop nn A
definefont setfont}B/Cw{Cd A length 5 sub get}B/Ch{Cd A length 4 sub get
}B/Cx{128 Cd A length 3 sub get sub}B/Cy{Cd A length 2 sub get 127 sub}
B/Cdx{Cd A length 1 sub get}B/Ci{Cd A type/stringtype ne{ctr get/ctr ctr
1 add N}if}B/id 0 N/rw 0 N/rc 0 N/gp 0 N/cp 0 N/G 0 N/CharBuilder{save 3
1 roll S A/base get 2 index get S/BitMaps get S get/Cd X pop/ctr 0 N Cdx
0 Cx Cy Ch sub Cx Cw add Cy setcachedevice Cw Ch true[1 0 0 -1 -.1 Cx
sub Cy .1 sub]/id Ci N/rw Cw 7 add 8 idiv string N/rc 0 N/gp 0 N/cp 0 N{
rc 0 ne{rc 1 sub/rc X rw}{G}ifelse}imagemask restore}B/G{{id gp get/gp
gp 1 add N A 18 mod S 18 idiv pl S get exec}loop}B/adv{cp add/cp X}B
/chg{rw cp id gp 4 index getinterval putinterval A gp add/gp X adv}B/nd{
/cp 0 N rw exit}B/lsh{rw cp 2 copy get A 0 eq{pop 1}{A 255 eq{pop 254}{
A A add 255 and S 1 and or}ifelse}ifelse put 1 adv}B/rsh{rw cp 2 copy
get A 0 eq{pop 128}{A 255 eq{pop 127}{A 2 idiv S 128 and or}ifelse}
ifelse put 1 adv}B/clr{rw cp 2 index string putinterval adv}B/set{rw cp
fillstr 0 4 index getinterval putinterval adv}B/fillstr 18 string 0 1 17
{2 copy 255 put pop}for N/pl[{adv 1 chg}{adv 1 chg nd}{1 add chg}{1 add
chg nd}{adv lsh}{adv lsh nd}{adv rsh}{adv rsh nd}{1 add adv}{/rc X nd}{
1 add set}{1 add clr}{adv 2 chg}{adv 2 chg nd}{pop nd}]A{bind pop}
forall N/D{/cc X A type/stringtype ne{]}if nn/base get cc ctr put nn
/BitMaps get S ctr S sf 1 ne{A A length 1 sub A 2 index S get sf div put
}if put/ctr ctr 1 add N}B/I{cc 1 add D}B/bop{userdict/bop-hook known{
bop-hook}if/SI save N @rigin 0 0 moveto/V matrix currentmatrix A 1 get A
mul exch 0 get A mul add .99 lt{/QV}{/RV}ifelse load def pop pop}N/eop{
SI restore userdict/eop-hook known{eop-hook}if showpage}N/@start{
userdict/start-hook known{start-hook}if pop/VResolution X/Resolution X
1000 div/DVImag X/IEn 256 array N 2 string 0 1 255{IEn S A 360 add 36 4
index cvrs cvn put}for pop 65781.76 div/vsize X 65781.76 div/hsize X}N
/p{show}N/RMat[1 0 0 -1 0 0]N/BDot 260 string N/Rx 0 N/Ry 0 N/V{}B/RV/v{
/Ry X/Rx X V}B statusdict begin/product where{pop false[(Display)(NeXT)
(LaserWriter 16/600)]{A length product length le{A length product exch 0
exch getinterval eq{pop true exit}if}{pop}ifelse}forall}{false}ifelse
end{{gsave TR -.1 .1 TR 1 1 scale Rx Ry false RMat{BDot}imagemask
grestore}}{{gsave TR -.1 .1 TR Rx Ry scale 1 1 false RMat{BDot}
imagemask grestore}}ifelse B/QV{gsave newpath transform round exch round
exch itransform moveto Rx 0 rlineto 0 Ry neg rlineto Rx neg 0 rlineto
fill grestore}B/a{moveto}B/delta 0 N/tail{A/delta X 0 rmoveto}B/M{S p
delta add tail}B/b{S p tail}B/c{-4 M}B/d{-3 M}B/e{-2 M}B/f{-1 M}B/g{0 M}
B/h{1 M}B/i{2 M}B/j{3 M}B/k{4 M}B/w{0 rmoveto}B/l{p -4 w}B/m{p -3 w}B/n{
p -2 w}B/o{p -1 w}B/q{p 1 w}B/r{p 2 w}B/s{p 3 w}B/t{p 4 w}B/x{0 S
rmoveto}B/y{3 2 roll p a}B/bos{/SS save N}B/eos{SS restore}B end

%%EndProcSet
%%BeginProcSet: 8r.enc
% @@psencodingfile@{
%   author = "S. Rahtz, P. MacKay, Alan Jeffrey, B. Horn, K. Berry",
%   version = "0.6",
%   date = "22 June 1996",
%   filename = "8r.enc",
%   email = "kb@@mail.tug.org",
%   address = "135 Center Hill Rd. // Plymouth, MA 02360",
%   codetable = "ISO/ASCII",
%   checksum = "119     662    4424",
%   docstring = "Encoding for TrueType or Type 1 fonts to be used with TeX."
% @}
% 
% Idea is to have all the characters normally included in Type 1 fonts
% available for typesetting. This is effectively the characters in Adobe
% Standard Encoding + ISO Latin 1 + extra characters from Lucida.
% 
% Character code assignments were made as follows:
% 
% (1) the Windows ANSI characters are almost all in their Windows ANSI
% positions, because some Windows users cannot easily reencode the
% fonts, and it makes no difference on other systems. The only Windows
% ANSI characters not available are those that make no sense for
% typesetting -- rubout (127 decimal), nobreakspace (160), softhyphen
% (173). quotesingle and grave are moved just because it's such an
% irritation not having them in TeX positions.
% 
% (2) Remaining characters are assigned arbitrarily to the lower part
% of the range, avoiding 0, 10 and 13 in case we meet dumb software.
% 
% (3) Y&Y Lucida Bright includes some extra text characters; in the
% hopes that other PostScript fonts, perhaps created for public
% consumption, will include them, they are included starting at 0x12.
% 
% (4) Remaining positions left undefined are for use in (hopefully)
% upward-compatible revisions, if someday more characters are generally
% available.
% 
% (5) hyphen appears twice for compatibility with both ASCII and Windows.
% 
/TeXBase1Encoding [
% 0x00 (encoded characters from Adobe Standard not in Windows 3.1)
  /.notdef /dotaccent /fi /fl
  /fraction /hungarumlaut /Lslash /lslash
  /ogonek /ring /.notdef
  /breve /minus /.notdef 
% These are the only two remaining unencoded characters, so may as
% well include them.
  /Zcaron /zcaron 
% 0x10
 /caron /dotlessi 
% (unusual TeX characters available in, e.g., Lucida Bright)
 /dotlessj /ff /ffi /ffl 
 /.notdef /.notdef /.notdef /.notdef
 /.notdef /.notdef /.notdef /.notdef
 % very contentious; it's so painful not having quoteleft and quoteright
 % at 96 and 145 that we move the things normally found there down to here.
 /grave /quotesingle 
% 0x20 (ASCII begins)
 /space /exclam /quotedbl /numbersign
 /dollar /percent /ampersand /quoteright
 /parenleft /parenright /asterisk /plus /comma /hyphen /period /slash
% 0x30
 /zero /one /two /three /four /five /six /seven
 /eight /nine /colon /semicolon /less /equal /greater /question
% 0x40
 /at /A /B /C /D /E /F /G /H /I /J /K /L /M /N /O
% 0x50
 /P /Q /R /S /T /U /V /W
 /X /Y /Z /bracketleft /backslash /bracketright /asciicircum /underscore
% 0x60
 /quoteleft /a /b /c /d /e /f /g /h /i /j /k /l /m /n /o
% 0x70
 /p /q /r /s /t /u /v /w
 /x /y /z /braceleft /bar /braceright /asciitilde
 /.notdef % rubout; ASCII ends
% 0x80
 /.notdef /.notdef /quotesinglbase /florin
 /quotedblbase /ellipsis /dagger /daggerdbl
 /circumflex /perthousand /Scaron /guilsinglleft
 /OE /.notdef /.notdef /.notdef
% 0x90
 /.notdef /.notdef /.notdef /quotedblleft
 /quotedblright /bullet /endash /emdash
 /tilde /trademark /scaron /guilsinglright
 /oe /.notdef /.notdef /Ydieresis
% 0xA0
 /.notdef % nobreakspace
 /exclamdown /cent /sterling
 /currency /yen /brokenbar /section
 /dieresis /copyright /ordfeminine /guillemotleft
 /logicalnot
 /hyphen % Y&Y (also at 45); Windows' softhyphen
 /registered
 /macron
% 0xD0
 /degree /plusminus /twosuperior /threesuperior
 /acute /mu /paragraph /periodcentered
 /cedilla /onesuperior /ordmasculine /guillemotright
 /onequarter /onehalf /threequarters /questiondown
% 0xC0
 /Agrave /Aacute /Acircumflex /Atilde /Adieresis /Aring /AE /Ccedilla
 /Egrave /Eacute /Ecircumflex /Edieresis
 /Igrave /Iacute /Icircumflex /Idieresis
% 0xD0
 /Eth /Ntilde /Ograve /Oacute
 /Ocircumflex /Otilde /Odieresis /multiply
 /Oslash /Ugrave /Uacute /Ucircumflex
 /Udieresis /Yacute /Thorn /germandbls
% 0xE0
 /agrave /aacute /acircumflex /atilde
 /adieresis /aring /ae /ccedilla
 /egrave /eacute /ecircumflex /edieresis
 /igrave /iacute /icircumflex /idieresis
% 0xF0
 /eth /ntilde /ograve /oacute
 /ocircumflex /otilde /odieresis /divide
 /oslash /ugrave /uacute /ucircumflex
 /udieresis /yacute /thorn /ydieresis
] def

%%EndProcSet
%%BeginProcSet: texps.pro
%!
TeXDict begin/rf{findfont dup length 1 add dict begin{1 index/FID ne 2
index/UniqueID ne and{def}{pop pop}ifelse}forall[1 index 0 6 -1 roll
exec 0 exch 5 -1 roll VResolution Resolution div mul neg 0 0]/Metrics
exch def dict begin Encoding{exch dup type/integertype ne{pop pop 1 sub
dup 0 le{pop}{[}ifelse}{FontMatrix 0 get div Metrics 0 get div def}
ifelse}forall Metrics/Metrics currentdict end def[2 index currentdict
end definefont 3 -1 roll makefont/setfont cvx]cvx def}def/ObliqueSlant{
dup sin S cos div neg}B/SlantFont{4 index mul add}def/ExtendFont{3 -1
roll mul exch}def/ReEncodeFont{CharStrings rcheck{/Encoding false def
dup[exch{dup CharStrings exch known not{pop/.notdef/Encoding true def}
if}forall Encoding{]exch pop}{cleartomark}ifelse}if/Encoding exch def}
def end

%%EndProcSet
TeXDict begin 39158280 55380996 1000 600 600 (main.dvi)
@start
%DVIPSBitmapFont: Fa cmsy10 5 1
/Fa 1 49 df<120E121FA3121E123EA2123CA312381278A21270A31260A212E012C0A208
157F960B>48 D E
%EndDVIPSBitmapFont
/Fb 204[21 21 21 21 48[{TeXBase1Encoding ReEncodeFont}4
41.511 /Times-Roman rf
%DVIPSBitmapFont: Fd msam9 9 1
/Fd 1 110 df<EC07FCEC1FFF4A7F4A7F9138FC07E049486C7EECF00149486C7EA2267F
FFC090387FFFC0B516E0A26C496D13C0CCFCAC267FFF8090383FFFC0B56C4913E0A26C17
C0260003E001F8C7FCA26D6C485AECF8036D6C485A91387FFFC06E5B6E90C8FCEC07FC33
267CA53C>109 D E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Fe cmex9 8.09999 2
/Fe 2 92 df<0070160700F8EE0F80B3B3AB6C161F007C1700A2007E5E003E163E003F16
7E6C6C5D6D1401000F5ED807F0EC07F06C6C4A5A01FE143F6C6C6CEBFFC027007FF00790
C7FC6DB55A010F14F8010314E001001480DA1FFCC8FC31437C7F3A>83
D<0078F001E000FCF003F0B3B3B3AB6C1807007E19E0A3007F180F6C19C0A26D171F001F
19806D173F6C6CEF7F00A26C6C17FE6C6C4C5A6D16036C6C4C5A6C6C6CED1FF06D6C4B5A
D93FF0EDFFC0D91FFC02035B6DB46C011F90C7FC01039039F801FFFC6D90B65A6D6C15E0
021F158002074AC8FC020014F0030F90C9FC445E7C7F4D>91 D E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Ff cmex10 9 4
/Ff 4 22 df<167016E0ED01C0ED0380ED0700150E5D153C5D5D5D14014A5A4A5A140F92
C7FC141E143E143C5CA25C13015C13035C13075C130FA249C8FCA2133EA35BA25BA31201
5BA212035BA21207A25BA2120FA25BA2121FA390C9FCA25AA5123EA2127EA8127C12FCB3
AA127C127EA8123EA2123FA57EA27FA3120FA27FA21207A27FA21203A27F1201A27F1200
A3137CA27FA37FA26D7EA213078013038013018013001478A280143E141E808114076E7E
6E7E140081157881151C8181ED0380ED01C0ED00E0167024B2718237>18
D<12E012707E7E7E7E6C7E7F6C7E6C7E137013787F7F131F7F6D7E8013036D7EA26D7E80
1478147C143C143E141E141FA26E7EA26E7EA36E7EA26E7EA3811400A281157CA2157EA2
153EA2153FA281A21680A3150FA216C0A51507A216E0A8150316F0B3AA16E01507A816C0
A2150FA51680A2151FA31600A25DA2153EA2157EA2157CA215FC5DA214015DA34A5AA24A
5AA34A5AA24AC7FCA2141E143E143C147C147814F85C495AA2495A13075C49C8FC5B131E
5B5B137013F0485A485A5B48C9FC120E5A5A5A5A24B27D8237>I<B512E0A400F0C7FCB3
B3B3B3B3B3B3B3B3A8B512E0A413B26E8227>I<B512E0A4EA0001B3B3B3B3B3B3B3B3B3
A8B5FCA413B27F8227>I E
%EndDVIPSBitmapFont
/Fg 134[37 37 54 37 42 25 29 33 1[42 37 42 62 21 42 1[21
42 37 25 33 42 33 42 37 12[50 2[58 46 1[54 71 4[58 1[46
3[50 8[37 37 37 37 37 37 37 37 37 37 1[19 25 42[42 2[{
TeXBase1Encoding ReEncodeFont}44 74.7198 /Times-Bold
rf /Fh 206[33 33 48[{TeXBase1Encoding ReEncodeFont}2
66.4176 /Times-Roman rf
%DVIPSBitmapFont: Fi cmmi10 7 2
/Fi 2 64 df<127812FCA212FEA2127E1206A4120CA21218A212301260124007117B8510
>59 D<1302A41307A700F814F8393FCF9FE0000FB512800003EBFE00C613F8EB3FE06D5A
497E133DEB78F0EB7070497EA248487E48487EEB000600067F00047F1D1D809C1D>63
D E
%EndDVIPSBitmapFont
/Fj 139[16 23 4[29 4[16 17[48 2[32 5[39 11[36 36 65[{
TeXBase1Encoding ReEncodeFont}9 58.1154 /Times-Italic
rf
%DVIPSBitmapFont: Fk cmr10 7 2
/Fk 2 42 df<130C13181330136013C01201EA038013005A1206120EA25AA2123C1238A2
1278A21270A312F0AF1270A31278A21238A2123C121CA27EA2120612077E1380EA01C012
00136013301318130C0E3B7BAB17>40 D<12C012607E7E7E120E7E7E1380120113C0A2EA
00E0A213F01370A21378A21338A3133CAF1338A31378A21370A213F013E0A2EA01C0A213
80120313005A120E120C5A5A5A5A0E3B7DAB17>I E
%EndDVIPSBitmapFont
/Fl 176[50 79[{TeXBase1Encoding ReEncodeFont}1 83.9849
/ZapfChancery-MediumItalic rf
%DVIPSBitmapFont: Fm cmsy10 9 27
/Fm 27 107 df<B812F8A32D037A933A>0 D<123C127E12FFA4127E123C08087A9615>I<
0060156000E015E06C14010078EC03C06CEC07806CEC0F006C141E6C6C5B6C6C5B6C6C5B
6C6C485A90387803C06D485A6D48C7FCEB0F1EEB07BCEB03F86D5A6D5A497E497EEB07BC
EB0F1EEB1E0F496C7E496C7E496C7E48486C7E4848137848487F48C77E001E8048EC0780
48EC03C048EC01E048140000601560232575A43A>I<130C131EA600E0EB01C000F01303
38FC0C0F00FE131F003FEB3F00380FCCFC3803EDF03800FFC0013FC7FCA2EBFFC03803ED
F0380FCCFC383F0C3F00FEEB1FC000FC130F38F01E0300E01301000090C7FCA6130C1A20
7BA225>I[<EC03C04A7E4A7E4A7EA46E5A6E5A6E5A91C9FCAAB9FCA3CBFCAAEC03C04A7E
4A7E4A7EA46E5A6E5A6E5A>48 43 124 167 57 I<EC0FF891B57E903903F0C7E090390F
00C078011C141C0178140F01E0EC038048486E7E48486E7E48C7147000061630000E1638
48820018160C0038160E0030160600701607006082A300E01780481601A3B9FCA200C0C7
38C00001A46C160300601700A300705E003016060038160E0018160C001C161C6C5E0006
1630000716706C6C5D6C6C4A5A6C6C4A5A0178020FC7FC011C141C010F1478903903F0C7
E00100B51280DA0FF8C8FC31337CAB3A>8 D<EB3FC0EBFFF0000313FC487F487F481480
4814C0A24814E0A2B612F0A86C14E0A26C14C0A26C14806C14006C5B6C5BC613F0EB3FC0
1C1C7CA025>15 D<023FB512F80103B6FC130FD91FE0C8FC017EC9FC13F8485AEA03C048
5A48CAFC120E121E5A123812781270A312F05AA77E1270A312781238123C7E120E120F6C
7E6C7EEA01F06C7E137EEB1FE06DB612F81303EB003F91C9FCAD003FB712F85A7E2D3D7A
AF3A>18 D<173817F81603EE0FE0EE3F80EEFE00ED03F8ED0FE0ED3F8003FEC7FCEC03F8
EC0FE0EC3F8002FEC8FCEB03F8EB0FE0EB3F8001FEC9FCEA03F8EA0FE0EA3F8000FECAFC
12F812FEEA3F80EA0FE0EA03F8EA00FEEB3F80EB0FE0EB03F8EB00FEEC3F80EC0FE0EC03
F8EC00FEED3F80ED0FE0ED03F8ED00FEEE3F80EE0FE0EE03F8160017381700AD007FB712
F0B812F8A22D3D7AAF3A>20 D<12E012F812FEEA3F80EA0FE0EA03F8EA00FEEB3F80EB0F
E0EB03F8EB00FEEC3F80EC0FE0EC03F8EC00FEED3F80ED0FE0ED03F8ED00FEEE3F80EE0F
E0EE03F816001603EE0FE0EE3F80EEFE00ED03F8ED0FE0ED3F8003FEC7FCEC03F8EC0FE0
EC3F8002FEC8FCEB03F8EB0FE0EB3F8001FEC9FCEA03F8EA0FE0EA3F80007ECAFC12F812
E0CBFCAD007FB712F0B812F8A22D3D7AAF3A>I<017FED01803803FFC04813F0487F381F
C1FE261E007F140348EB1F80486D6CEB07000070EB03E0DA01F85B486D6C131E037F5B48
91383FC1FC92380FFFF86F5B03015B6F6CC7FC31117C9A3A>24 D<14E0A213015CA21303
5C1307A249CCFC130E131E5B5B5B485AEA07C0EA1F80007FBA12C0BBFC7ED81F80CCFCEA
07C0EA01E06C7E13787F7F130E130F6D7EA21303801301A2801300A242277CA54B>32
D<EF01C0A2841700A28418701878A284181C181E84727E727E727EF000F8197EBB12801A
C01A80CCEA7E0019F8F001E04E5A4E5A4EC7FC181E181C183C60A2187018F060A2170160
A242277CA54B>I<02E0EC01C0A20101824A1400A20103824A157001071678A249C97E01
0E161C011E161E498249707E49707E4848707ED807C0EE00F8D81F80177E007FBA1280BB
12C06C1980D81F80CAEA7E00D807C017F8D801E0EE01E06C6C4C5A01784C5A6D4CC7FC6D
161E010E161C010F163C6D6C5DA2010316706E15F001015EA26E140101005EA242277CA5
4B>36 D<017FED01803803FFC04813F0487F381FC1FE261E007F140348EB1F80486D6CEB
07000070EB03E0DA01F85B486D6C131E037F5B4891383FC1FC92380FFFF86F5B03015B6F
6CC7FCCCFCAE007FB81280B9FCA231227CA23A>39 D<EE01C0A28316008317781738173C
8383717E717EB97E8484CB123E84F007C0F003F0F000FEF13FC0191FF17E00F001F8F007
E0F00F80061EC7FC187CB95A18E060CAEA07804DC8FCA2171E5F173817785F5F16015FA2
422B7CA74B>41 D<1638A21678167016F016E0150116C015031680150716005D150E151E
151C153C15381578157015F05D14015D14035D140792C7FC5C140E141E141C143C143814
78147014F05C13015C13035C130791C8FC5B130E131E131C133C13381378137013F05B12
015B12035B120790C9FC5A120E121E121C123C12381278127012F05A1260254776B500>
54 D<12E0AC12F8A312E0AC051B7C9F00>I<0060ED018000E015036C150700701600A200
785D0038150EA2003C151E001C151C001E153C000E1538A2000F15786C1570A26D14F000
035D90B6FC6C5DA29038E0000300005DA26D1307017091C7FCA201785B0138130E013C13
1E011C131CA2011E133C010E1338A2010F13786D1370EC80F001035BA214C101015BA214
E301005B14F70277C8FCA2147F143EA3141CA2293680B32A>I<B71280A3C81203B3A300
3FB6FC5AA2C81203B3A4B7FCA321347CB32A>I<0060ED018000E01503B3B06C15070070
160000785D0038150E003C151E6C5D6C5DD807C0495AD803F0EB07E06CB4EB7FC06C6CB5
C7FC011F13FC010113C029307CAD32>91 D<903801FFC0011F13FC017F13FF3A01FF007F
C0D803F0EB07E0D807C0EB01F048C81278001E8148810038150E0078150F00708100F016
80481503B3B00060150129307CAD32>I<141CA2143EA3147F1477ECF78014E301017F14
C1A201037F148001077FEC0070491378010E1338A2011E133C011C131C013C131E013813
0E0178130F01707FA201F080491303000181491301A200038149130000078190C8127048
1578000E1538A2001E153C001C151C003C151E0038150E0078150F007081A200F0168048
1503160129307CAD32>94 D<00E0ED018016036C150700701600A200785D0038150E003C
151E001C151C001E153C000E1538A2000F15786C15706D14F000035D6D130100015DA26D
130300005D6D1307017091C7FCA201785B0138130E013C131E011C131C011E133C010E13
38A2010F13786D1370EC80F001035B14C101015BA214E301005B14F70277C8FC147F143E
A3141CA229307CAD32>I<EC0FC0147F903801FC00EB03F0EB07C0495AA249C7FCB3A613
3E133C137C485AEA03E0EAFF8000FCC8FCB47EEA03E0EA01F8EA007C133C133E7FB3A66D
7EA26D7EEB03F0EB01FC9038007FC0140F1A4B7BB725>102 D<12FCEAFFC0EA0FF0EA01
F8EA007C7FA27FB3A66D7EA26D7E6D7EEB00F8EC7FC0140F147FECF800EB03E0495A495A
A249C7FCB3A6133EA25B485AEA0FF0EAFFC000FCC8FC1A4B7BB725>I<12E0B3B3B3B3A3
034B77B715>106 D E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Fn msbm9 9 2
/Fn 2 116 df<267FFFC0903807FFF0B56C5B6C6D7F260F00709038007E002607807814
3C6C6C6C141C6C6C7E6D7E8001F87F6D6C7E9038DE01E09038CF00F001C71370EC807890
38C3C03C9038C1E01E9038C0F00FEC78070238138091383C03C091381E01E091380F00F0
913807807002031378EDC03C913801E01E913800F00FED78070338139C92383C03DC9238
1E01FCED0F00ED07800303137CEEC03C923801E01CED00F01678163C161C161E160FEE07
9CEE03DC1601486C15FC486C1400267FFF80147CB5153C6C161CCA120C34347FB22F>78
D<D97F8015602601FFF015E000077F4813FE486D7E486E130181D87FC001F81303902600
1FFEEB07C0007C6D6C131F480103EBE07F48010090B5128081486E1400030F5B03035B6F
13F000609138003FC033127C9B3C>115 D E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Fp cmsy10 7 2
/Fp 2 49 df<B712C0A322037B8F2D>0 D<EA03E013F01207A313E0120FA213C0A3EA1F
80A31300A2123EA3123CA2127C1278A3127012F05AA20C1D7E9F10>48
D E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Fq cmmi10 9 6
/Fq 6 94 df<123C127E12FFA4127E123C08087A8715>58 D<123C127EB4FCA21380A212
7F123D1201A412031300A25A1206120E120C5A12385A122009177A8715>I<173817F816
03EE0FE0EE3F80EEFE00ED03F8ED0FE0ED3F8003FEC7FCEC03F8EC0FE0EC3F8002FEC8FC
EB03F8EB0FE0EB3F8001FEC9FCEA03F8EA0FE0EA3F8000FECAFC12F812FEEA3F80EA0FE0
EA03F8EA00FEEB3F80EB0FE0EB03F8EB00FEEC3F80EC0FE0EC03F8EC00FEED3F80ED0FE0
ED03F8ED00FEEE3F80EE0FE0EE03F8160017382D2D7AA83A>I<12E012F812FEEA3F80EA
0FE0EA03F8EA00FEEB3F80EB0FE0EB03F8EB00FEEC3F80EC0FE0EC03F8EC00FEED3F80ED
0FE0ED03F8ED00FEEE3F80EE0FE0EE03F816001603EE0FE0EE3F80EEFE00ED03F8ED0FE0
ED3F8003FEC7FCEC03F8EC0FE0EC3F8002FEC8FCEB03F8EB0FE0EB3F8001FEC9FCEA03F8
EA0FE0EA3F8000FECAFC12F812E02D2D7AA83A>62 D<1460A514F0A800F8EC01F03A7FC1
F83FE0001FB612800007ECFE00000114F86C6C13E0010F90C7FCEB03FC497EA2497E9038
1F9F80140F90383E07C0A2496C7EEB7801496C7E4848137849133848487F6CC712082423
80A325>I<EB0180A41218AC14F01303131F13FF121F5AB512C0148013F11381EAFC0112
F81218B3A214F01303131F13FF121F5AB512C0148013F11381EAFC0112F81218A790C7FC
A414477CB51D>93 D E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Fr cmr10 9 6
/Fr 6 94 df<EB0180EB030013065B5B13385B5BA2485AA2485A120790C7FCA25A120E12
1EA2121C123CA312381278A512F8A25AAD7EA21278A51238123CA3121C121EA2120E120F
7EA27F12036C7EA26C7EA213707F13187F7F7FEB0180114B79B71D>40
D<12C012607E7E7E120E7E6C7EA26C7EA26C7E7F1370A213781338133CA2131C131EA313
0E130FA51480A21307AD130FA21400A5130E131EA3131C133CA2133813781370A213F05B
485AA2485AA248C7FC120E120C5A5A5A5A114B7CB71D>I<EC01C0B3A6B91280A3C7D801
C0C8FCB3A631337CAB3A>43 D<B91280A3CCFCADB91280A331137C9B3A>61
D<EAFFE0A3EAE000B3B3B3AFEAFFE0A30B4B78B715>91 D<EAFFE0A31200B3B3B3AF12FF
A30B4B7FB715>93 D E
%EndDVIPSBitmapFont
/Fs 139[33 45 41 5[41 5[39 102[{}5 74.7198 /Symbol rf
/Ft 133[29 33 33 50 33 37 21 29 29 37 37 37 37 54 21
33 21 21 37 37 21 33 37 33 37 37 9[62 46 54 42 37 46
54 46 54 50 62 42 2[25 1[54 46 46 54 50 46 46 1[37 12[37
37 37 1[19 25 19 4[25 36[37 2[{TeXBase1Encoding ReEncodeFont}55
74.7198 /Times-Italic rf /Fu 134[29 1[42 29 29 16 23
19 29 29 29 29 45 16 29 1[16 29 29 19 26 29 26 29 26
12[36 3[32 28[29 29 29 29 16 15 1[15 41[32 2[{
TeXBase1Encoding ReEncodeFont}33 58.1154 /Times-Roman
rf /Fv 104[75 37 27[33 37 37 54 37 37 21 29 25 37 37
37 37 58 21 37 21 21 37 37 25 33 37 33 37 33 25 2[25
1[25 46 54 1[71 54 54 46 42 50 54 42 54 54 66 46 54 29
25 54 54 42 46 54 50 50 54 5[21 21 37 37 37 37 37 37
37 37 37 37 21 19 25 19 2[25 25 25 22[25 12[42 42 2[{
TeXBase1Encoding ReEncodeFont}78 74.7198 /Times-Roman
rf /Fw 133[44 50 50 72 50 55 33 39 44 1[55 50 55 83 28
55 1[28 55 50 33 44 55 44 55 50 9[100 3[55 72 78 61 78
72 94 66 2[39 2[61 2[72 66 72 7[50 50 50 50 50 50 50
50 50 2[25 33 42[55 2[{TeXBase1Encoding ReEncodeFont}50
99.6264 /Times-Bold rf
%DVIPSBitmapFont: Fx cmsy10 12 2
/Fx 2 104 df<ED0FE015FF913803FC00EC0FE0EC3FC04A5A4AC7FC5C495AA2495AB3AD
495AA2495A131F495A495A01FEC8FCEA07F8EAFFE0A2EA07F8EA00FEEB7F806D7E6D7E13
0F6D7EA26D7EB3AD6D7EA26D7E806E7E6E7EEC0FE0EC03FC913800FFE0150F236479CA32
>102 D<12FEEAFFE0EA07F8EA00FEEB7F806D7E6D7E130F6D7EA26D7EB3AD6D7EA26D7E
806E7E6E7EEC0FE0EC03FC913800FFE0A2913803FC00EC0FE0EC3FC04A5A4AC7FC5C495A
A2495AB3AD495AA2495A131F495A495A01FEC8FCEA07F8EAFFE048C9FC236479CA32>I
E
%EndDVIPSBitmapFont
/Fy 75[30 58[45 2[45 50 25 45 30 1[50 50 50 75 20 45
1[20 50 1[25 50 50 45 50 50 10[60 65 1[60 2[60 2[75 1[60
45 25 5[65 60 1[91 5[25 1[50 3[50 1[50 3[25 1[25 27[30
16[{TeXBase1Encoding ReEncodeFont}39 89.6632 /Helvetica
rf /Fz 134[75 2[75 1[45 75 52 1[82 82 82 120 37 2[37
1[82 45 75 1[75 1[75 16[90 6[37 2[82 1[97 97 21[45 45[{
TeXBase1Encoding ReEncodeFont}22 134.495 /Helvetica-Bold
rf end
%%EndProlog
%%BeginSetup
%%Feature: *Resolution 600dpi
TeXDict begin
%%PaperSize: A4

%%EndSetup
%%Page: 1 1
1 0 bop 146 247 a Fz(Fr)m(om)38 b(Dec)m(larative)f(to)h(Imperative)f
(Pr)m(oof-Carr)q(ying)i(Pr)m(ograms)1481 610 y Fy(J)1536
608 y(\264)1526 610 y(an)24 b(K)1705 592 y(\020)1710
610 y(luka,)g(P)l(aul)h(J)m(.)g(V)-7 b(oda)858 710 y(Institute)24
b(of)h(Inf)m(or)r(matics)o(,)e(Comenius)h(Univ)n(ersity)f(Br)o(atisla)n
(v)n(a,)1080 809 y(Mlynsk)1370 807 y(\264)1360 809 y(a)g(dolina,)h(842)
h(48)g(Br)o(atisla)n(v)n(a,)e(Slo)o(v)n(akia,)1227 914
y(email:)30 b Fx(f)p Fy(kluka,v)n(oda)p Fx(g)p Fy(@fmph.uniba.sk)-150
1353 y Fw(Abstract)-150 1520 y Fv(W)-6 b(e)19 b(propose)j(a)e
(methodology)i(for)d(the)h(translation)g(of)g(high-le)n(v)o(el)h
(declar)o(-)-150 1603 y(ati)n(v)o(e)i(programs)h(into)f(lo)n(w-le)n(v)o
(el)h(declarati)n(v)o(e)f(programs.)37 b(The)23 b(latter)g(are)-150
1686 y(such)i(that)f(the)o(y)h(can)f(be)h(immediately)g(transformed)g
(to)f(imperati)n(v)o(e)h(pro-)-150 1769 y(grams.)48 b(The)27
b(translation)g(automatically)g(generates)h(correctness)g(prop-)-150
1852 y(erties)h(connecting)i(the)e(results)g(of)h(the)f(high-le)n(v)o
(el)h(and)g(lo)n(w-le)n(v)o(el)g(pro-)-150 1935 y(grams.)47
b(Moreo)o(v)o(er)m(,)30 b(the)d(correctness)h(properties)f(should)h(be)
g(automati-)-150 2018 y(cally)c(pro)o(v)n(able.)38 b(This)24
b(transfers)f(an)o(y)i(pre)n(viously)g(pro)o(v)o(ed)f(properties)h(of)
-150 2101 y(the)i(high-le)n(v)o(el)h(programs)h(to)e(the)g(pro)o(v)o
(ed)h(properties)g(of)f(the)h(lo)n(w-le)n(v)o(el)-150
2184 y(programs.)36 b(The)23 b(lo)n(w-le)n(v)o(el)h(proofs)f(can)h(be)f
(then)h(check)o(ed)h(by)e(a)g(\(dumb\))-150 2267 y(proof)18
b(check)o(er)l(.)24 b(In)18 b(this)f(sense)i(the)e(generated)i
(programs)g(carry)f(their)f(o)n(wn)-150 2350 y(correctness)j(proofs.)
-150 2516 y(The)e(lo)n(w-le)n(v)o(el)g(programs)h(w)o(ork)f(e)o
(xplicitly)g(with)f(the)h(store)g(and)h(it)e(is)g(pos-)-150
2599 y(sible)k(to)g(specify)g(its)g(reuse)g(which)g(means)h(that,)f
(for)g(instance,)h(a)e(declara-)-150 2682 y(ti)n(v)o(e)15
b(array)h(obtained)g(by)g(a)g(modi\002cation)g(of)f(an)h(ar)o(gument)g
(array)f(can)h(reuse)-150 2765 y(the)23 b(store)g(of)h(the)f(ar)o
(gument)h(array)-5 b(.)36 b(W)-6 b(e)22 b(outline)i(the)f(methods)h(of)
f(e)o(xten-)-150 2848 y(sible,)17 b(programmer)i(speci\002ed,)e
(representation)h(of)g(high-le)n(v)o(el)g(data)f(types)-150
2932 y(in)i(the)g(store.)-150 3098 y(W)-6 b(e)18 b(ar)o(gue)h(that)g
(the)g(nai)n(v)o(e)g(use)g(of)g(the)g(imperati)n(v)o(e)g(style)g(of)f
(w)o(orking)i(with)-150 3181 y(arrays)f(in)g(a)g(declarati)n(v)o(e)h
(setting)f(leads)g(to)g(unmanageable)i(proofs)f(of)f(cor)o(-)-150
3264 y(rectness)e(properties.)23 b(W)-6 b(e)16 b(propose)i(a)f(some)n
(what)h(surprising)f(style)g(of)f(v)o(er)o(-)-150 3347
y(i\002cation)29 b(of)g(high-le)n(v)o(el)h(array)g(programs)g(where)f
(we)h(deteriorate)f(their)-150 3430 y(ef)n(\002cienc)o(y)23
b(in)g(order)g(to)g(f)o(acilitate)f(easier)h(correctness)h(proofs.)36
b(The)22 b(ef)n(\002-)-150 3513 y(cienc)o(y)e(is)e(restored)h(by)h(the)
f(translation.)-150 3716 y Fw(1)99 b(Intr)n(oduction)-150
3883 y Fv(W)m(ith)28 b(compilers)i(for)f(high-le)n(v)o(el)h(languages)g
(there)g(is)e(almost)h(no)h(need)-150 3966 y(to)23 b(program)g(in)g
(assembly)g(languages.)36 b(Some)23 b(of)g(the)g(modern)g(language)-150
4049 y(processors)d(\(usually)g(for)f(declarati)n(v)o(e)g(languages\))i
(come)f(with)e(their)h(o)n(wn)-150 4132 y(intelligent)k(proof)h
(assistants)f(where)g(one)h(can)g(pro)o(v)o(e)g(properties)f(of)h(pro-)
-150 4215 y(grams.)f(Such)17 b(inte)o(grated)h(systems)f(are)h(so)f
(comple)o(x)h(that)f(the)g(present)h(day)-150 4298 y(technology)28
b(does)g(not)e(permit)h(their)f(v)o(eri\002cation.)46
b(As)26 b(a)h(consequence,)-150 4381 y(one)34 b(has)g(no)g(guarantee)h
(that)f(the)f(v)o(eri\002ed)h(programs)h(remain)f(correct)-150
4464 y(when)28 b(translated)h(to)e(lo)n(w-le)n(v)o(el)h(ones.)51
b(Thus)28 b(there)g(is)f(a)h(genuine)h(need)-149 5070
y Fu(Permission)20 b(to)f(mak)o(e)h(digital)f(or)h(hard)f(copies)g(of)g
(all)g(or)h(part)f(of)h(this)f(w)o(ork)h(for)g(personal)f(or)-149
5136 y(classroom)d(use)g(is)g(granted)g(without)h(fee)f(pro)o(vided)h
(that)f(copies)g(are)g(not)g(made)g(or)h(distrib)o(uted)-149
5203 y(for)e(pro\002t)f(or)g(commercial)f(adv)o(antage)g(and)g(that)g
(copies)g(bear)g(this)h(notice)f(and)g(the)h(full)g(citation)-149
5269 y(on)i(the)g(\002rst)g(page.)k(T)-5 b(o)15 b(cop)o(y)h(otherwise,)
f(to)h(republish,)g(to)g(post)f(on)h(serv)o(ers)f(or)h(to)f(redistrib)o
(ute)-149 5336 y(to)g(lists,)f(requires)h(prior)g(speci\002c)f
(permission)h(and/or)g(a)f(fee.)2049 1353 y Fv(\(at)21
b(least)f(for)h(the)g(mission)h(critical)e(programs\))i(to)f(transfer)g
(the)g(proofs)h(of)2049 1436 y(properties)f(of)g(high-le)n(v)o(el)g
(programs)g(to)g(the)f(proofs)i(of)e(properties)h(of)g(the)2049
1519 y(translated)28 b(lo)n(w-le)n(v)o(el)g(programs.)52
b(The)28 b(lo)n(w-le)n(v)o(el)g(proofs)h(can)f(be)g(then)2049
1602 y(v)o(eri\002ed)19 b(by)g(a)g(simple)g(\(dumb\))h(proof)f(check)o
(er)l(.)2049 1768 y(The)e(\002rst)e(of)i(the)g(tw)o(o)f(results)h(of)f
(this)h(paper)g(is)f(the)h(proposal)h(of)e(a)h(method-)2049
1851 y(ology)33 b(for)f(the)g(transfer)g(of)g(proofs.)63
b(W)-6 b(e)32 b(ha)o(v)o(e)g(used)h(in)f(teaching)h(for)2049
1934 y(se)n(v)o(en)16 b(years)g(no)n(w)f(a)g(high-le)n(v)o(el)h
(declarati)n(v)o(e)g(programming)h(language)g(CL)2049
2017 y(\(Clausal)h(Language\))i(whose)g(formal)e(theory)i(is)e(the)h
(simplest)f(non-tri)n(vial)2049 2100 y(logical)f(theory:)22
b Ft(P)-6 b(eano)17 b(Arithmetic)f Fv(\(P)-7 b(A\).)15
b(Our)i(implementation)g(permits)2049 2183 y(the)g(v)o(eri\002cation)f
(of)h(CL)f(programs)h(with)g(the)f(help)h(of)g(an)g(intelligent)f
(proof)2049 2267 y(assistant)j(supervising)g(the)g(construction)h(of)e
(proofs)i(in)e(P)-7 b(A.)18 b(CL)g(is)g(imple-)2049 2350
y(mented)k(as)g(a)f(serv)o(er)g(communicating)i(with)e(a)h(web)f(bro)n
(wser)h(supporting)2049 2433 y(the)c(mathematical)h(markup)g(language)h
(\(MathML\).)f(F)o(or)e(an)i(online)g(demo)2049 2516
y(see)g([3].)2049 2682 y(W)-6 b(e)31 b(will)f(de\002ne)h(a)g
(sublanguage)j(of)d(CL,)f(called)h Ft(P)-6 b(eano)32
b(P)-6 b(ascal)31 b Fv(\(PP\),)2049 2765 y(which,)c(while)e(still)f
(declarati)n(v)o(e,)k(is)d(v)o(ery)g(close)h(to)f(lo)n(w-le)n(v)o(el)h
(assembly)2049 2848 y(language)33 b(programs.)60 b(PP)30
b(programs)i(w)o(ork)g(with,)i(say)d(32-bit,)j(w)o(ords)2049
2931 y(holding)25 b(small)e(numbers)i(and)f(pointers.)38
b(PP)23 b(programs)h(directly)g(access)2049 3014 y(and/or)c(modify)f
(memory)h(vie)n(wed)f(as)g(partial)g(functions)h(o)o(v)o(er)f(w)o
(ords.)2049 3180 y(W)-6 b(e)25 b(will)g(outline)h(a)g(method)g(for)g
(the)g(automatic)g(translation)g(of)g(a)f(high-)2049
3263 y(le)n(v)o(el)17 b(CL)g(function)29 b Ft(f)f Fv(to)17
b(a)g(lo)n(w-le)n(v)o(el)h(PP)e(function)29 b Ft(f)3476
3236 y Fp(0)3513 3263 y Fv(which)18 b(can)g(be)f(then)2049
3346 y(directly)e(transformed)g(to)g(a)g(machine)h(le)n(v)o(el)f(or)f
(a)h(C)g(program.)22 b(The)15 b(transla-)2049 3429 y(tor)g(formulates)h
(in)f(P)-7 b(A)15 b(a)g(correctness)h(property)g(tying)g(together)g
(the)f(v)n(alues)2049 3512 y(of)34 b Ft(f)f Fv(and)i
Ft(f)2373 3485 y Fp(0)2393 3512 y Fv(.)g(Just)23 b(as)g(we)f(do)i(not)f
(wish)g(to)f(program)i(at)f(the)g(le)n(v)o(el)g(of)g(PP)-8
b(,)2049 3595 y(we)16 b(do)h(not)g(wish)f(to)g(pro)o(v)o(e)h(the)g
(correctness)g(property)g(by)g(hand.)24 b(Based)16 b(on)2049
3678 y(our)i(long)g(e)o(xperience)h(with)f(the)f(v)o(eri\002cation)h
(of)g(CL)f(functions)h(in)g(P)-7 b(A)17 b(and)2049 3761
y(of)27 b(the)h(second)g(author')l(s)g(e)o(xperience)h(with)e
Ft(pr)m(oof)g(theory)h Fv(\(a)f(branch)i(of)2049 3844
y(mathematical)23 b(logic)f(concerned)i(with)e(the)g(\(possibly)h
(automatic\))g(trans-)2049 3927 y(formation)h(of)f(proofs\))h(we)f(ha)o
(v)o(e)g(a)h(reason)g(to)f(belie)n(v)o(e)h(that)f(the)g(proof)h(of)2049
4010 y(the)29 b(correctness)h(property)f(can)h(be)f(automatically)g
(constructed)h(by)g(the)2049 4093 y(translator)l(.)45
b(The)27 b(correctness)g(property)-5 b(,)29 b(no)n(w)e(a)f(theorem)i
(of)e(P)-7 b(A,)25 b(auto-)2049 4176 y(matically)d(transfers)f(the)h
(properties)g(of)33 b Ft(f)f Fv(to)22 b(the)f(properties)h(of)33
b Ft(f)3847 4149 y Fp(0)3867 4176 y Fv(.)e(This)2049
4259 y(is)19 b(the)g(subject)g(of)g(the)g(PhD)f(thesis)h(of)g(the)g
(\002rst)f(author)l(.)2049 4425 y(Declarati)n(v)o(e)33
b(PP)f(functions)i(transformed)g(to)f(imperati)n(v)o(e)h(C)f(programs)
2049 4508 y(permit)21 b(in-place)h(modi\002cation)g(of)f(memory)-5
b(.)31 b(Thus)21 b(list)g(processing)i(pro-)2049 4591
y(grams)h(can)g(be)g(transformed)g(into)f(f)o(ast)h(array)f(processing)
i(programs)g(en-)2049 4674 y(jo)o(ying)33 b(the)e(constant)i(time)e
(inde)o(xing)h(and)h(sa)o(vings)f(of)f(pairing)h(opera-)2049
4757 y(tions)26 b(\()p Ft(cons)p Fv(\).)43 b(The)26 b(second)h(result)e
(of)h(the)f(paper)i(is)e(a)h(proposal)g(for)g(the)2049
4840 y(methodology)32 b(for)e(the)g(v)o(eri\002cation)g(of)g(such)g
(programs.)57 b(W)-6 b(e)30 b(will)f(ar)o(-)2049 4923
y(gue)34 b(that)g(the)g(`nai)n(v)o(e')g(mimicking)g(in)g(high-le)n(v)o
(el)g(programs)h(of)f(array)2049 5006 y(inde)o(xing/modi\002cation)j
(via)e(corresponding)i(list)d(operations)i(leads)g(to)2049
5089 y(programs)d(which)f(are)h(quite)f(hard)g(to)g(v)o(erify)-5
b(.)63 b(Analysis)32 b(of)g(this)g(phe-)2049 5172 y(nomenon)g(sho)n(ws)
e(that)g(the)g(culprit)g(is)g(the)g Ft(non-locality)g
Fv(of)g(array)h(pro-)2049 5255 y(cessing.)23 b(Declarati)n(v)o(e)18
b(programs\227in)g(contrast)f(to)h(imperati)n(v)o(e)f(ones)h(with)2049
5338 y(their)f(side)g(ef)n(fects\227restrict)g(the)g(access)h(only)g
(to)f(the)g(ar)o(guments)h(of)f(func-)p eop
%%Page: 2 2
2 1 bop -150 83 a Fv(tions.)45 b(Properties)26 b(of)g(such)h(functions)
g(are)f(thus)g(quite)g(easy)h(to)f(e)o(xpress)-150 166
y(within)h(P)-7 b(A.)26 b(Nai)n(v)o(e)i(use)f(of)h(arrays)f
(reintroduces)h(non-locality)h(because)-150 249 y(array)g(programs)g
(typically)g(recursi)n(v)o(ely)g(operate)g(on)f(their)h(proper)g(se)o
(g-)-150 332 y(ments)23 b(while)g(entire)g(arrays)g(must)g(be)g(passed)
h(as)f(ar)o(guments.)36 b(F)o(ormulas)-150 415 y(of)20
b(P)-7 b(A)20 b(e)o(xpressing)i(properties)f(of)g(nai)n(v)o(e)g(array)f
(programs)i(must)e(then)h(use)-150 498 y(inde)o(xing)j(and)f
(quanti\002cation)g(to)f(specify)h(which)g(portions)g(of)f(ar)o(gument)
-150 581 y(arrays)d(do)h(not)f(change.)-150 747 y(The)58
b(closest)g(w)o(ork)h(related)f(to)f(ours)i(is)e(by)i(J.)e(Re)o(ynolds)
i(and)-150 830 y(P)-8 b(.)16 b(O'Hearn)h([4)q(])g(who)g(are)h
(concerned)h(with)e(the)g(v)o(eri\002cation)g(of)h(lo)n(w-le)n(v)o(el)
-150 913 y(imperati)n(v)o(e)29 b(programs.)54 b(W)-6
b(e)29 b(ha)o(v)o(e)g(noticed)g(the)g(non-locality)h(of)f(nai)n(v)o(e)
-150 996 y(array)23 b(processing)h(independently)h(of)d(their)h
(analysis)g(of)f(non-locality)i(of)-150 1079 y(accesses)16
b(to)e(the)h(store)g(as)f(the)h(major)g(stumbling)g(block)h(on)f(the)g
(w)o(ay)g(to)g(pro-)-150 1162 y(gram)23 b(v)o(eri\002cation.)33
b(The)23 b(tw)o(o)f(are)g(identical)h(because)g(the)g(full)f(access)h
(to)-150 1245 y(arrays)17 b(leads)h(to)f(the)g(same)g(problems)h(as)f
(the)g(full)g(access)h(to)f(the)g(store.)22 b(W)-6 b(e)-150
1328 y(ha)o(v)o(e)22 b(adapted)g(their)f(store)g(partitioning)h
(operation)h Fq(?)e Fv(within)g(our)h(frame-)-150 1411
y(w)o(ork)e(of)f(declarati)n(v)o(e)h(programming,)h(b)o(ut)e(not)h
(their)f Ft(spatial)g(conjunction)-150 1494 y Fv(because)k(this)f(is)f
(usable)i(only)g(within)e(the)h(Hoare-style)h(methodology)h(of)-150
1577 y(v)o(eri\002cation)19 b(of)g(imperati)n(v)o(e)g(programs.)-150
1743 y(W)-6 b(e)20 b(think)h(that)g(our)g(declarati)n(v)o(e)g(approach)
i(is)d(simpler)g(because)i(all)f(three)-150 1826 y(components:)30
b(CL,)20 b(PP)-8 b(,)19 b(and)j(the)f(assertion)h(language)h(are)e
(subsets)h(of)f(the)-150 1910 y(same)d(language)i(of)e(P)-7
b(A.)17 b(Corresponding)j(components)h(in)d([4])g(\(recursi)n(v)o(e,)
-150 1993 y(command,)29 b(and)e(assertion)g(languages\))h(are)e(three)g
(distinct)g(formal)h(sys-)-150 2076 y(tems.)34 b(Also,)23
b([4])f(uses)h(a)g Ft(ta)o(g)o(g)o(ed)h Fv(in\002nite)f(model)g(of)f
(the)h(store)g(while)f(we)-150 2159 y(use)28 b(an)f(untagged)i
(\002nite)e(one)h(which)f(is)g(closer)g(to)h(ho)n(w)f(the)h(computers)
-150 2242 y(w)o(ork.)j(W)-6 b(e)21 b(permit)g(the)h(mixing)g(of)f
(small)g(numbers)h(and)g(pointers)g(which)-150 2325 y(leads)27
b(to)g(our)g(type)g Ft(N)k Fv(of)c(\(unlimited\))f(natural)h(numbers)h
(\(see)f(P)o(ar)l(.)f(3.5\))-150 2408 y(not)d(directly)f(e)o
(xpressible)h(in)g(the)f(formalism)g(of)h([4].)33 b(Also)23
b(their)f(`e)o(xact')-150 2491 y(representation)i(of)g(data-types)g
(such)g(as)g(trees)f(precludes)h(the)g(sharing)g(of)-150
2574 y(subtrees)c(which)f(is)f(typical)h(of)g(declarati)n(v)o(e)h
(programs.)-150 2740 y(Also)g(related)g(is)g(the)g(e)o(xtensi)n(v)o(e)g
(research)h(\(see,)f(for)g(instance)h([1,)e(5)q(,)g(6,)h(9]\))-150
2823 y(in)j(the)h(analysis)g(of)f(declarati)n(v)o(e)h(programs)h(with)e
(the)g(intention)h(of)f(reuse)-150 2906 y(of)i(storage.)41
b(Most)25 b(of)g(such)g(w)o(ork)g(calls)g(for)g(the)f(automatic)i
(analysis)f(of)-150 2989 y(programs,)18 b(while)f(our)h(e)o(xperience)g
(is)f(that)g(one)h(needs)g(a)f(careful)g(planning)-150
3072 y(of)f(the)g(reuse)g(of)g(memory)g(and)h(the)e(translator)h(needs)
h(e)o(xplicit)e(instructions)-150 3155 y(for)22 b(this.)34
b(This)22 b(can)g(be)h(seen)g(in)f(our)h(e)o(xamples)g(of)g(Quick)g
(\(P)o(ar)l(.)e(4.6\))h(and)-150 3238 y(Mer)o(ge)f(\(P)o(ar)l(.)d
(4.7\))j(sorts.)26 b(Incidentally)-5 b(,)21 b(the)f(system)h(CL)e(is)h
(implemented)-150 3321 y(in)26 b(the)g(second)h(author')l(s)g
(declarati)n(v)o(e)f(programming)i(language)f(T)m(rilogy)-150
3404 y(which)17 b(speci\002es)h(the)f(reuse)g(of)g(store)g(in)g(a)g
(similar)g(\(if)f(some)n(what)i(simpler\))-150 3487 y(w)o(ay)h(as)g
(reported)h(here.)-150 3705 y Fw(2)99 b(Quick)26 b(Ov)o(er)o(view)e(of)
h(CL)-150 3888 y(2.1)99 b(Natural)25 b(numbers)h(as)f(the)h(domain)f
(of)f(CL)-150 4055 y Fv(Theory)39 b(of)f(computability)g(deals)h(with)e
(computable)j(functions)e(o)o(v)o(er)-150 4138 y(the)c(domain)i(of)e
(natural)h(numbers)g(\()p Fn(N)q Fv(\).)75 b(A)34 b(formal)g(theory)h
(of)f(natu-)-150 4221 y(ral)26 b(numbers\227Peano)i(arithmetic\227is)e
(the)g(basic)h(\002rst-order)f(theory)h(of)-150 4304
y(mathematical)19 b(logic)g(and)h(e)n(v)o(ery)g(computer)f(scientist)g
(is)g(f)o(amiliar)f(with)h(it.)-150 4470 y(A)i Ft(pairing)h
Fv(function,)g(say)g(the)f(Cantor')l(s)g(diagonal)i(function,)f
Ft(x)p Fq(;)8 b Ft(y)18 b Fr(=)g(\()p Ft(x)11 b Fr(+)-150
4553 y Ft(y)p Fr(\))p Fm(\001)p Fr(\()p Ft(x)e Fr(+)g
Ft(y)g Fr(+)g Fv(1)p Fr(\))g Fm(\004)g Fv(2)g Fr(+)g
Ft(x)g Fr(+)g Fv(1,)22 b(has)c(properties)g(similar)f(to)h(the)f
Ft(cons)i Fv(of)e(LISP)-150 4636 y(\(0)h(plays)h(the)g(role)f(of)h
Ft(nil)p Fv(\).)j(Ev)o(ery)d(natural)f(number)i Ft(x)e
Fv(is)g(either)h(0)f(or)h(it)e(can)-150 4719 y(be)25
b(uniquely)g(written)f(as)g(a)g Ft(list)f(x)d Fr(=)g
Ft(x)888 4732 y Fu(1)921 4719 y Fq(;)8 b(:)g(:)g(:)g(;)g
Ft(x)1099 4730 y Fj(n)1133 4719 y Fq(;)g Fv(0)24 b(where)h(we)f(let)f
(pairing)-150 4802 y(associate)e(to)f(the)g(right.)27
b(Data)21 b(structures,)f(say)h(binary)g(trees)f(\(with)g(labels)-150
4885 y(from)15 b Fn(N)q Fv(\),)21 b(can)16 b(be)f(constructed)h(with)f
(the)g(help)g(of)g Ft(constructor)o(s)i Fv(\(functions)-150
5022 y(o)o(v)o(er)27 b Fn(N)q Fv(\):)46 b Fm(\017)21
b Fr(=)h Fv(0)27 b(and)530 4968 y Ft(n)p 494 5005 110
3 v 494 5073 a(l)20 b Fm(j)c Ft(r)624 5022 y Fr(=)21
b Ft(n)p Fq(;)8 b Ft(l)t Fq(;)g Ft(r)29 b Fv(\(see)e(P)o(ar)l(.)f
(4.8\).)48 b(W)-6 b(e)27 b(can)g(thus)h(get)-150 5151
y(the)21 b(coding)h(comfort)g(of)f(S-e)o(xpressions)h(of)f(LISP)f
(within)g(the)i(domain)g(of)-150 5234 y(natural)27 b(numbers)h(as)e
(formalized)h(in)g(P)-7 b(A.)26 b(By)g(means)i(of)e Ft(e)o(xtensions)h
(by)-150 5317 y(de\002nitions)i Fv(of)f(P)-7 b(A)27 b(\(see)h([10)q
(]\))f(we)h(can)g(conserv)n(ati)n(v)o(ely)i(introduce)f(into)-150
5400 y(P)-7 b(A)22 b(computable)i(functions)f(and)g(predicates)g(whose)
g(de\002nitions)g(can)g(act)2049 83 y(as)c(programs.)2049
249 y(F)o(or)f(these)h(reasons)h(we)e(ha)o(v)o(e)h(designed)h(the)f
(programming)h(language)h(CL)2049 332 y(on)27 b(top)h(of)e(P)-7
b(A.)26 b(In)h(order)h(to)f(obtain)g(modularity)h(\(parameterization)f
(by)2049 415 y(functions)j(and)g(predicates\))g(we)f(are)g(preparing)i
(a)e(ne)n(w)g(v)o(ersion)h(of)g(CL)2049 498 y(which)20
b(will)f(be)h(based)h(on)f(a)g(subsystem)h(of)f(the)f(second-order)j
(arithmetic)2049 581 y(called)d(A)m(CA)2401 594 y Fu(0)2434
581 y Fv(,)f(which)i(is)e(conserv)n(ati)n(v)o(e)j(o)o(v)o(er)e(P)-7
b(A)18 b(\(see)h([12)q(]\).)2049 786 y Fw(2.2)99 b(Basic)25
b(CL)g(operations)2049 953 y Fv(F)o(or)k Ft(i)22 b Fr(=)g
Fv(0)p Fq(;)8 b Fv(1)30 b(we)f(introduce)i(into)e(P)-7
b(A)29 b(the)g Ft(binary)i(successor)o(s)f(S)3857 965
y Fj(i)3878 953 y Fr(\()p Ft(x)p Fr(\))23 b(=)2049 1036
y Fv(2)p Fm(\001)p Ft(x)7 b Fr(+)g Ft(i)15 b Fv(abbre)n(viated)i(as)e
Ft(x)p Fh(0)p 2720 1049 34 3 v 16 w Fv(and)h Ft(x)p Fh(1)p
2925 1048 V 15 w Fv(respecti)n(v)o(ely)-5 b(.)23 b(Ev)o(ery)16
b Ft(x)f Fv(\(in)g Fn(N)q Fv(\))21 b(is)15 b(of)g(one)2049
1119 y(of)i(the)h(tw)o(o)f(forms)h Ft(x)e Fr(=)f Ft(y)p
Fh(0)p 2712 1132 V 17 w Fv(or)j Ft(x)e Fr(=)f Ft(y)p
Fh(1)p 2997 1131 V 17 w Fv(for)j(a)f(unique)i Ft(y)p
Fv(,)e(said)h(to)f(be)h(obtained)2049 1202 y(by)27 b
Ft(pattern)f(matc)o(hing)p Fv(.)46 b(This)26 b(can)h(be)f(used)h(in)f
Ft(binary)h(discriminations)2049 1285 y Fv(\(case)19
b(analysis\))g(to)g(de\002ne)h(functions:)2120 1425 y
Ft(f)11 b Fr(\()p Ft(x)p Fr(\))17 b(=)f Fg(case)k Ft(x)d
Fr(=)g Ft(y)p Fh(0)p 2644 1438 V 17 w Fm(\))f Fq(:)8
b(:)g(:)g Ft(x)h Fq(:)f(:)g(:)g Ft(y)g Fq(:)g(:)g(:)83
b Fg(case)19 b Ft(x)e Fr(=)g Ft(y)p Fh(1)p 3513 1437
V 17 w Fm(\))f Fq(:)8 b(:)g(:)g Ft(x)h Fq(:)f(:)g(:)g
Ft(y)g Fq(:)g(:)g(:)2049 1564 y Fv(possibly)20 b(by)f(a)g(f)o(ast)g
Ft(r)m(ecur)o(sion)h(on)g(notation)p Fv(.)2049 1730 y(Similarly)-5
b(,)27 b Ft(pair)g(discrimination)g Fv(uses)g(the)f(f)o(act)g(that)h
(for)f(an)o(y)h Ft(x)f Fv(e)o(xactly)2049 1813 y(one)f(of)g
Ft(x)20 b Fr(=)g Fv(0)25 b(or)f Ft(x)d Fr(=)e Ft(v)-6
b Fq(;)8 b Ft(w)25 b Fv(holds)h(for)e(uniquely)i(determined)g
Ft(v)19 b Fq(<)h Ft(x)25 b Fv(and)2049 1896 y Ft(w)16
b Fq(<)g Ft(x)p Fv(.)23 b(Using)c(pair)f(discrimination,)h(the)g
Ft(list)e(concatenation)k Fv(function)e Fm(\010)2049
1979 y Fv(is)24 b(introduced)i(into)f(P)-7 b(A)24 b(to)h(satisfy)g(0)13
b Fm(\010)f Ft(y)20 b Fr(=)g Ft(y)25 b Fv(and)g Fr(\()p
Ft(v)-6 b Fq(;)8 b Ft(w)p Fr(\))13 b Fm(\010)g Ft(y)20
b Fr(=)g Ft(v)-6 b Fq(;)8 b Fr(\()p Ft(w)13 b Fm(\010)2049
2062 y Ft(y)p Fr(\))p Fv(.)52 b(W)-6 b(e)28 b(also)g(introduce)i(the)e
Ft(list)g(length)h Fv(function)g(s.t.)51 b Ft(L)p Fr(\()p
Fv(0)p Fr(\))23 b(=)e Fv(0)29 b(and)2049 2145 y Ft(L)p
Fr(\(\()p Ft(v)-6 b Fq(;)8 b Ft(w)p Fr(\)\))20 b(=)g
Ft(L)p Fr(\()p Ft(w)p Fr(\))12 b(+)h Fv(1,)26 b(the)f
Ft(singleton)g Fv(function)h Fr([)p Ft(x)p Fr(])19 b(=)h
Ft(x)p Fq(;)8 b Fv(0)25 b(and)h(the)f Ft(list)2049 2228
y(r)m(e)o(ver)o(sal)20 b Fv(function)g(s.t.)i Ft(Re)o(v)p
Fr(\()p Fv(0)p Fr(\))17 b(=)f Fv(0)k(and)f Ft(Re)o(v)p
Fr(\(\()p Ft(v)-6 b Fq(;)8 b Ft(w)p Fr(\)\))17 b(=)g
Ft(Re)o(v)p Fr(\()p Ft(w)p Fr(\))10 b Fm(\010)g Fr([)p
Ft(v)p Fr(])p Fv(.)2049 2394 y(W)-6 b(e)23 b(will)f(also)h(need)h(the)f
Ft(list)g(splitting)g Fv(discrimination)g(where)h(for)f(an)o(y)h
Ft(a)2049 2477 y Fv(and)f(an)o(y)h Ft(n)19 b Fq(>)g Fv(0)k(e)o(xactly)g
(one)h(of)e(the)h(tw)o(o)g(alternati)n(v)o(es)g(holds:)32
b Ft(L)p Fr(\()p Ft(a)p Fr(\))19 b Fq(<)g Ft(n)2049 2561
y Fv(or)24 b Ft(a)c Fr(=)f Ft(b)12 b Fm(\010)g Ft(c)g
Fm(^)g Ft(L)p Fr(\()p Ft(b)p Fr(\))21 b(=)f Ft(n)k Fv(for)g(uniquely)h
(determined)g Ft(b)f Fv(and)h Ft(c)f Fv(and)h(also)2049
2644 y(the)19 b Ft(singleton)h Fv(discrimination)f(where)h(for)f(an)o
(y)g Ft(a)h Fv(such)f(that)g Ft(L)p Fr(\()p Ft(a)p Fr(\))e(=)g
Fv(1)i(we)2049 2727 y(ha)o(v)o(e)g Ft(a)e Fr(=)g([)p
Ft(x)p Fr(])h Fv(for)h(a)g(unique)h Ft(x)p Fv(.)2049
2893 y(Note)h(that)f(we)h(can)g(vie)n(w)f(the)h(uniquely)h(determined)f
(output)h(v)n(ariables)f(in)2049 2976 y(discriminations)e(as)g
(determined)h(by)g(pattern)f(matching.)p 2049 3102 2001
4 v 2073 3234 a Ft(P)-6 b(art)q Fr(\()p Ft(c)p Fr(\))17
b(=)f Fg(case)k Ft(c)d Fr(=)f Fv(0)h Fm(\))g Fv(0)2383
3342 y Fg(case)j Ft(c)d Fr(=)f Ft(d)2696 3355 y Fu(1)2740
3342 y Fm(\010)10 b Ft(d)15 b Fm(^)10 b Ft(L)p Fr(\()p
Ft(d)3028 3355 y Fu(1)3062 3342 y Fr(\))16 b(=)h Fv(1)g
Fm(\))f Fg(let)j Fr([)6 b Ft(p)p Fr(])16 b(=)g Ft(d)3637
3355 y Fu(1)3690 3342 y Fg(in)2458 3450 y(case)j Ft(a)e
Fr(=)g Fv(0)g Fm(\))f Fv(0)p Fq(;)8 b Fr([)e Ft(p)p Fr(])p
Fq(;)i Fv(0)2458 3558 y Fg(case)19 b Ft(a)e Fr(=)g Ft(d)e
Fm(\010)10 b Ft(d)2895 3571 y Fu(2)2939 3558 y Fm(^)g
Ft(L)p Fr(\()p Ft(d)t Fr(\))g(+)g Fv(1)18 b Fr(=)f Ft(L)p
Fr(\()p Ft(a)p Fr(\))f Fm(\))h Fg(let)h Fr([)p Ft(v)p
Fr(])e(=)h Ft(d)3893 3571 y Fu(2)3945 3558 y Fg(in)2533
3674 y(case)25 b Ft(p)17 b Fm(\024)f Ft(v)h Fm(\))2607
3782 y Fg(let)i Ft(l)t Fq(;)8 b Ft(r)-7 b Fq(;)8 b Ft(g)17
b Fr(=)g Ft(P)-6 b(art)q Fr(\([)6 b Ft(p)p Fr(])k Fm(\010)g
Ft(a)p Fr(\))19 b Fg(in)f Ft(l)t Fq(;)8 b Ft(r)-7 b Fq(;)8
b Fr(\()p Ft(g)i Fm(\010)g Fr([)p Ft(v)p Fr(]\))2533
3890 y Fg(case)25 b Ft(p)17 b Fq(>)f Ft(v)h Fm(\))2607
4007 y Fg(case)j Ft(d)h Fr(=)16 b Fv(0)h Fm(\))g Fr([)p
Ft(v)p Fr(])p Fq(;)8 b Fr([)e Ft(p)p Fr(])p Fq(;)i Fv(0)2607
4115 y Fg(case)20 b Ft(d)h Fr(=)16 b Ft(b)2928 4128 y
Fu(1)2972 4115 y Fm(\010)10 b Ft(b)18 b Fm(\))e Fg(let)j
Fr([)p Ft(w)p Fr(])c(=)i Ft(b)3503 4128 y Fu(1)3555 4115
y Fg(in)2682 4222 y(let)i Ft(l)t Fq(;)8 b Ft(r)-7 b Fq(;)8
b Ft(g)17 b Fr(=)f Ft(P)-6 b(art)r Fr(\([)6 b Ft(p)p
Fr(])k Fm(\010)g Ft(b)g Fm(\010)g Fr([)p Ft(w)p Fr(]\))19
b Fg(in)f Fr(\([)p Ft(v)p Fr(])10 b Fm(\010)g Ft(l)t
Fr(\))p Fq(;)e Ft(r)-7 b Fq(;)8 b Ft(g)2049 4357 y Fg(Figur)o(e)24
b(1.)42 b(The)24 b(case)i(f)n(orm)f(of)g(the)g(clausal)g(de\002nition)e
(of)i Ft(P)-6 b(art)26 b Fg(fr)o(om)2049 4440 y(Fig)o(.)18
b(6)p 2049 4523 V 2049 4735 a Fw(2.3)99 b(Clausal)24
b(de\002nitions)2049 4902 y Fv(Ev)o(ery)e(CL)e(de\002nition)i(can)g(be)
g(visualized)g(in)f(the)h(form)f(of)h(a)f(nested)h(case)2049
4985 y(e)o(xpression)f(with)d(cases)i(corresponding)i(to)d
(discriminations.)25 b(F)o(or)18 b(e)o(xam-)2049 5068
y(ple,)24 b(in)f(Fig.)f(1)h(the)g(reader)h(will)e(recognize)i(the)g
(list)e(splitting,)h(singleton,)2049 5151 y(and)g(the)g
Ft(dic)o(hotomy)g Fv(\()6 b Ft(p)18 b Fm(\024)h Ft(v)k
Fv(vs.)39 b Ft(p)19 b Fq(>)g Ft(v)p Fv(\))j(discriminations.)34
b(Also)23 b(the)f Fg(let)2049 5234 y Fv(construct)e(can)f(be)h
(visualized)g(as)f(a)g(discrimination)g(with)g(one)h(alternati)n(v)o(e)
2049 5317 y(whose)j(sole)g(purpose)h(is)e(to)h(assign)g(v)n(alues)h(to)
e(local)h(v)n(ariables)g(\(possibly)2049 5400 y(by)d(pattern)g
(matching\).)26 b(W)-6 b(e)19 b(should)h(vie)n(w)g(the)g(e)o(xpression)
g(in)g(Fig.)f(1)g(as)h(a)p eop
%%Page: 3 3
3 2 bop -150 83 a Fv(tree)15 b(and)g(read)h(of)n(f)f(its)f(branches.)23
b(Each)16 b(branch,)g(after)f(applying)h(to)f(it)f(some)-150
166 y(equi)n(v)n(alence-preserving)32 b(simpli\002cations)c(which)h
(are)g(pro)o(v)n(able)g(in)g(P)-7 b(A,)-150 249 y(becomes)23
b(a)f(clause)g(of)g(a)f(clausal)h(de\002nition)g(of)g(the)g(function)g
Ft(P)-6 b(art)23 b Fv(gi)n(v)o(en)-150 332 y(in)i(Fig.)f(6.)40
b(The)25 b(clause)g(for)g(the)g(\002rst)f(branch)i(is)e
Ft(P)-6 b(art)q Fr(\()p Ft(c)p Fr(\))20 b(=)g Fv(0)g
Fm( )g Ft(c)g Fr(=)g Fv(0,)-150 415 y(which)28 b(can)h(be)f
(simpli\002ed)g(to)g Ft(P)-6 b(art)q Fr(\()p Fv(0)p Fr(\))22
b(=)g Fv(0,)30 b(and)f(it)e(is)h(omitted)g(by)h Ft(de-)-150
498 y(fault)18 b Fv(from)g(Fig.)f(6)i(because)g(it)f(yields)g(the)g
(`dummy')h(v)n(alue)g(0)f(as)h Ft(P)-6 b(art)19 b Fv(will)-150
581 y(al)o(w)o(ays)h(be)f(called)g(with)g Ft(c)d Fm(6)p
Fr(=)h Fv(0.)-150 747 y(The)23 b(reason)h(why)g(we)f(use)g(in)g(CL)g
(clauses)h(and)g(not)f(case)h(e)o(xpressions)g(is)-150
830 y(that)f(the)f(clauses)i(are)e(fully)h(e)o(xpressible)h(in)e(the)h
(language)h(of)f(P)-7 b(A)22 b(and)i(so)-150 913 y(CL)k(has)i(no)g
(reserv)o(ed)g(w)o(ords)g(and)g(no)f(special)h(syntax)g(be)o(yond)h
(that)e(of)-150 996 y(\002rst-order)21 b(logic.)29 b(Moreo)o(v)o(er)m
(,)23 b(a)e(clause)g(is)g(an)g(implication)h(\(written)e(in)h(a)-150
1079 y(con)m(v)o(erse)c(form\),)f(and)g(an)h(axiom)f(stating)g
(properties)g(of)g(the)g(de\002ned)g(func-)-150 1162
y(tion)25 b(or)g(predicate.)43 b(See)25 b([11])g(for)g(the)g
(description)h(of)f(ho)n(w)h(the)f(clauses)-150 1245
y(are)18 b(equi)n(v)n(alently)h(reduced)f(to)g(the)g(required)g(form)g
(of)f(e)o(xtension)i(of)e(P)-7 b(A)17 b(by)-150 1328
y(de\002nitions.)-150 1494 y(Ev)o(ery)g(recursi)n(v)o(e)h(CL)e
(de\002nition,)h(say)h(of)28 b Ft(f)11 b Fr(\()p 1034
1453 34 3 v Ft(x)p Fr(\))p Fv(,)17 b(must)g(be)g Ft(r)m(e)m(gular)p
Fv(,)h(i.e.,)e(P)-7 b(A)-150 1577 y(must)22 b(admit)g(a)g
Ft(measur)m(e)h Fv(function)g Ft(m)p Fr(\()p 890 1536
V Ft(x)p Fr(\))f Fv(such)g(that)g(e)n(v)o(ery)h(recursi)n(v)o(e)f(call)
-139 1660 y Ft(f)11 b Fr(\()p -78 1615 33 3 v Fs(t)p
Fr(\))17 b Fv(decreases)j(the)e(measure)g(of)g(ar)o(guments:)24
b Ft(m)p Fr(\()p 1198 1615 V Fs(t)p Fr(\))15 b Fq(<)h
Ft(m)p Fr(\()p 1432 1619 34 3 v Ft(x)q Fr(\))h Fv(pro)o(v)n(ably)j(in)
-150 1743 y(P)-7 b(A.)-150 1910 y(F)o(or)20 b(the)h(automatic)g
(transfer)g(of)f(proofs)i(to)e(the)h(le)n(v)o(el)g(of)f(PP)g(we)h
(crucially)-150 1993 y(need)e Ft(conditional)h Fv(clausal)f
(de\002nitions)g(\(see)f([11)q(])g(for)h(more)g(details\).)j(F)o(or)
-150 2076 y(instance,)27 b(assume)f(that)f(we)h(ha)o(v)o(e)f(de\002ned)
h(the)g(tw)o(o)f(place)h Ft(list)e(inde)o(xing)-150 2159
y Fv(function)k Ft(a)p Fr([)p Ft(i)p Fr(])f Fv(yielding)g(the)h
Ft(i)p Fv(-th)e(element)i(of)f(the)g(list)g Ft(a)p Fv(.)48
b(W)-6 b(e)27 b(can)g(then)-150 2242 y(de\002ne)e(the)f(three-place)h
Ft(list)e(modi\002cation)j Fv(function)e Ft(a)p Fr([)p
Ft(i)p Fv(:)p Fr(=)p Ft(v)p Fr(])g Fv(yielding)h(a)-150
2325 y(list)18 b(satisfying:)121 2465 y Ft(i)f Fq(<)f
Ft(L)p Fr(\()p Ft(a)p Fr(\))h Fm(!)f Fr(\()p Ft(i)h Fm(6)p
Fr(=)27 b Ft(j)19 b Fq(<)e Ft(L)p Fr(\()p Ft(a)p Fr(\))f
Fm(!)h Ft(a)p Fr([)p Ft(i)p Fv(:)p Fr(=)o Ft(v)p Fr(][)11
b Ft(j)r Fr(])16 b(=)h Ft(a)p Fr([)11 b Ft(j)r Fr(]\))f
Fm(^)478 2573 y Fr(\()p Ft(i)17 b Fr(=)27 b Ft(j)19 b
Fm(!)d Ft(a)p Fr([)p Ft(i)p Fv(:)p Fr(=)p Ft(v)p Fr(][)11
b Ft(j)r Fr(])16 b(=)g Ft(v)p Fr(\))j Fv(.)1764 2522
y(\(1\))-150 2721 y(Both)25 b(functions)i(are)e(clausally)h(de\002ned)g
(under)g(the)f(condition)i Ft(i)20 b Fq(<)g Ft(L)p Fr(\()p
Ft(a)p Fr(\))-150 2804 y Fv(that)f(the)g(inde)o(x)g Ft(i)f
Fv(is)h(within)f(the)h(list)f Ft(a)p Fv(.)23 b(The)c(de\002nition)g(of)
g(the)g(list)f(modi\002-)-150 2887 y(cation)h(function)h(is:)-108
3028 y Ft(a)p Fr([)p Fv(0:)p Fr(=)p Ft(v)p Fr(])c(=)h
Ft(v)-6 b Fq(;)8 b Ft(a)235 b Fm( )16 b Ft(a)h Fr(=)g
Ft(x)p Fq(;)8 b Ft(b)636 b Fm( )16 b Fv(0)h Fq(<)g Ft(L)p
Fr(\()p Ft(a)p Fr(\))-108 3136 y Ft(a)p Fr([)p Ft(i)10
b Fr(+)g Fv(1:)p Fr(=)p Ft(v)p Fr(])17 b(=)f Ft(b)p Fr([)p
Ft(i)p Fv(:)p Fr(=)p Ft(v)p Fr(])h Fm( )f Ft(a)h Fr(=)g
Ft(x)p Fq(;)8 b Ft(b)19 b Fq(:)496 b Fm( )17 b Ft(i)10
b Fr(+)g Fv(1)17 b Fq(<)g Ft(L)p Fr(\()p Ft(a)p Fr(\))-150
3277 y Fv(Ev)o(ery)22 b(call)f(of)h Ft(a)p Fr([)p Ft(i)p
Fv(:)p Fr(=)p Ft(v)p Fr(])f Fv(and)i(of)f Ft(a)p Fr([)p
Ft(i)p Fr(])f Fv(\(recursi)n(v)o(e)h(or)g(from)g(another)h(clausal)-150
3360 y(de\002nition\))e(will)f(result)h(in)g(a)g(proof)h(obligation)f
(assuring)h(that)f(the)g(condi-)-150 3443 y(tion)e(is)f(met.)-150
3651 y Fw(3)99 b(P)n(eano)25 b(P)o(ascal)-150 3835 y(3.1)99
b(W)-7 b(ords)24 b(and)i(simple)f(types)g(f)n(ormed)74
3934 y(fr)n(om)g(w)o(ords)-150 4101 y Fv(W)-6 b(e)16
b(can)i(vie)n(w)f(PP)f(functions)h(as)g(typed)h(by)f
Ft(simple)g(types)g Fs(s)g Fv(each)g(of)g(which)-150
4184 y(has)23 b(a)g Ft(length)g(L)p Fr(\()p Fs(s)p Fr(\))p
Fv(.)34 b(W)-6 b(e)22 b(de\002ne)h(the)g Ft(wor)m(d)g
Fv(predicate,)h(say)-5 b(,)24 b(as)f Ft(w)8 b Fv(:)22
b Ft(W)28 b Fm($)-150 4277 y Ft(w)16 b Fq(<)h Fv(2)28
4250 y Fu(32)109 4277 y Fv(with)i(the)g(length)g Ft(L)p
Fr(\()l Ft(W)10 b Fr(\))16 b(=)h Fv(1.)-150 4443 y(W)-6
b(e)14 b(then)h(form)g(simple)f(types)h(by)g(cartesian)g(products)h
(and)f(disjoint)g(unions)-150 4526 y(starting)26 b(from)c
Ft(W)9 b Fv(.)44 b(F)o(or)25 b(each)i(simple)e(type)i
Fs(s)e Fv(we)h(introduce)h(into)f(P)-7 b(A)25 b(a)-150
4609 y(unary)g(predicate)f Ft(x)9 b Fv(:)27 b Fs(s)p
Fv(.)38 b(If)23 b(the)h(predicate)h(symbols)g(for)e Fs(s)p
Fv(,)i Fs(t)f Fv(ha)o(v)o(e)g(been)-150 4692 y(introduced,)f(then)f(we)
f(can)g(de\002ne)h(for)f(the)h(type)f Fs(s)11 b Fm(\002)g
Fs(t)22 b Fv(of)f(length)h Ft(L)p Fr(\()p Fs(s)p Fr(\))11
b(+)-150 4775 y Ft(L)p Fr(\()p Fs(t)p Fr(\))18 b Fv(the)h(predicate)253
4917 y Ft(x)9 b Fv(:)24 b Fs(s)10 b Fm(\002)g Fs(t)17
b Fm($)g(9)p Ft(y)p Fm(9)p Ft(z)p Fr(\()p Ft(x)f Fr(=)h
Ft(y)l Fq(;)8 b Ft(z)i Fm(^)g Ft(y)e Fv(:)25 b Fs(s)10
b Fm(^)g Ft(z)e Fv(:)26 b Fs(t)p Fr(\))19 b Fq(:)-150
5068 y Fv(W)-6 b(e)21 b(abbre)n(viate)j Fs(s)12 b Fm(\002)g
Fr(\()p Fs(t)g Fm(\002)g Fs(r)p Fr(\))19 b Fv(to)j Fs(s)12
b Fm(\002)g Fs(t)g Fm(\002)g Fs(r)p Fv(,)20 b Fs(s)12
b Fm(\002)g Fs(s)21 b Fv(to)h Fs(s)1381 5041 y Fu(2)1414
5068 y Fv(,)h(and)f(similarly)-150 5151 y(for)d(higher)g(po)n(wers.)
-150 5317 y(If)26 b(the)h(predicates)g(for)f Fs(t)519
5330 y Fu(1)552 5317 y Fv(,)i(.)11 b(.)g(.)g(,)28 b Fs(t)769
5328 y Fj(n)828 5317 y Fv(ha)o(v)o(e)f(been)g(introduced)h(into)f(P)-7
b(A)26 b(we)-150 5400 y(can)e(introduce)h(a)f(predicate)g(of)g(their)g
(disjoint)g(union:)1356 5348 y Fe(S)1413 5400 y Fm(f)p
Fs(t)1483 5413 y Fu(1)1517 5400 y Fq(;)8 b(:)g(:)g(:)g(;)g
Fs(t)1695 5411 y Fj(n)1728 5400 y Fm(g)24 b Fv(of)2049
83 y(length)19 b(max)q Fr(\()p Ft(L)p Fr(\()p Fs(t)2516
96 y Fu(1)2549 83 y Fr(\))p Fq(;)8 b(:)g(:)g(:)g(;)g
Ft(L)p Fr(\()p Fs(t)2827 94 y Fj(n)2860 83 y Fr(\)\))i(+)g
Fv(1)19 b(to)g(satisfy:)2264 245 y Ft(x)9 b Fv(:)2351
179 y Fe([)2428 245 y Fm(f)p Fs(t)2498 258 y Fu(1)2531
245 y Fq(;)f(:)g(:)g(:)g(;)g Fs(t)2709 256 y Fj(n)2742
245 y Fm(g)17 b($)g Ft(x)9 b Fv(:)24 b Fm(f)p Fv(1)p
Fm(g)10 b(\002)g Fs(t)3197 258 y Fu(1)3242 245 y Fm(_)g(\001)e(\001)g
(\001)i(_)g Ft(x)f Fv(:)25 b Fm(f)p Ft(n)p Fm(g)10 b(\002)g
Fs(t)3761 256 y Fj(n)3814 245 y Fq(:)2049 401 y Fv(Here)18
b(the)g(auxiliary)g Ft(singleton)h Fv(predicates)f(\(serving)g(as)g
(tags\))g(are)g(de\002ned)2049 484 y(as)d Ft(x)9 b Fv(:)25
b Fm(f)p Ft(i)p Fm(g)13 b($)g Ft(x)h Fr(=)f Ft(i)p 2528
497 21 3 v 15 w Fv(where)i Ft(i)p 2761 497 V 15 w Fv(is)g(a)g
Ft(numer)o(al)h Fv(denoting)h Ft(i)p Fv(,)e(say)g(the)h(term)f
Ft(S)3916 457 y Fj(i)3936 484 y Fr(\()p Fv(0)p Fr(\))p
Fv(.)2049 567 y(W)-6 b(e)18 b(also)h(permit)g(one)h(or)f(more)g(of)g
Fs(t)3012 579 y Fj(i)3051 567 y Fv(to)f(be)i Fm(f)p Fv(0)p
Fm(g)f Fv(\(with)g(length)g(1\).)2049 783 y Fw(3.2)99
b(Stor)n(es)2049 950 y Ft(Stor)m(e)19 b(s)e Fv(is)h(a)g(partial)f
(function)i(o)o(v)o(er)f(w)o(ords)h(\()l Ft(W)25 b Fm(!)12
b Ft(W)d Fv(\).)23 b(Ev)o(ery)18 b(such)g(func-)2049
1033 y(tion)g(is)g(\002nite,)f(and)i(it)e(can)i(be)f(represented)h(in)f
(P)-7 b(A)18 b(by)g(a)g(list)g(with)f(elements)2049 1116
y Fr(\()p Ft(a)p Fq(;)8 b Ft(v)p Fr(\))g Fv(:)24 b Ft(W)2331
1089 y Fu(2)2390 1116 y Fv(increasingly)i(ordered)h(by)f
Ft(a)p Fv(,)i(where)e Ft(a)g Fv(is)f(the)h(ar)o(gument)h(of)2049
1199 y(the)18 b(partial)f(function,)h(and)g Ft(v)g Fv(is)f(its)g(v)n
(alue.)23 b(W)-6 b(e)17 b(lea)o(v)o(e)g(to)h(the)f(reader)h(the)g(in-)
2049 1282 y(troduction)i(into)e(P)-7 b(A)18 b(of)h(the)g
Ft(stor)m(e)g Fv(predicate)g Ft(s)8 b Fv(:)25 b Ft(S)19
b Fv(holding)h(for)f(such)g(lists.)2049 1365 y(W)-6 b(e)25
b(will)g(use)h(the)g(predicate)g(symbol)g Ft(S)h Fv(in)e(cartesian)h
(products)h(to)f(form)2049 1448 y(the)19 b Ft(e)o(xtended)h(types)p
Fv(,)f(for)f(instance)e Ft(W)k Fm(\002)10 b Ft(S)q Fv(.)2049
1614 y(It)37 b(is)g(straightforw)o(ard)h(to)g(introduce)g(into)g(P)-7
b(A)37 b(the)g Ft(domain)i Fv(function)2049 1697 y Ft(dom)q
Fr(\()p Ft(s)p Fr(\))26 b Fv(which)g(for)g Ft(s)8 b Fv(:)28
b Ft(S)f Fv(yields)f(the)g(increasingly)h(ordered)g(list)f(of)g
(\002rst)2049 1780 y(components)j(of)e Ft(s)p Fv(.)47
b(W)-6 b(e)26 b(can)i(easily)f(introduce)h(into)f(P)-7
b(A)26 b(the)h(basic)g(set-)2049 1863 y(theoretical)20
b(operations)g(such)g(as)g Fm([)p Fv(,)f Fm(\\)p Fv(,)g(or)g
Fm(\022)h Fv(operating)g(on)g(ordered)h(lists)2049 1946
y(representing)f(\002nite)e(sets.)2049 2112 y(The)j(three-place)g
Ft(stor)m(e)h(partitioning)g Fv(relation)f Ft(s)3398
2070 y Fq(:)3379 2112 y Fr(=)d Ft(s)3484 2125 y Fu(1)3528
2112 y Fq(?)11 b Ft(s)3605 2125 y Fu(2)3660 2112 y Fv(is)20
b(introduced)2049 2195 y(into)34 b(P)-7 b(A)34 b(to)h(hold)g(if)n(f)e
Ft(s)p Fv(,)38 b Ft(s)2799 2208 y Fu(1)2833 2195 y Fv(,)f
Ft(s)2918 2208 y Fu(2)2986 2195 y Fv(are)d(in)h Ft(S)g
Fv(and)g(such)g(that)f Ft(dom)q Fr(\()p Ft(s)3922 2208
y Fu(1)3955 2195 y Fr(\))16 b Fm([)2049 2278 y Ft(dom)q
Fr(\()p Ft(s)2236 2291 y Fu(2)2269 2278 y Fr(\))d(=)g
Ft(s)i Fv(and)h Ft(dom)q Fr(\()p Ft(s)2736 2291 y Fu(1)2769
2278 y Fr(\))7 b Fm(\\)g Ft(dom)q Fr(\()p Ft(s)3049 2291
y Fu(2)3082 2278 y Fr(\))13 b(=)g Fv(0.)22 b(F)o(or)15
b(a)g(formula)h Fs(f)p Fr([)p Ft(x)p Fr(])e Fv(we)h(then)2049
2361 y(abbre)n(viate)k(by)g Fs(f)p Fr([)p Ft(s)2558 2374
y Fu(1)2601 2361 y Fq(?)10 b Ft(s)2677 2374 y Fu(2)2711
2361 y Fr(])17 b Fv(the)i(formula)g Fm(9)p Ft(x)p Fr(\()p
Ft(x)3286 2319 y Fq(:)3267 2361 y Fr(=)d Ft(s)3370 2374
y Fu(1)3413 2361 y Fq(?)10 b Ft(s)3489 2374 y Fu(2)3533
2361 y Fm(^)g Fs(f)p Fr([)p Ft(x)p Fr(]\))p Fv(.)22 b(Thus,)c(for)2049
2444 y(instance,)h Ft(s)2395 2402 y Fq(:)2376 2444 y
Fr(=)d Ft(s)2479 2457 y Fu(1)2522 2444 y Fq(?)10 b Ft(s)2598
2457 y Fu(2)2642 2444 y Fq(?)g Ft(s)2718 2457 y Fu(3)2769
2444 y Fv(abbre)n(viates)20 b Fm(9)p Ft(x)p Fr(\()p Ft(x)3298
2402 y Fq(:)3279 2444 y Fr(=)c Ft(s)3382 2457 y Fu(2)3425
2444 y Fq(?)10 b Ft(s)3501 2457 y Fu(3)3545 2444 y Fm(^)g
Ft(s)3668 2402 y Fq(:)3649 2444 y Fr(=)16 b Ft(s)3752
2457 y Fu(1)3796 2444 y Fq(?)10 b Ft(x)p Fr(\))p Fv(,)18
b(and)2060 2527 y Ft(f)11 b Fr(\()p Ft(s)p Fr(\))17 b(=)f
Ft(s)2299 2540 y Fu(1)2343 2527 y Fq(?)10 b Ft(s)2419
2540 y Fu(2)2472 2527 y Fv(abbre)n(viates)20 b Fm(9)p
Ft(x)p Fr(\()p Ft(x)3001 2485 y Fq(:)2982 2527 y Fr(=)d
Ft(s)3086 2540 y Fu(1)3130 2527 y Fq(?)10 b Ft(s)3206
2540 y Fu(2)3250 2527 y Fm(^)21 b Ft(f)11 b Fr(\()p Ft(s)p
Fr(\))17 b(=)g Ft(x)p Fr(\))p Fv(.)2049 2693 y(The)28
b Ft(empty)g Fv(store)h(is)e(0,)k(and)d(the)h(list)e
Ft(s)22 b Fr(=)f(\()6 b Ft(p)p Fq(;)i Ft(i)3363 2706
y Fu(0)3396 2693 y Fr(\))p Fq(;)g Fr(\()e Ft(p)14 b Fr(+)g
Fv(1)p Fq(;)8 b Ft(i)3699 2706 y Fu(1)3732 2693 y Fr(\))p
Fq(;)g(:)g(:)g(:)g(;)g Fr(\()e Ft(p)14 b Fr(+)2049 2776
y Ft(n)h Fm(\000)f Fv(1)p Fq(;)8 b Ft(i)2260 2789 y Fj(n)p
Fp(\000)p Fu(1)2368 2776 y Fr(\))p Fq(;)g Fv(0)30 b(will)f(be)h(abbre)n
(viated)h(to)f Fr([)6 b Ft(p)22 b Fm(7!)g Ft(i)3407 2789
y Fu(0)3440 2776 y Fv(;)8 b Ft(i)3490 2789 y Fu(1)3523
2776 y Fv(;)g Fq(:)g(:)g(:)g Fv(;)g Ft(i)3689 2789 y
Fj(n)p Fp(\000)p Fu(1)3797 2776 y Fr(])29 b Fv(\()p Ft(n)23
b Fq(>)g Fv(0)2049 2859 y(must)k(be)h(a)f(constant\).)49
b(Note)28 b(that)f(for)g Ft(s)8 b Fv(:)28 b Ft(S)h Fv(we)e(must)g(ha)o
(v)o(e)34 b Ft(p)13 b Fr(+)h Ft(n)c Fm(\000)g Fv(1)q(,)2049
2942 y Ft(i)2070 2955 y Fu(0)2103 2942 y Fv(,)23 b Ft(i)2166
2955 y Fu(1)2199 2942 y Fv(,)g(.)11 b(.)g(.)g(,)23 b
Ft(i)2394 2955 y Fj(n)p Fp(\000)p Fu(1)2523 2942 y Fv(in)c
Ft(W)10 b Fv(.)34 b(Such)23 b(stores)g Ft(s)g Fv(are)g(called)g
Ft(arr)o(ay)h(se)m(gments)f Fv(and)2049 3025 y(the)o(y)g(are)f
(designated)i(with)e(a)g(pair)g(of)g(w)o(ords)h Fr(\()6
b Ft(p)p Fq(;)i Ft(n)p Fr(\))p Fv(.)34 b(W)-6 b(e)21
b(introduce)j(into)2049 3108 y(P)-7 b(A)21 b(a)g(binary)h(relation)f
Ft(s)d Fd(m)g Ft(v)j Fv(saying)h(that)f Ft(s)g(is)g(an)h(arr)o(ay)g(se)
m(gment)f(desig-)2049 3191 y(nated)g(by)g(v)p Fv(,)g(i.e.,)e(holding)j
(if)n(f)e Ft(s)8 b Fv(:)26 b Ft(S)q Fv(,)20 b Ft(v)e
Fr(=)f(\()6 b Ft(p)p Fq(;)i Ft(n)p Fr(\))g Fv(:)22 b
Ft(W)3444 3164 y Fu(2)3497 3191 y Fv(for)f(some)27 b
Ft(p)p Fv(,)20 b Ft(n)p Fv(,)h(and)2049 3274 y Ft(dom)q
Fr(\()p Ft(m)p Fr(\))d(=)24 b Ft(p)p Fq(;)14 b Ft(p)p
Fr(+)p Fv(1)p Fq(;)8 b(:)g(:)g(:)g(;)14 b Ft(p)p Fr(+)p
Ft(n)p Fm(\000)q Fv(1)p Fq(;)8 b Fv(0.)32 b(Note)22 b(that)f(we)h(ha)o
(v)o(e)g(0)d Fd(m)24 b Ft(p)p Fq(;)8 b Fv(0.)31 b(W)-6
b(e)2049 3357 y(also)19 b(de\002ne)g(the)g Ft(se)m(gment)h(length)f
Fv(function)h Ft(L)p Fr(\()n Ft(t)5 b Fr(\))18 b Fv(s.t.)23
b Ft(L)p Fr(\(\()6 b Ft(p)p Fq(;)i Ft(n)p Fr(\)\))16
b(=)h Ft(n)p Fv(.)2049 3523 y(W)-6 b(e)27 b(introduce)h(into)g(P)-7
b(A)26 b(by)i(conditional)h(clausal)e(de\002nitions)h(the)f
Ft(stor)m(e)2049 3606 y(inde)o(xing)18 b(s)p Fr([)6 b
Ft(p)p Fr(])p Fv(,)16 b(and)i Ft(modi\002cation)h(s)p
Fr([)6 b Ft(p)p Fv(:)p Fr(=)o Ft(w)p Fr(])17 b Fv(functions.)23
b(The)o(y)17 b(are)g(similar)2049 3689 y(to)i(the)h(corresponding)i
(list)c(functions)i(e)o(xcept)h(that)e(the)o(y)h(do)f(not)h(inde)o(x)g
(by)2049 3772 y(position)f(within)g Ft(s)g Fv(b)o(ut)g(by)g(ar)o
(guments)26 b Ft(p)18 b Fv(in)h(the)g(elements)g Fr(\()6
b Ft(p)p Fq(;)i Ft(v)p Fr(\))19 b Fv(of)g Ft(s)p Fv(.)2049
3988 y Fw(3.3)99 b(Functions)26 b(of)f(P)n(eano)g(P)o(ascal)2049
4155 y Fv(PP)d(functions)h(are)g(a)g(subclass)h(of)e(CL)h(functions.)35
b(PP)22 b(functions,)i(by)g(be-)2049 4238 y(ing)32 b(declarati)n(v)o
(e,)i(af)n(ford)e(proofs)g(in)g(P)-7 b(A)30 b(of)i(their)f(properties.)
61 b(On)32 b(the)2049 4321 y(other)37 b(hand,)k(PP)35
b(functions)i(are)f(e)o(xtremely)h(lo)n(w-le)n(v)o(el)f(because)h(the)o
(y)2049 4404 y(are)29 b(permitted)g(only)h(to)f(access)g(their)g(ar)o
(guments)h(\(by)f(pairing\),)j(to)d(ac-)2049 4487 y
(cess/modify/allocate)i(the)f(store,)j(and)d(to)g(call)g(pre)n(viously)
h(de\002ned)g(PP)2049 4570 y(functions.)23 b(The)17 b(ar)o(guments)h
(of)f(calls)g(are)g(constructed)h(by)g(pairing)g(and)f(by)2049
4653 y(the)23 b(basic)h(arithmetical)f(operations)i(\()p
Fr(+)p Fv(,)f Fm(\001)o Fv(,)g(.)11 b(.)g(.)g(\).)36
b(The)24 b(only)g(discrimina-)2049 4736 y(tions)c(are)g(numeric)g
(discriminations,)g(for)g(instance,)g(dichotomy)-5 b(,)21
b(and)g(the)2049 4819 y(pair)d(discrimination.)24 b(The)18
b(latter)f(only)i(with)f(single)h(alternati)n(v)o(es)f
Ft(x)e Fr(=)h Ft(v)-6 b Fq(;)8 b Ft(w)2049 4902 y Fv(in)19
b(conte)o(xts)g(where)h(we)e(kno)n(w)i(that)f Ft(x)9
b Fv(:)20 b Ft(W)3168 4875 y Fu(2)3201 4902 y Fv(.)2049
5068 y(An)j Fr(\()p Ft(n)12 b Fr(+)g Fv(1)p Fr(\))p Fv(-ary)24
b(PP-function)34 b Ft(f)2944 5041 y Fp(0)2964 5068 y
Fr(\()p 2993 5026 34 3 v Ft(x)p Fr(\))23 b Fv(accessing)i(the)e(store)g
(is)g(condition-)2049 5151 y(ally)i(de\002ned)h(with)f(a)g(condition)h
(\(pro)o(v)n(ably\))g(implying)p 3586 5110 V 26 w Ft(x)9
b Fv(:)27 b Fs(s)13 b Fm(\002)g Ft(S)25 b Fv(where)2049
5234 y Fs(s)f Fv(is)g(a)h(simple)g(type)f(of)h(length)g
Ft(n)p Fv(.)40 b(The)25 b(type)g Fs(s)12 b Fm(\002)h
Ft(S)25 b Fv(is)f(called)h(the)f Ft(input)2049 5317 y(type)d
Fv(of)31 b Ft(f)2319 5290 y Fp(0)2339 5317 y Fv(.)d(Proof)20
b(obligations)h(thus)g(generated)g(will)f(guarantee)h(that)g(the)2049
5400 y(arithmetical)e(operations)h(do)f(not)g(o)o(v)o(er\003o)n(w)g
(the)g(w)o(ords.)p eop
%%Page: 4 4
4 3 bop -150 83 a Fv(The)19 b(function)31 b Ft(f)296
56 y Fp(0)334 83 y Fv(must)19 b(pro)o(v)n(ably)i(satisfy)p
993 42 34 3 v 18 w Ft(x)9 b Fv(:)25 b Fs(s)10 b Fm(\002)g
Ft(S)18 b Fm(!)28 b Ft(f)1394 56 y Fp(0)1414 83 y Fr(\()p
1443 42 V Ft(x)p Fq(;)8 b Ft(s)p Fr(\))g Fv(:)25 b Fs(t)18
b Fv(where)-150 166 y Fs(t)p Fv(,)28 b(called)e(the)h
Ft(output)g(type)p Fv(,)i(is)d(either)g Fs(t)946 179
y Fu(1)992 166 y Fm(\002)14 b Ft(S)27 b Fv(or)1216 114
y Fe(S)1274 166 y Fm(f)p Fs(t)1344 179 y Fu(1)1390 166
y Fm(\002)14 b Ft(S)q Fq(;)8 b Fm(f)p Fv(0)p Fm(gg)27
b Fv(for)g(a)-150 249 y(simple)21 b(type)g Fs(t)252 262
y Fu(1)285 249 y Fv(.)27 b(The)21 b(second)h(form)e(of)h(output)g
(typing)h(is)e(used)h(to)f(signal)-150 332 y(the)f Ft(heap)h(e)o
(xhausted)g Fv(condition)g(when)30 b Ft(f)964 305 y Fp(0)1003
332 y Fv(yields)19 b(2)p Fq(;)8 b Fv(0.)-150 498 y(PP)17
b(functions)h(not)h(accessing)f(the)g(store)g(are)g(typed)h(similarly)e
(b)o(ut)h(without)-150 581 y(the)i(type)g Ft(S)q Fv(.)25
b(An)20 b(e)o(xample)g(is)f(the)h Ft(heap)h(allocation)f
Fv(function)g Ft(Ne)o(w)1640 554 y Fp(0)1669 581 y Fv(:)h
Ft(W)f Fm(\002)-154 664 y Ft(W)-82 637 y Fu(2)-29 664
y Fm(!)66 612 y Fe(S)124 664 y Fm(f)l Ft(W)j Fm(\002)9
b Ft(W)380 637 y Fu(2)414 664 y Fq(;)f Fm(f)p Fv(0)p
Fm(gg)26 b Fv(which)g(allocates)g Ft(k)h Fv(w)o(ords)f(into)32
b Ft(p)25 b Fv(from)h(the)-150 747 y(heap)20 b Ft(h)f
Fv(designated)h(by)f(an)h(array)f(se)o(gment:)-108 879
y Ft(Ne)o(w)23 848 y Fp(0)43 879 y Fr(\()p Ft(k)q Fq(;)8
b Ft(h)p Fr(\))18 b(=)e Fv(1)p Fq(;)e Ft(p)p Fq(;)8 b
Fr(\()e Ft(p)k Fr(+)g Ft(k)q Fq(;)e Ft(n)712 850 y Fv(.)689
879 y Fm(\000)j Ft(k)q Fr(\))17 b Fm( )f Ft(h)h Fr(=)23
b Ft(p)p Fq(;)8 b Ft(n)i Fm(^)g Ft(k)19 b Fq(<)e Ft(n)1357
972 y Fm( )g Ft(k)q Fq(;)8 b Ft(h)g Fv(:)22 b Ft(W)e
Fm(\002)6 b Ft(W)1818 945 y Fu(2)-108 1093 y Ft(Ne)o(w)23
1062 y Fp(0)43 1093 y Fr(\()p Ft(k)q Fq(;)i Ft(h)p Fr(\))18
b(=)e Fv(2)p Fq(;)8 b Fv(0)442 b Fm( )16 b Ft(h)h Fr(=)23
b Ft(p)p Fq(;)8 b Ft(n)i Fm(^)g Ft(k)19 b Fm(\025)e Ft(n)1357
1186 y Fm( )g Ft(k)q Fq(;)8 b Ft(h)g Fv(:)22 b Ft(W)e
Fm(\002)6 b Ft(W)1818 1159 y Fu(2)-150 1319 y Fv(The)26
b(function)h(does)f(not)h(access)f(the)g(store)g(because)h(it)f
(operates)g(on)h(the)-150 1402 y(heap)20 b(designator)g(only)-5
b(.)-150 1568 y(The)23 b(abo)o(v)o(e)i(\(declarati)n(v)o(e\))f(PP)e
(function)36 b Ft(f)1009 1541 y Fp(0)1052 1568 y Fv(is)23
b(on)h(such)g(a)g(lo)n(w)f(le)n(v)o(el)h(that)-150 1651
y(it)18 b(can)h(be)h(directly)f(transformed)g(into)g(an)g(imperati)n(v)
o(e)g(machine)h(program,)-150 1734 y(or)i(for)g(a)g(better)f
(visualization,)i(into)f(a)g(C)g(function)g Ft(F)6 b
Fv(.)32 b(In)22 b(the)g(latter)f(case)-150 1817 y Ft(F)26
b Fv(will)19 b(ha)o(v)o(e)h Ft(n)g Fv(ar)o(guments)h(of)f(type)h
Ft(long)f(unsigned)p Fv(,)i(and)f Ft(L)p Fr(\()p Fs(t)p
Fr(\))e Ft(var)i Fv(ar)o(gu-)-150 1900 y(ments,)e(i.e.,)f(ar)o(guments)
i(of)f(type)h Ft(long)g(unsigned)p Fm(\003)p Fv(.)26
b(The)19 b(store)g(is)g(omitted)-150 1983 y(from)g(the)g(de\002nition)g
(of)g Ft(F)6 b Fv(.)-150 2149 y(The)28 b(arithmetic)f(in)g
Ft(F)34 b Fv(is)27 b(done)i(by)f(the)f Ft(long)i(unsigned)g
Fv(arithmetic,)g(in-)-150 2232 y(de)o(xings)i(of)e(store)h
Ft(s)p Fr([)6 b Ft(p)p Fr(])22 b(=)g Ft(x)30 b Fv(in)40
b Ft(f)786 2205 y Fp(0)836 2232 y Fv(are)29 b(replaced)h(by)g
(assignments)h Ft(x)23 b Fr(=)-150 2315 y Fm(\003)p Fr(\(\()p
Ft(long)d(unsigned)r Fm(\003)p Fr(\))6 b Ft(p)p Fr(\))p
Fv(,)19 b(modi\002cations)i(of)f(store)f Ft(s)p Fr([)6
b Ft(p)p Fv(:)p Fr(=)p Ft(v)p Fr(])17 b(=)g Ft(s)1563
2328 y Fu(1)1616 2315 y Fv(in)31 b Ft(f)1737 2288 y Fp(0)1776
2315 y Fv(by)-150 2398 y(indirect)e(assignments)h Fm(\003)p
Fr(\(\()p Ft(long)20 b(unsigned)r Fm(\003)p Fr(\))6 b
Ft(p)p Fr(\))22 b(=)g Ft(v)p Fv(,)31 b(and)f(heap)g(alloca-)-150
2481 y(tions)h Ft(Ne)o(w)158 2454 y Fp(0)178 2481 y Fr(\()p
Ft(k)q Fq(;)8 b Ft(h)p Fr(\))25 b(=)k Ft(p)p Fq(;)8 b
Ft(h)551 2454 y Fp(0)603 2481 y Fv(in)42 b Ft(f)735 2454
y Fp(0)786 2481 y Fv(by)32 b(calls)f(on)h(a)c Ft(C)33
b Fv(function)f(in)m(v)o(oking)-150 2564 y Ft(malloc)p
Fv(.)-150 2730 y(No)19 b(heap)g(is)f(needed)i(for)f(the)f(pairing)h
(operations)h(on)f(ar)o(guments)g(of)g Ft(F)24 b Fv(\(or)-150
2813 y(of)17 b(functions)g(called)g(from)g(it\))e(because)j(each)f
(input)g(and)h(output)f(ar)o(gument)-150 2896 y(of)32
b Ft(f)-24 2869 y Fp(0)17 2896 y Fv(\(or)21 b(of)h(the)f(called)g
(function\))h(maps)g(directly)f(to)g(an)h(ar)o(gument)g(of)f
Ft(F)-150 2979 y Fv(\(or)e(of)g(the)g(called)g(function\).)-150
3170 y Fw(3.4)99 b(Repr)n(esentation)27 b(of)e(high-le)o(v)o(el)f(CL)h
(v)o(alues)74 3270 y(in)g(the)h(stor)n(e)-150 3437 y
Fv(W)-6 b(e)19 b(can)h(represent)g(in)g(store)f(by)h(a)g
Ft(PP-type)e(T)29 b Fv(a)19 b(subset)h(of)g(high)g(le)n(v)o(el)g(CL)
-150 3520 y(objects)25 b(\(of)g(natural)g(numbers)h(that)f(is\))f(gi)n
(v)o(en)i(by)g(a)e(unary)i(predicate)g Ft(P)p Fv(.)-150
3603 y(This)k(is)f(done)i(by)g(designing)g(a)f(three-place)h
Ft(r)m(epr)m(esentation)h Fv(predicate)-150 3686 y Ft(x)17
b Fm(\030)-42 3659 y Fj(T)-42 3704 y(s)25 3686 y Ft(p)h
Fv(satisfying:)135 3831 y Ft(x)f Fm(\030)243 3800 y Fj(T)243
3849 y(s)310 3831 y Ft(p)10 b Fm(^)g Ft(s)17 b Fm(\022)g
Ft(s)567 3844 y Fu(1)616 3831 y Fm(!)g Ft(P)p Fr(\()p
Ft(x)p Fr(\))10 b Fm(^)g Ft(s)e Fv(:)25 b Ft(S)11 b Fm(^)16
b Ft(p)8 b Fv(:)26 b Fs(t)10 b Fm(^)g Ft(x)17 b Fm(\030)1415
3800 y Fj(T)1415 3849 y(s)1438 3858 y Fb(1)1489 3831
y Ft(p)i Fq(:)-150 3963 y Fv(Here)26 b Fs(t)f Fv(is)g(a)h(simple)f
(type,)j(most)e(often)21 b Ft(W)10 b Fv(.)43 b(W)-6 b(e)25
b(say)h(that)32 b Ft(p)25 b(r)m(epr)m(esents)-150 4046
y(the)h(value)g(x)f(in)h(the)f(stor)m(e)h(s)p Fv(.)43
b(Note)25 b(that)h(this)f(guarantees)i Ft(monotonicity)-150
4129 y Fv(e)o(xpressing)22 b(the)f(f)o(act)g(that)g(a)g(lar)o(ger)g
(store)g(\()p Ft(s)1034 4142 y Fu(1)1067 4129 y Fv(\))f(does)i(not)f
(change)i(the)e(rep-)-150 4212 y(resentation)f(of)e Ft(x)p
Fv(.)-150 4378 y(W)m(ith)29 b(e)n(v)o(ery)h(PP-type)e
Ft(T)38 b Fv(we)29 b(associate)h(a)f(set)h(of)f(basic)g(high-le)n(v)o
(el)i(CL)-150 4461 y(operations)21 b(\(including)g(discriminations\))f
(and)h(type)f(them)h(with)e(the)h(help)-150 4544 y(of)d
Ft(T)9 b Fv(.)22 b(W)-6 b(e)16 b(then)h(program)h(\(by)f(hand\))h
(corresponding)h(PP)c(operations,)j(and)-150 4627 y(correlate)g(the)g
(tw)o(o)g(sets)f(by)h(properties)h(pro)o(v)o(ed)f(by)h(hand)f(\(see)g
(P)o(aragraphs)-150 4710 y(3.5,)j(4.1,)h(and)f(4.4\).)29
b(The)21 b(pairs)g(of)g(operations)h(and)g(their)e(properties)i(will)
-150 4793 y(be)d(used)h(by)f(the)g(CL-to-PP)e(translator)l(.)-150
4984 y Fw(3.5)99 b(Repr)n(esentation)27 b(of)e(natural)g(numbers)-150
5151 y Fv(If)e(our)g(program)i(w)o(orks)f(with)f(small)g(numbers,)i(we)
e(can)h(represent)g(them)-150 5234 y(in)g(the)h(store)f(directly)g(by)h
(de\002ning)g(a)f(PP-type)c Ft(W)34 b Fv(with)24 b(the)g(representa-)
-150 5317 y(tion)29 b(predicate)g(introduced)g(as)g Ft(x)22
b Fm(\030)845 5290 y Fj(W)848 5335 y(s)927 5317 y Ft(n)g
Fm($)g Ft(n)8 b Fv(:)25 b Ft(W)e Fm(^)14 b Ft(x)22 b
Fr(=)g Ft(n)p Fv(.)52 b(Ho)n(we)n(v)o(er)m(,)-150 5400
y(the)17 b(design)i(of)e(high-le)n(v)o(el)h(CL)f(functions)h(with)f(ar)
o(guments)h(to)f(be)g(mapped)p 2049 3 2001 4 v 2059 136
a Ft(p)g Fm(\030)2171 105 y Fj(N)2171 155 y(s)2240 136
y Ft(p)p Fh(1)p 2277 148 34 3 v(1)p 2310 148 V 94 w Fm( )23
b Ft(p)p Fh(1)p 2572 148 V(1)p 2605 148 V Fq(;)8 b Ft(s)g
Fv(:)21 b Ft(W)10 b Fm(\002)p Ft(S)2053 263 y(n)p Fh(0)p
2090 276 V 17 w Fm(\030)2198 232 y Fj(N)2198 281 y(s)2268
263 y Ft(p)p Fh(0)p 2305 276 V(1)p 2338 275 V 66 w Fm( )23
b Ft(p)p Fh(0)p 2572 276 V(1)p 2605 275 V Fq(;)8 b Ft(s)g
Fv(:)21 b Ft(W)10 b Fm(\002)p Ft(S)h Fm(^)f Ft(n)17 b
Fq(>)g Fv(0)10 b Fm(^)g Ft(s)3285 221 y Fq(:)3266 263
y Fr(=)17 b([)6 b Ft(p)p Fh(0)p 3405 276 V(0)p 3438 276
V 17 w Fm(7!)16 b Ft(q)p Fr(])10 b Fq(?)g Ft(s)3723 276
y Fu(1)3768 263 y Fm(^)g Ft(n)17 b Fm(\030)3940 232 y
Fj(N)3940 281 y(s)3963 290 y Fb(1)4008 263 y Ft(q)2053
392 y(n)p Fh(1)p 2090 404 V 17 w Fm(\030)2198 361 y Fj(N)2198
410 y(s)2268 392 y Ft(p)p Fh(1)p 2305 404 V(0)p 2338
405 V 66 w Fm( )23 b Ft(p)p Fh(1)p 2572 404 V(0)p 2605
405 V Fq(;)8 b Ft(s)g Fv(:)21 b Ft(W)10 b Fm(\002)p Ft(S)h
Fm(^)f Ft(s)3049 350 y Fq(:)3030 392 y Fr(=)17 b([)6
b Ft(p)p Fh(0)p 3169 405 V -1 w(0)p 3201 405 V 17 w Fm(7!)17
b Ft(q)p Fr(])10 b Fq(?)g Ft(s)3487 405 y Fu(1)3531 392
y Fm(^)g Ft(n)18 b Fm(\030)3704 361 y Fj(N)3704 410 y(s)3727
419 y Fb(1)3772 392 y Ft(q)2053 521 y(n)p Fq(;)8 b Ft(m)17
b Fm(\030)2248 490 y Fj(N)2248 539 y(s)2317 521 y Ft(p)p
Fh(0)p 2354 534 V(0)p 2387 534 V 17 w Fm( )23 b Ft(p)p
Fh(0)p 2572 534 V(0)p 2605 534 V Fq(;)8 b Ft(s)g Fv(:)21
b Ft(W)10 b Fm(\002)p Ft(S)h Fm(^)f Ft(s)3049 478 y Fq(:)3030
521 y Fr(=)17 b([)6 b Ft(p)p Fh(0)p 3169 534 V -1 w(0)p
3201 534 V 17 w Fm(7!)17 b Ft(q)p Fv(;)8 b Ft(r)r Fr(])i
Fq(?)g Ft(s)3547 534 y Fu(1)3591 521 y Fm(^)2529 647
y Ft(n)17 b Fm(\030)2641 617 y Fj(N)2641 666 y(s)2664
675 y Fb(1)2709 647 y Ft(q)10 b Fm(^)g Ft(m)17 b Fm(\030)2945
617 y Fj(N)2945 666 y(s)2968 675 y Fb(1)3014 647 y Ft(r)2138
780 y Fg(Figur)o(e)h(2.)23 b(Mixed)18 b(mode)h(r)o(epr)o(esentation)f
(of)h(natural)g(numbers)p 2049 863 2001 4 v 2049 1138
a Fv(into)j(the)g(PP-type)17 b Ft(W)32 b Fv(will)21 b(not)h(be)g(v)o
(ery)h(pleasant.)33 b(W)-6 b(e)21 b(will)g(ha)o(v)o(e)h(to)g(sat-)2049
1221 y(isfy)i(possibly)g(man)o(y)h(proof)f(obligations)h(generated)g
(for)e(such)i(functions)2049 1304 y(in)19 b(order)g(to)g(pre)n(v)o(ent)
h(o)o(v)o(er\003o)n(ws.)2049 1470 y(Alternati)n(v)o(ely)-5
b(,)20 b(one)g(can)g(decide)g(to)g(w)o(ork)g(with)f(natural)h(numbers)h
(of)f(`un-)2049 1553 y(limited')h(precision)i(\(subject)f(to)f(heap)i
(e)o(xhaustion\))g(and)f(represent)g(natu-)2049 1636
y(ral)17 b(numbers)i(by)f(lists)f(of)g(w)o(ords.)23 b(Ho)n(we)n(v)o(er)
m(,)c(e)n(v)o(ery)f(CL)f(v)n(alue)h(is)f(a)h(natural)2049
1719 y(number)m(,)27 b(and)f(we)f(can)g(perform)h(in)f(the)g(high-le)n
(v)o(el)h(CL)e(programs)i(arbi-)2049 1802 y(trary)d(pairing)h(and/or)g
(arithmetical)f(operations)h(on)g(them.)36 b(Thus)23
b(it)g(is)g(of)2049 1885 y(adv)n(antage)31 b(to)e(use)g(the)h
Ft(mixed)f(mode)h Fv(representation)g(of)f(natural)g(num-)2049
1968 y(bers)20 b(by)g(a)f(PP-type)g Ft(N)k Fv(whose)d(representation)h
(predicate)f(is)f(gi)n(v)o(en)h(by)g(the)2049 2051 y(clausal)g
(de\002nition)h(in)e(Fig.)h(2.)26 b(Note)20 b(that)g(if)f
Ft(x)f Fm(\030)3352 2024 y Fj(N)3352 2070 y(s)3422 2051
y Ft(p)h Fv(holds,)i(then)g(the)f(tw)o(o)2049 2134 y(least)c
(signi\002cant)g(bits)f(of)22 b Ft(p)16 b Fv(determine)g(whether)22
b Ft(p)16 b Fv(directly)g(holds)g(a)g(small)2049 2217
y(number)k Fq(<)p Fv(2)2391 2190 y Fu(30)2473 2217 y
Fv(\(the)f(\002rst)f(clause\),)i(whether)25 b Ft(p)19
b Fv(points)h(to)f(a)g Ft(cons)p Fv(-cell)h(\(the)2049
2300 y(fourth)j(clause\),)h(or)f(whether)30 b Ft(p)22
b Fv(represents)i(one)g(of)f(the)g(tw)o(o)g(binary)h(suc-)2049
2383 y(cessors.)2049 2549 y(Basic)f(CL)g(operations)i(\(which)e(by)h
([11)q(])f(are)h(suf)n(\002cient)f(for)g(the)h(ef)n(\002cient)2049
2632 y(programming)k(of)e(all)g(computable)i(CL)e(functions\))h(are)f
(typed)h(by)g Ft(N)k Fv(as)2049 2715 y(follo)n(ws:)50
b(0)8 b(:)30 b Ft(N)t Fv(,)35 b Ft(S)2583 2727 y Fj(i)2612
2715 y Fv(:)30 b Ft(N)e Fm(!)23 b Ft(N)t Fv(,)36 b(and)c
Ft(P)24 b Fr(=)g Fs(l)p Ft(xy)l Fq(:)p Fr(\()p Ft(x)p
Fq(;)8 b Ft(y)p Fr(\))g Fv(:)31 b Ft(N)3630 2688 y Fu(2)3687
2715 y Fm(!)24 b Ft(N)t Fv(.)62 b(Dis-)2049 2798 y(criminations)27
b(are)g(typed)g(by)g Ft(N)f Fm(!)3031 2746 y Fe(S)3089
2798 y Fm(ff)p Fv(0)p Fm(g)p Fq(;)8 b Fm(f)p Fv(0)p Fm(gg)29
b Fv(\(test)d(on)h(zero\),)i Ft(N)c Fm(!)2049 2829 y
Fe(S)2107 2881 y Fm(f)p Ft(N)t Fq(;)8 b Ft(N)t Fm(g)20
b Fv(\(binary)f(discr)l(.\),)f(and)i Ft(N)h Fm(!)3083
2829 y Fe(S)3140 2881 y Fm(ff)p Fv(0)p Fm(g)p Fq(;)8
b Ft(N)17 b Fm(\002)10 b Ft(N)t Fm(g)19 b Fv(\(pair)g(discr)l(.\).)2049
3057 y(The)f(corresponding)i(PP)c(operations)j(are)f(typed)h(as)f(0)8
b(:)21 b Ft(W)10 b Fv(,)17 b Ft(S)3663 3030 y Fp(0)3662
3080 y Fj(i)3692 3057 y Fv(:)j Ft(W)f Fm(\002)5 b Ft(W)3949
3030 y Fu(2)3992 3057 y Fm(\002)2049 3155 y Ft(S)23 b
Fm(!)2205 3103 y Fe(S)2263 3155 y Fm(f)l Ft(W)h Fm(\002)10
b Ft(W)2521 3128 y Fu(2)2569 3155 y Fm(\002)k Ft(S)q
Fq(;)8 b Fm(f)p Fv(0)p Fm(gg)p Fv(,)31 b(and)e Ft(P)3088
3128 y Fp(0)3116 3155 y Fv(:)24 b Ft(W)g Fm(\002)10 b
Ft(W)23 b Fm(\002)10 b Ft(W)3540 3128 y Fu(2)3587 3155
y Fm(\002)k Ft(S)23 b Fm(!)3815 3103 y Fe(S)3873 3155
y Fm(f)l Ft(W)h Fm(\002)2045 3248 y Ft(W)2117 3221 y
Fu(2)2160 3248 y Fm(\002)10 b Ft(S)q Fq(;)e Fm(f)p Fv(0)p
Fm(gg)p Fv(.)25 b(W)-6 b(e)18 b(gi)n(v)o(e)i(here)f(just)g(the)g
(clausal)g(de\002nition)g(of)g Ft(P)3790 3221 y Fp(0)3810
3248 y Fv(:)2091 3406 y Ft(P)2137 3376 y Fp(0)2156 3406
y Fr(\()6 b Ft(p)p Fq(;)i Ft(q)p Fq(;)g Ft(h)p Fq(;)g
Ft(s)p Fr(\))18 b(=)e Fv(1)p Fq(;)8 b Ft(r)-7 b Fq(;)8
b Ft(h)2693 3376 y Fp(0)2715 3406 y Fq(;)g Ft(s)2773
3376 y Fp(0)2809 3406 y Fm( )17 b Ft(Ne)o(w)3032 3376
y Fp(0)3053 3406 y Fr(\()p Fv(2)p Fq(;)8 b Ft(h)p Fr(\))17
b(=)g Fv(1)p Fq(;)8 b Ft(r)-7 b Fq(;)8 b Ft(h)3460 3376
y Fp(0)3491 3406 y Fm(^)2240 3531 y Ft(s)p Fr([)p Ft(r)r
Fv(:)p Fr(=)d Ft(p)p Fr(][)p Ft(r)12 b Fr(+)e Fv(1:)p
Fr(=)p Ft(q)p Fr(])17 b(=)g Ft(s)2888 3503 y Fp(0)3160
3531 y Fm( )23 b Ft(p)p Fq(;)8 b Ft(q)p Fq(;)g Ft(h)p
Fq(;)g Ft(s)g Fv(:)21 b Ft(W)f Fm(\002)6 b Ft(W)21 b
Fm(\002)6 b Ft(W)3900 3503 y Fu(2)3944 3531 y Fm(\002)k
Ft(S)2091 3651 y(P)2137 3620 y Fp(0)2156 3651 y Fr(\()c
Ft(p)p Fq(;)i Ft(q)p Fq(;)g Ft(h)p Fq(;)g Ft(s)p Fr(\))18
b(=)e Fv(2)p Fq(;)8 b Fv(0)167 b Fm( )17 b Ft(Ne)o(w)3032
3620 y Fp(0)3053 3651 y Fr(\()p Fv(2)p Fq(;)8 b Ft(h)p
Fr(\))17 b(=)g Fv(2)p Fq(;)8 b Fv(0)3160 3744 y Fm( )23
b Ft(p)p Fq(;)8 b Ft(q)p Fq(;)g Ft(h)p Fq(;)g Ft(s)g
Fv(:)21 b Ft(W)f Fm(\002)6 b Ft(W)21 b Fm(\002)6 b Ft(W)3900
3717 y Fu(2)3944 3744 y Fm(\002)k Ft(S)2049 3904 y Fv(Both)18
b(pairing)h(operations)g(are)f(connected)h(together)g(with)e(the)i
(partial)e(cor)o(-)2049 3987 y(rectness)i(property)h(pro)o(v)o(ed)g(in)
f(P)-7 b(A:)2132 4180 y Ft(n)17 b Fm(\030)2244 4149 y
Fj(N)2244 4199 y(s)2313 4180 y Ft(p)10 b Fm(^)g Ft(m)17
b Fm(\030)2549 4149 y Fj(N)2549 4199 y(s)2612 4180 y
Ft(q)10 b Fm(^)g Ft(s)2748 4193 y Fu(1)2799 4180 y Fd(m)16
b Ft(h)10 b Fm(^)g Ft(P)3028 4149 y Fp(0)3049 4180 y
Fr(\()c Ft(p)p Fq(;)i Ft(q)p Fq(;)g Ft(h)p Fq(;)g Ft(s)i
Fq(?)g Ft(s)3397 4193 y Fu(1)3432 4180 y Fr(\))17 b(=)f
Fv(1)p Fq(;)8 b Ft(r)-7 b Fq(;)8 b Ft(h)3706 4149 y Fp(0)3728
4180 y Fq(;)g Ft(s)3786 4149 y Fp(0)3822 4180 y Fm(!)2494
4307 y(9)p Ft(s)2565 4276 y Fp(0)2565 4327 y Fu(1)2598
4307 y Fm(9)p Ft(s)2669 4320 y Fu(2)2702 4307 y Fr(\()p
Ft(s)2760 4276 y Fp(0)2797 4307 y Fr(=)16 b Ft(s)10 b
Fq(?)g Ft(s)2986 4320 y Fu(2)3031 4307 y Fq(?)g Ft(s)3107
4276 y Fp(0)3107 4327 y Fu(1)3152 4307 y Fm(^)g Fr(\()p
Ft(n)p Fq(;)e Ft(m)p Fr(\))17 b Fm(\030)3465 4276 y Fj(N)3465
4325 y(s)p Fi(?)p Fj(s)3540 4334 y Fb(2)3585 4307 y Ft(r)12
b Fm(^)e Ft(s)3715 4276 y Fp(0)3715 4327 y Fu(1)3765
4307 y Fd(m)16 b Ft(h)3878 4276 y Fp(0)3899 4307 y Fr(\))i
Fq(:)2049 4477 y Ft(S)2087 4450 y Fp(0)2086 4499 y Fj(i)2128
4477 y Fv(will)i(perform)h(optimization)h(when)g(the)f(result)g(can)g
(be)h(represented)g(as)2049 4560 y(a)d(small)f(number)i(\(this)f
(corresponds)i(to,)d(say)-5 b(,)19 b Ft(S)3324 4572 y
Fj(i)3345 4560 y Fr(\()p Fv(128)p Fr(\))p Fv(\).)2049
4726 y(The)f(basic)g(PP)e(discrimination)i(functions)h(for)e
Ft(N)22 b Fv(are)c(slightly)f(more)h(com-)2049 4809 y(plicated.)k(F)o
(or)14 b(instance,)i(the)f(function)h Ft(Db)3183 4780
y Fp(0)3218 4809 y Fv(corresponding)h(to)d(binary)i(dis-)2049
4892 y(crimination)24 b(is)f(typed)i(as)e Ft(Db)2857
4863 y Fp(0)2885 4892 y Fv(:)g Ft(W)e Fm(\002)8 b Ft(W)3150
4865 y Fu(2)3196 4892 y Fm(\002)k Ft(S)20 b Fm(!)3417
4840 y Fe(S)3475 4892 y Fm(f)l Ft(W)i Fm(\002)8 b Ft(W)3730
4865 y Fu(2)3775 4892 y Fm(\002)k Ft(S)q Fq(;)t Ft(W)22
b Fm(\002)2045 4985 y Ft(W)2117 4958 y Fu(2)2163 4985
y Fm(\002)13 b Ft(S)q Fq(;)8 b Fm(f)p Fv(0)p Fm(gg)p
Fv(.)44 b(If)26 b Ft(Db)2679 4956 y Fp(0)2699 4985 y
Fr(\()6 b Ft(p)p Fq(;)i Ft(h)p Fq(;)g Ft(s)p Fr(\))21
b(=)f Fv(1)p Fq(;)8 b Ft(h)3126 4958 y Fp(0)3147 4985
y Fq(;)g Ft(s)3205 4958 y Fp(0)3251 4985 y Fv(then)26
b(the)g(call)f(may)h(perform)2049 5068 y(con)m(v)o(ersion)g(\(by)f
(computing)h(the)f(pairing)g(function\))h(if,)f(for)g(instance,)32
b Ft(p)2049 5151 y Fv(points)21 b(to)f(a)g(a)g Ft(cons)p
Fv(-cell)h(\(this)e(corresponds)j(to,)f(say)-5 b(,)20
b(the)g(high-le)n(v)o(el)h(case)2049 5234 y Ft(a)p Fq(;)8
b Ft(b)20 b Fr(=)g Ft(y)p Fh(0)p 2283 5247 34 3 v Fv(\).)38
b(The)24 b(computation)i(may)e(allocate)g(from)h(the)f(heap.)39
b(The)24 b(re-)2049 5317 y(turned)17 b(tag)g(2)f(corresponds)i(to)f
(the)f(case)h(when)23 b Ft(p)16 b Fv(represents)h(an)g(odd)g(num-)2049
5400 y(ber)i(and)h(the)f(tag)g(3)g(signals)g(the)g(heap)h(e)o(xhausted)
g(condition.)p eop
%%Page: 5 5
5 4 bop -150 83 a Fv(The)21 b(function)g Ft(Dp)347 56
y Fp(0)388 83 y Fv(corresponding)i(to)d(the)h(pair)g(discrimination)g
(is)f(typed)-150 166 y(similarly)29 b(because)h(a)f(numeric)h(ar)o
(gument,)i(say)d Ft(x)15 b Fr(+)f Fv(3,)31 b(can)f(be)f(brok)o(en)-150
249 y(do)n(wn)24 b(into)f(a)h(form)f Ft(v)-6 b Fq(;)8
b Ft(w)23 b Fv(only)h(by)g(computing)g(of)g(both)f(projection)h(func-)
-150 332 y(tions.)-150 498 y(Such)k(computations)h(are)f(time)f
(consuming)i(b)o(ut,)h(fortunately)-5 b(,)30 b(the)o(y)e(are)-150
581 y(rather)17 b(pathological)h(since)g(CL)e(programs)i(normally)f
(observ)o(e)i(a)d(type)i(dis-)-150 664 y(cipline)23 b(and)g(do)g(not)f
(perform)h(arithmetic)f(on)h Ft(cons)p Fv(ed)h(ar)o(guments)f(or)f(use)
-150 747 y(pair)d(discrimination)g(with)g(the)g(result)f(of)h(an)h
(arithmetical)e(operation.)-150 952 y Fw(3.6)99 b(CL)25
b(to)g(PP)g(translation)-150 1119 y Fv(T)m(ranslation)19
b(of)f(an)g Ft(n)p Fv(-ary)h(high-le)n(v)o(el)g(CL)e(function)30
b Ft(f)f Fv(into)18 b(a)g(PP-function)-139 1202 y Ft(f)-107
1175 y Fp(0)-66 1202 y Fv(is)i(triggered)h(by)g(the)g(typing)h(of)32
b Ft(f)f Fv(with)20 b(PP-types)h(as)f Ft(T)1417 1215
y Fu(1)1462 1202 y Fm(\002)11 b(\001)d(\001)g(\001)i(\002)h
Ft(T)1725 1213 y Fj(n)1776 1202 y Fm(!)-150 1285 y Ft(T)e
Fv(.)55 b(The)30 b(translator)f(checks)i(whether)f(the)g(clauses)g(of)
41 b Ft(f)f Fv(are)29 b(correctly)-150 1368 y(typed,)19
b(determines)g(the)g(typing)g(of)30 b Ft(f)842 1341 y
Fp(0)880 1368 y Fv(by)19 b(simple)f(types,)h(and)g(uses)g(the)g(PP)-150
1451 y(operations/discriminations)h(corresponding)g(to)e(the)g(high-le)
n(v)o(el)h(ones)g(for)-150 1534 y(the)g(construction)h(of)30
b Ft(f)472 1507 y Fp(0)511 1534 y Fv(\(see)19 b(Fig.)f(3\).)-150
1700 y(W)-6 b(e)19 b(can)i(visualize)f(the)g(translation)g(of)31
b Ft(f)f Fv(performed)21 b(by)f(the)g(current)g(v)o(er)o(-)-150
1783 y(sion)15 b(of)f(CL)g(\(which)h(does)g(not)g(w)o(ork)g(with)f
(PP\))f(by)i(the)g(typing)26 b Ft(f)19 b Fv(:)25 b Ft(N)1645
1756 y Fj(n)1691 1783 y Fm(!)12 b Ft(N)t Fv(.)-150 1866
y(The)28 b(translated)g(PP-function)g(will)f(be)h(typed)h(as)39
b Ft(f)1266 1839 y Fp(0)1295 1866 y Fv(:)24 b Ft(W)1411
1839 y Fj(n)1458 1866 y Fm(\002)10 b Ft(W)1598 1839 y
Fu(2)1645 1866 y Fm(\002)k Ft(S)22 b Fm(!)-150 1897 y
Fe(S)-92 1949 y Fm(f)p Ft(N)15 b Fm(\002)10 b Ft(N)132
1922 y Fu(2)176 1949 y Fm(\002)g Ft(S)q Fq(;)e Fm(f)p
Fv(0)p Fm(gg)p Fv(,)20 b(the)f(condition)h(on)f(its)g(de\002nition)g
(will)f(be:)-53 2102 y Fm(9)p Ft(s)18 2115 y Fu(0)51
2102 y Fm(9)p Ft(s)122 2115 y Fu(1)154 2102 y Fm(9)p
196 2060 34 3 v Ft(x)p Fr(\()p Ft(s)323 2060 y Fq(:)304
2102 y Fr(=)f Ft(s)408 2115 y Fu(0)451 2102 y Fq(?)10
b Ft(s)527 2115 y Fu(1)572 2102 y Fm(^)g Ft(x)665 2115
y Fu(1)715 2102 y Fm(\030)773 2071 y Fj(N)773 2120 y(s)796
2129 y Fb(0)847 2102 y Ft(p)884 2115 y Fu(1)928 2102
y Fm(^)g(\001)e(\001)g(\001)i(^)g Ft(x)1170 2113 y Fj(n)1220
2102 y Fm(\030)1278 2071 y Fj(N)1278 2120 y(s)1301 2129
y Fb(0)1352 2102 y Ft(p)1389 2113 y Fj(n)1433 2102 y
Fm(^)g Ft(s)1522 2115 y Fu(1)1572 2102 y Fd(m)16 b Ft(h)p
Fr(\))j Fq(;)-150 2242 y Fv(and)h(the)f Ft(partial)g
Fv(correctness)g(property)h(will)e(be:)-67 2417 y Ft(s)-3
2374 y Fq(:)-21 2417 y Fr(=)e Ft(s)82 2430 y Fu(0)126
2417 y Fq(?)10 b Ft(s)202 2430 y Fu(1)246 2417 y Fm(^)g
Ft(x)339 2430 y Fu(1)390 2417 y Fm(\030)448 2386 y Fj(N)448
2435 y(s)471 2444 y Fb(0)522 2417 y Ft(p)559 2430 y Fu(1)602
2417 y Fm(^)g(\001)e(\001)g(\001)j(^)f Ft(x)845 2428
y Fj(n)895 2417 y Fm(\030)953 2386 y Fj(N)953 2435 y(s)976
2444 y Fb(0)1027 2417 y Ft(p)1064 2428 y Fj(n)1108 2417
y Fm(^)341 2540 y Ft(s)370 2553 y Fu(1)420 2540 y Fd(m)16
b Ft(h)10 b Fm(^)21 b Ft(f)646 2509 y Fp(0)667 2540 y
Fr(\()p 696 2499 43 3 v 6 w Ft(p)p Fq(;)8 b Ft(h)p Fq(;)g
Ft(s)p Fr(\))17 b(=)g Fv(1)p Fq(;)8 b Ft(q)p Fq(;)g Ft(h)1153
2509 y Fp(0)1174 2540 y Fq(;)g Ft(s)1232 2509 y Fp(0)1269
2540 y Fm(!)314 2667 y(9)p Ft(s)385 2636 y Fp(0)385 2687
y Fu(1)418 2667 y Fm(9)p Ft(s)489 2680 y Fu(2)522 2667
y Fr(\()p Ft(s)580 2636 y Fp(0)635 2625 y Fq(:)616 2667
y Fr(=)17 b Ft(s)720 2680 y Fu(0)764 2667 y Fq(?)10 b
Ft(s)840 2680 y Fu(2)884 2667 y Fq(?)g Ft(s)960 2636
y Fp(0)960 2687 y Fu(1)1004 2667 y Fm(^)g Ft(s)1093 2636
y Fp(0)1093 2687 y Fu(1)1144 2667 y Fd(m)16 b Ft(h)1257
2636 y Fp(0)1288 2667 y Fm(^)21 b Ft(f)11 b Fr(\()p 1420
2626 34 3 v Ft(x)p Fr(\))17 b Fm(\030)1557 2636 y Fj(N)1557
2685 y(s)1580 2694 y Fb(0)1604 2685 y Fi(?)p Fj(s)1656
2694 y Fb(2)1702 2667 y Ft(q)p Fr(\))-150 2807 y Fv(Note)27
b(that)g(the)g(store)g Ft(s)480 2820 y Fu(2)540 2807
y Fv(is)g(allocated)h(from)f(the)g(heap)h Ft(h)p Fv(.)48
b(The)27 b(correct-)-150 2890 y(ness)19 b(assures)h(that)f(the)g
(properties)h(pro)o(v)o(ed)g(for)30 b Ft(f)f Fv(carry)20
b(o)o(v)o(er)f(to)g(the)g(v)n(alue)-150 2973 y(represented)27
b(in)g(the)f(store)g Ft(s)622 2946 y Fp(0)668 2973 y
Fv(by)h(the)f(result)g(pointer)h Ft(q)p Fv(.)45 b(Also)26
b(note)h(that)-150 3056 y(by)20 b(the)f(monotonicity)h(of)f
(representation,)h(the)f(v)n(alues)h(of)f(the)g(input)h(ar)o(gu-)-150
3139 y(ments)p 50 3098 V 22 w Ft(x)i Fv(are)g(not)g(destro)o(yed)h(in)f
(\002nal)g(store)f Ft(s)1076 3112 y Fp(0)1097 3139 y
Fv(.)31 b(W)-6 b(e)21 b(can,)i(namely)-5 b(,)23 b(deri)n(v)o(e)-150
3222 y Ft(x)-117 3234 y Fj(i)-80 3222 y Fm(\030)-22 3195
y Fj(N)-22 3240 y(s)1 3249 y Fb(0)26 3240 y Fi(?)p Fj(s)78
3249 y Fb(2)129 3222 y Ft(p)166 3234 y Fj(i)205 3222
y Fv(for)c(each)g(ar)o(gument)h Ft(x)799 3234 y Fj(i)819
3222 y Fv(.)-150 3397 y(Unless)g(we)g(are)g(willing)g(to)g(\002nd)g(a)g
(bound)h(on)g(the)f(size)g(of)31 b Ft(f)11 b Fr(\()p
1492 3356 V Ft(x)p Fr(\))20 b Fv(\(which)g(is)-150 3480
y(al)o(w)o(ays)h(possible)g(with)e(a)h(primiti)n(v)o(e)g(recursi)n(v)o
(e)32 b Ft(f)11 b Fv(\))20 b(and)g(pro)o(v)o(e)h(it)e(by)i(hand,)-150
3563 y(we)e(must)h(e)o(xpect)g(the)f Ft(heap)i(e)o(xhausted)f
Fv(condition.)26 b(This)19 b(is)g(the)h(only)g(rea-)-150
3646 y(son)i(for)f(partial)g(correctness)i(because)f(the)g(termination)
f(of)33 b Ft(f)1515 3619 y Fp(0)1556 3646 y Fv(is)21
b(assured)-150 3729 y(from)f(the)f(termination)h(of)30
b Ft(f)11 b Fv(,)19 b(the)h(arithmetic)f(on)h(w)o(ords)g(will)f(ne)n(v)
o(er)h(o)o(v)o(er)o(-)-150 3812 y(\003o)n(w)-5 b(,)20
b(and)g(no)g(dangling)i(pointer)e(will)f(be)h(dereferenced.)27
b(This)19 b(is)h(assured)-150 3895 y(by)c(proof)g(obligations)f
(stemming)h(from)g(the)f(conditions)h(on)g(PP)e(functions.)-150
4100 y Fw(4)99 b(Repr)n(esentation)27 b(of)e(Lists)g(by)g(Arrays)-150
4284 y(4.1)99 b(Arrays)25 b(of)g(\002xed)g(size)-150
4451 y Fv(A)c(list)f(of)h(a)g(not)g(changing)i(length)f
Ft(n)f Fv(can)g(be)h(represented)g(in)f(the)g(store)g(as)-150
4534 y(an)26 b(array)f(of)h(a)f(\002x)o(ed)h(size,)g(i.e.,)g(by)g
Ft(n)f Fv(consecuti)n(v)o(e)i(locations.)43 b(Assume)-150
4617 y(that)17 b(we)f(ha)o(v)o(e)h(pre)n(viously)h(de\002ned)g(a)e
(PP-type)g Ft(T)26 b Fv(and)17 b(that)g(we)g(are)f(gi)n(v)o(en)i(a)-150
4700 y(constant)i Ft(n)8 b Fv(:)21 b Ft(W)10 b Fv(.)23
b(The)c(PP-type)g Ft(A)p Fr(\()p Ft(n)p Fq(;)8 b Ft(T)h
Fr(\))19 b Fv(\(recall)f(that)h(this)g(is)f(just)h(a)g(name\))-150
4783 y(of)d(arrays)g(containing)h Ft(n)f Fv(v)n(alues)h(represented)g
(by)f(a)g(type)g Ft(T)25 b Fv(is)16 b(gi)n(v)o(en)g(by)h(the)-150
4892 y(representation)g(predicate)h Ft(a)c Fm(\030)689
4851 y Fj(A)p Fk(\()p Fj(n)p Fi(;)p Fj(T)7 b Fk(\))689
4903 y Fj(s)879 4892 y Ft(p)p Fv(.)22 b(F)o(or)16 b(its)g(de\002nition)
g(we)h(introduce)-150 5000 y(\002rst)22 b(a)i(three-place)g(predicate)f
Ft(a)d Fm(')812 4960 y Fj(A)p Fk(\()p Fj(T)7 b Fk(\))812
5012 y Fj(s)955 5000 y Ft(s)984 5013 y Fu(1)1041 5000
y Fv(saying)24 b(that)f(the)g Ft(elements)h(of)-150 5083
y(the)19 b(list)f(a)h(r)m(epr)m(esented)i(in)e(s)g(ar)m(e)g(contained)h
(in)f(the)g(arr)o(ay)h(se)m(gment)f(s)1705 5096 y Fu(1)1739
5083 y Fv(:)-97 5248 y Ft(a)e Fm(')15 5208 y Fj(A)p Fk(\()p
Fj(T)7 b Fk(\))15 5260 y Fj(s)157 5248 y Ft(s)186 5261
y Fu(1)235 5248 y Fm($)17 b(9)p Ft(s)398 5261 y Fu(0)430
5248 y Fr(\()p Ft(s)488 5261 y Fu(0)557 5206 y Fq(:)538
5248 y Fr(=)g Ft(s)10 b Fq(?)g Ft(s)728 5261 y Fu(1)762
5248 y Fr(\))g Fm(^)327 5375 y(9)c Ft(p)p Fr(\()p Ft(s)470
5388 y Fu(1)519 5375 y Fd(m)16 b Fr(\()6 b Ft(p)p Fq(;)i
Ft(L)p Fr(\()p Ft(a)p Fr(\)\))i Fm(^)g(8)p Ft(i)p Fq(<)p
Ft(L)p Fr(\()p Ft(a)p Fr(\)\()p Ft(a)p Fr([)p Ft(i)p
Fr(])16 b Fm(\030)1393 5344 y Fj(T)1393 5394 y(s)1454
5375 y Ft(s)1483 5388 y Fu(1)1516 5375 y Fr([)6 b Ft(p)k
Fr(+)g Ft(i)p Fr(]\)\))19 b Fq(:)2049 83 y Fv(The)c(array)g
(representation)h(predicate)g(has)g(then)f(the)g(follo)n(wing)h
(de\002nition:)2198 244 y Ft(a)h Fm(\030)2310 203 y Fj(A)p
Fk(\()p Fj(n)p Fi(;)p Fj(T)7 b Fk(\))2310 255 y Fj(s)2502
244 y Ft(p)17 b Fm($)f(9)p Ft(s)2718 257 y Fu(1)2751
244 y Fm(9)p Ft(s)2822 257 y Fu(2)2855 244 y Fr(\()p
Ft(s)2948 201 y Fq(:)2929 244 y Fr(=)h Ft(s)3033 257
y Fu(1)3077 244 y Fq(?)10 b Ft(s)3153 257 y Fu(2)3197
244 y Fm(^)g Ft(a)17 b Fm(')3369 203 y Fj(A)p Fk(\()p
Fj(T)7 b Fk(\))3369 255 y Fj(s)3392 264 y Fb(1)3510 244
y Ft(s)3539 257 y Fu(2)3589 244 y Fd(m)16 b Fr(\()6 b
Ft(p)p Fq(;)i Ft(n)p 3766 257 38 3 v 1 w Fr(\)\))18 b
Fq(:)2049 379 y Fv(There)f(are)f(three)h(high-le)n(v)o(el)g(CL)f
(operations)i(typed)f(with)g Ft(A)p Fr(\()p Ft(n)p Fq(;)6
b Ft(t)f Fr(\))p Fv(,)16 b(namely)2049 462 y(allocation)30
b Ft(Ne)o(w)o Fr(\()p Ft(n)p 2533 475 V 1 w Fr(\))8 b
Fv(:)29 b Ft(A)p Fr(\()p Ft(n)p Fq(;)8 b Ft(T)h Fr(\))p
Fv(,)31 b(inde)o(xing:)45 b Fs(l)p Ft(ai)p Fq(:)p Ft(a)p
Fr([)p Ft(i)p Fr(])8 b Fv(:)28 b Ft(A)p Fr(\()p Ft(n)p
Fq(;)6 b Ft(t)f Fr(\))15 b Fm(\002)10 b Ft(W)32 b Fm(!)22
b Ft(T)2049 545 y Fv(and)e(modi\002cation:)2107 680 y
Fs(l)p Ft(aiv)-6 b Fq(:)p Ft(a)p Fr([)p Ft(i)p Fv(:)p
Fr(=)p Ft(v)p Fr(])8 b Fv(:)25 b Fr(\()p Ft(a)8 b Fv(:)26
b Ft(A)p Fr(\()p Ft(n)p Fq(;)6 b Ft(t)f Fr(\))10 b Fm(\002)c
Ft(W)20 b Fm(\002)10 b Ft(T)26 b Fm(!)17 b Ft(b)8 b Fv(:)25
b Ft(A)p Fr(\()p Ft(n)p Fq(:)n Ft(t)5 b Fr(\)\))149 b
Fv(with)19 b Ft(a)e Fm(')f Ft(b)2049 815 y Fv(Here)j
Ft(Ne)o(w)p Fr(\()p Ft(k)q Fr(\))g Fv(yields)h(a)f(list)f(of)h(length)h
Ft(k)g Fv(containing)h(zeroes.)j(The)19 b(typing)2049
898 y(of)e(the)h(list)e(modi\002cation)i(function)g(speci\002es)f(that)
g(the)h(translated)f(PP)g(pro-)2049 981 y(gram)h(should)g(o)o(v)o
(erlay)g(the)g(array)f(se)o(gment)i(representing)f(the)g(ar)o(gument)g
Ft(a)2049 1064 y Fv(with)h(the)h(result)g Ft(b)p Fv(,)f(i.e.,)g(that)h
(the)f(se)o(gments)i(should)g(be)f(the)f(same.)26 b(Recall)2049
1147 y(that)c(there)g(is)g(no)h(semantics)g(to)f(typing,)h(it)f(serv)o
(es)h(just)f(as)g(an)g(instruction)2049 1230 y(to)d(the)h(translator)l
(.)k(Applications)c(of)f(the)g(three)h(operations)g(are)f(translated)
2049 1313 y(in)j(that)g(order)h(to)f(the)h(calls)f(of)g(the)g(PP)f
(allocation)i Ft(Ne)o(w)3547 1286 y Fp(0)3567 1313 y
Fv(,)g(of)f(store)g(inde)o(x-)2049 1396 y(ing,)17 b(and)h(of)g(store)f
(modi\002cation)h(functions.)23 b(The)17 b(list)f(and)i(store)g(inde)o
(xing)2049 1479 y(operations)i(are)f(connected)h(by)g(the)f(follo)n
(wing)g(P)-7 b(A)19 b(pro)o(v)n(able)h(properties:)2356
1640 y Ft(a)d Fm(')2468 1599 y Fj(A)p Fk(\()p Fj(T)7
b Fk(\))2468 1651 y Fj(s)2491 1660 y Fb(1)2609 1640 y
Ft(s)2638 1653 y Fu(2)2688 1640 y Fd(m)17 b Fr(\()6 b
Ft(p)p Fq(;)i Ft(k)q Fr(\))i Fm(^)g Ft(i)17 b Fq(<)g
Ft(k)h Fm(!)e Ft(a)p Fr([)p Ft(i)p Fr(])g Fm(\030)3428
1609 y Fj(T)3428 1658 y(s)3451 1667 y Fb(1)3496 1640
y Ft(s)3525 1653 y Fu(2)3559 1640 y Fr([)6 b Ft(p)k Fr(+)g
Ft(i)p Fr(])2147 1810 y Ft(a)17 b Fm(')2259 1769 y Fj(A)p
Fk(\()p Fj(T)7 b Fk(\))2259 1822 y Fj(s)2282 1831 y Fb(1)2400
1810 y Ft(s)2429 1823 y Fu(2)2479 1810 y Fd(m)17 b Fr(\()6
b Ft(p)p Fq(;)i Ft(k)q Fr(\))i Fm(^)h Ft(i)16 b Fq(<)h
Ft(k)12 b Fm(^)e Ft(v)16 b Fm(\030)3115 1779 y Fj(T)3115
1829 y(s)3138 1838 y Fb(1)3184 1810 y Ft(q)h Fm(!)2865
1955 y Ft(a)p Fr([)p Ft(i)p Fv(:)p Fr(=)p Ft(v)p Fr(])f
Fm(')3151 1914 y Fj(A)p Fk(\()p Fj(T)7 b Fk(\))3151 1966
y Fj(s)3174 1975 y Fb(1)3293 1955 y Ft(s)3322 1968 y
Fu(2)3355 1955 y Fr([)f Ft(p)k Fr(+)g Ft(i)p Fv(:)p Fr(=)p
Ft(q)p Fr(])17 b Fd(m)f Fr(\()6 b Ft(p)p Fq(;)i Ft(k)q
Fr(\))19 b Fq(:)2049 2091 y Fv(The)j(properties)g(will)f(guarantee)i
(that)e(the)h(CL)f(to)h(PP)f(translation)h(will)e(be)2049
2174 y(correct)30 b(pro)o(vided)h(that)e(the)h(CL)f(programs)h(posses)h
(a)e Ft(single)h(r)m(efer)m(ence)2049 2257 y Fv(property)-5
b(,)31 b(which)e(means)g(that)g(after)f(an)g(array)h(modi\002cation)g
(operation)2049 2340 y Ft(a)p Fr([)p Ft(i)p Fv(:)p Fr(=)p
Ft(v)p Fr(])20 b(=)h Ft(a)2397 2353 y Fu(1)2431 2340
y Fv(,)28 b(we)e(do)h(not)g(access)g(in)g(the)g(rest)f(of)g(the)h
(clause)g(the)g(`old')2049 2423 y(v)o(ersion)f Ft(a)g
Fv(sharing)h(the)f(same)g(arrays)g(se)o(gments)h(in)f(the)f(translated)
i(pro-)2049 2506 y(gram.)p 2049 2627 2001 4 v 2049 2760
a Ft(Re)o(vv)2193 2773 y Fu(1)2226 2760 y Fr(\()p Ft(a)p
Fq(;)8 b Ft(i)p Fq(;)19 b Ft(j)r Fr(\))e(=)f Ft(a)627
b Fm( )16 b Ft(i)10 b Fr(+)g Fv(2)18 b Fm(\025)27 b Ft(j)3456
2935 y Fm( )16 b Ft(i)g Fq(<)28 b Ft(j)19 b Fm(\024)d
Ft(n)p 3784 2948 38 3 v 17 w Fr(=)h Ft(L)p Fr(\()p Ft(a)p
Fr(\))2049 3051 y Ft(Re)o(vv)2193 3064 y Fu(1)2226 3051
y Fr(\()p Ft(a)p Fq(;)8 b Ft(i)p Fq(;)19 b Ft(j)r Fr(\))e(=)f
Ft(Re)o(vv)2670 3064 y Fu(1)2703 3051 y Fr(\()p Ft(a)2769
3064 y Fu(2)2802 3051 y Fq(;)8 b Ft(i)i Fr(+)g Fv(1)p
Fq(;)19 b Ft(j)3060 3022 y Fv(.)3038 3051 y Fm(\000)10
b Fv(1)p Fr(\))17 b Fm( )f Ft(i)10 b Fr(+)g Fv(2)18 b
Fq(<)27 b Ft(j)12 b Fm(^)2198 3159 y Ft(a)p Fr([)f Ft(j)2319
3130 y Fv(.)2298 3159 y Fm(\000)e Fv(1)p Fr(])17 b(=)f
Ft(x)11 b Fm(^)f Ft(a)p Fr([)p Ft(i)p Fr(])16 b(=)h Ft(y)10
b Fm(^)g Ft(a)p Fr([)h Ft(j)3034 3130 y Fv(.)3012 3159
y Fm(\000)e Fv(1:)p Fr(=)p Ft(y)p Fr(])17 b(=)g Ft(a)3378
3172 y Fu(1)3422 3159 y Fm(^)10 b Ft(a)3519 3172 y Fu(1)3552
3159 y Fr([)p Ft(i)p Fv(:)p Fr(=)p Ft(x)p Fr(])16 b(=)h
Ft(a)3855 3172 y Fu(2)3456 3267 y Fm( )f Ft(i)g Fq(<)28
b Ft(j)19 b Fm(\024)d Ft(n)p 3784 3280 V 17 w Fr(=)h
Ft(L)p Fr(\()p Ft(a)p Fr(\))2049 3483 y Ft(Re)o(vv)p
Fr(\()p Ft(a)p Fr(\))g(=)g Ft(Re)o(vv)2524 3496 y Fu(1)2557
3483 y Fr(\()p Ft(a)p Fq(;)8 b Fv(0)p Fq(;)g Ft(L)p Fr(\()p
Ft(a)p Fr(\)\))809 b Fm( )16 b Ft(n)p 3784 3496 V 17
w Fr(=)h Ft(L)p Fr(\()p Ft(a)p Fr(\))2049 3700 y Ft(Re)o(vv)2193
3669 y Fp(0)2193 3720 y Fu(1)2226 3700 y Fr(\()6 b Ft(p)p
Fq(;)i Ft(i)p Fq(;)19 b Ft(j)r Fq(;)8 b Ft(s)p Fr(\))16
b(=)h Ft(s)g Fm( )f Ft(i)10 b Fr(+)g Fv(2)18 b Fm(\025)27
b Ft(j)199 b Fm( )17 b(9)p Ft(a)8 b(a)17 b Fm(\030)3476
3659 y Fj(A)p Fk(\()p Fj(n)p Fi(;)p Fj(T)7 b Fk(\))3476
3711 y Fj(s)3668 3700 y Ft(p)j Fm(^)g Ft(i)17 b Fq(<)28
b Ft(j)18 b Fm(\024)f Ft(n)p 4013 3713 V 2049 3821 a(Re)o(vv)2193
3790 y Fp(0)2193 3841 y Fu(1)2226 3821 y Fr(\()6 b Ft(p)p
Fq(;)i Ft(i)p Fq(;)19 b Ft(j)r Fq(;)8 b Ft(s)p Fr(\))16
b(=)h Ft(Re)o(vv)2733 3790 y Fp(0)2733 3841 y Fu(1)2766
3821 y Fr(\()6 b Ft(p)p Fq(;)i Ft(i)i Fr(+)g Fv(1)p Fq(;)19
b Ft(j)3096 3792 y Fv(.)3074 3821 y Fm(\000)10 b Fv(1)p
Fq(;)e Ft(s)3237 3834 y Fu(2)3270 3821 y Fr(\))17 b Fm( )f
Ft(i)10 b Fr(+)g Fv(2)18 b Fq(<)28 b Ft(j)12 b Fm(^)2198
3929 y Ft(s)p Fr([)6 b Ft(p)k Fr(+)21 b Ft(j)2433 3900
y Fv(.)2411 3929 y Fm(\000)9 b Fv(1)p Fr(])17 b(=)g Ft(x)11
b Fm(^)f Ft(s)p Fr([)c Ft(p)k Fr(+)g Ft(i)p Fr(])16 b(=)h
Ft(y)10 b Fm(^)g Ft(s)p Fr([)c Ft(p)k Fr(+)21 b Ft(j)3374
3900 y Fv(.)3352 3929 y Fm(\000)10 b Fv(1:)p Fr(=)p Ft(y)p
Fr(])16 b(=)h Ft(s)3710 3942 y Fu(1)3743 3929 y Fm(^)2198
4071 y Ft(s)2227 4084 y Fu(1)2261 4071 y Fr([)6 b Ft(p)k
Fr(+)g Ft(i)p Fv(:)p Fr(=)p Ft(x)p Fr(])16 b(=)h Ft(s)2677
4084 y Fu(2)3185 4071 y Fm( )g(9)p Ft(a)8 b(a)17 b Fm(\030)3476
4030 y Fj(A)p Fk(\()p Fj(n)p Fi(;)p Fj(T)7 b Fk(\))3476
4082 y Fj(s)3668 4071 y Ft(p)j Fm(^)g Ft(i)17 b Fq(<)28
b Ft(j)18 b Fm(\024)f Ft(n)p 4013 4084 V 2049 4321 a(Re)o(vv)2193
4291 y Fp(0)2213 4321 y Fr(\()6 b Ft(p)p Fq(;)i Ft(s)p
Fr(\))17 b(=)f Ft(Re)o(vv)2608 4291 y Fp(0)2608 4341
y Fu(1)2641 4321 y Fr(\()6 b Ft(p)p Fq(;)i Fv(0)p Fq(;)g
Ft(n)p 2808 4334 V Fq(;)g Ft(s)p Fr(\))598 b Fm( )17
b(9)p Ft(a)8 b(a)17 b Fm(\030)3821 4281 y Fj(A)p Fk(\()p
Fj(n)p Fi(;)p Fj(T)7 b Fk(\))3821 4333 y Fj(s)4013 4321
y Ft(p)2049 4454 y Fg(Figur)o(e)29 b(3.)55 b(Nai)o(v)o(e)30
b(high-le)o(v)o(el)f(and)g(PP)f(implementations)h(of)h(array)2049
4537 y(r)o(e)o(v)o(ersal)p 2049 4620 2001 4 v 2049 4818
a Fw(4.2)99 b(In-place)26 b(list)e(r)n(e)o(v)o(ersal)h(pr)n(ogrammed)h
(nai)o(v)o(ely)2049 4985 y Fv(It)g(is)f(no)n(w)i(quite)g(straightforw)o
(ard)f(to)h(program)g(a)f(high-le)n(v)o(el)h(list)e(re)n(v)o(er)o(-)
2049 5068 y(sal)h(function)h Ft(Re)o(vv)g Fv(mimicking)g(the)f(re)n(v)o
(ersal)h(of)f(elements)h(of)g(an)g(array)2049 5151 y(in)d(an)h
(imperati)n(v)o(e)g(programming)h(language.)41 b(Fig.)24
b(3)g(gi)n(v)o(es)h(this)f(`nai)n(v)o(e')2049 5234 y(program)g
(\(relati)n(v)o(e)f(to)g(a)g(\002x)o(ed)h Ft(T)32 b Fv(and)23
b Ft(n)p Fv(\))h(where)f(the)g(auxiliary)h(function)2049
5317 y Ft(Re)o(vv)2193 5330 y Fu(1)2246 5317 y Fv(w)o(orks)c(from)g
(both)g(ends)g(of)g(the)g(list)e Ft(a)i Fv(by)g(successi)n(v)o(ely)h
(sw)o(apping)2049 5400 y(the)c(elements)f(of)h Ft(a)f
Fv(at)h(inde)o(x)g(positions)g Ft(i)f Fv(and)28 b Ft(j)10
b Fm(\000)e Fv(1.)23 b(Both)16 b(functions)i(ha)o(v)o(e)p
eop
%%Page: 6 6
6 5 bop -150 83 a Fv(attached)18 b(conditions)g(which)f(will)f
(guarantee)i(the)f(automatic)g(proof)h(of)f(the)-150
166 y(correctness)26 b(property)h(gi)n(v)o(en)f(belo)n(w)-5
b(.)44 b(The)26 b(condition)g(on)g Ft(Re)o(vv)1609 179
y Fu(1)1668 166 y Fv(is)f(sat-)-150 249 y(is\002ed)f(in)g(its)f
(initial)g(call)h(from)g Ft(Re)o(vv)g Fv(and)h(maintained)f(by)h(the)f
(recursi)n(v)o(e)-150 332 y(calls.)-150 498 y(W)-6 b(e)16
b(ha)o(v)o(e)h(written)g(the)g(second)h(clause)f(for)g
Ft(Re)o(vv)1131 511 y Fu(1)1181 498 y Fv(in)f(an)h(e)o(xpanded)i(w)o
(ay)f(so)-150 581 y(the)f(reader)g(can)h(observ)o(e)g(the)f(\003o)n(w)f
(of)h(data)g(where)g(the)g(old)h(v)o(ersions)f Ft(a)g
Fv(and)-150 664 y Ft(a)-113 677 y Fu(1)-57 664 y Fv(of)22
b(the)g(ar)o(gument)h(are)g(not)f(accessed)i(after)e(their)g
(modi\002cations.)34 b(The)-150 747 y(clause)19 b(can)h(be)f(equi)n(v)n
(alently)h(written)f(in)g(a)f(contracted)i(form)f(as)g(follo)n(ws:)-108
873 y Ft(Re)o(vv)36 886 y Fu(1)69 873 y Fr(\()p Ft(a)p
Fq(;)8 b Ft(i)p Fq(;)19 b Ft(j)r Fr(\))d(=)h Ft(Re)o(vv)512
886 y Fu(1)545 873 y Fr(\()p Ft(a)p Fr([)11 b Ft(j)695
844 y Fv(.)674 873 y Fm(\000)e Fv(1:)p Fr(=)p Ft(a)p
Fr([)p Ft(i)p Fr(]])o([)p Ft(i)p Fv(:)p Fr(=)p Ft(a)p
Fr([)i Ft(j)1218 844 y Fv(.)1198 873 y Fm(\000)d Fv(1)p
Fr(]])p Fq(;)g Ft(i)i Fr(+)g Fv(1)p Fq(;)19 b Ft(j)1601
844 y Fv(.)1579 873 y Fm(\000)9 b Fv(1)p Fr(\))58 981
y Fm( )16 b Ft(i)10 b Fr(+)g Fv(2)17 b Fq(<)28 b Ft(j)21
b Fq(:)-150 1107 y Fv(The)94 b(translation)h(to)f(PP)f(is)g(triggered)i
(by)g(the)f(typing)-150 1190 y Ft(Re)o(vv)8 b Fv(:)55
b Fr(\()p Ft(a)8 b Fv(:)55 b Ft(A)p Fr(\()p Ft(n)p Fq(;)8
b Ft(T)h Fr(\))62 b Fm(!)f Ft(b)8 b Fv(:)55 b Ft(A)p
Fr(\()p Ft(n)p Fq(;)8 b Ft(T)h Fr(\)\))99 b Fv(with)g
Ft(a)62 b Fm(')g Ft(b)p Fv(,)119 b(and)-150 1273 y Ft(Re)o(vv)-6
1286 y Fu(1)36 1273 y Fv(:)24 b Fr(\()p Ft(a)8 b Fv(:)26
b Ft(A)p Fr(\()p Ft(n)p Fq(;)8 b Ft(T)h Fr(\))h Fm(\002)c
Ft(W)20 b Fm(\002)6 b Ft(W)27 b Fm(!)17 b Ft(b)8 b Fv(:)25
b Ft(A)p Fr(\()p Ft(n)p Fq(;)8 b Ft(T)h Fr(\)\))19 b
Fv(with)f Ft(a)f Fm(')g Ft(b)p Fv(.)-150 1439 y(There)24
b(is)g(no)g(allocation)h(of)f(store,)h(hence)g(no)g(heap)g(designator)m
(,)h(and)f(the)-150 1522 y(typing)g(of,)g(say)g Ft(Re)o(vv)439
1495 y Fp(0)459 1522 y Fr(\()6 b Ft(p)p Fq(;)i Ft(i)p
Fq(;)19 b Ft(j)r Fq(;)8 b Ft(s)p Fr(\))19 b(=)g Ft(s)856
1535 y Fu(1)890 1522 y Fv(,)25 b(is)19 b Ft(W)j Fm(\002)8
b Ft(W)23 b Fm(\002)8 b Ft(W)22 b Fm(\002)12 b Ft(S)21
b Fm(!)e Ft(S)q Fv(.)39 b(Note)-150 1605 y(that)21 b(because)h(of)f
(store)g(sharing)h(there)f(is)g(no)g(need)h(to)f(return)g(a)g(pointer)h
(to)-150 1688 y(the)d(result)g(array)g(\(it)f(is)g(pointed)i(to)f(by)26
b Ft(p)p Fv(\).)-150 1854 y(The)c(follo)n(wing)g(\(total\))f
(correctness)h(condition)h(should)g(be)f(pro)o(v)n(able)h(au-)-150
1937 y(tomatically:)-67 2113 y Ft(a)17 b Fm(')45 2073
y Fj(A)p Fk(\()p Fj(T)7 b Fk(\))45 2125 y Fj(s)186 2113
y Ft(s)215 2126 y Fu(1)265 2113 y Fd(m)16 b Fr(\()6 b
Ft(p)p Fq(;)i Ft(n)p 442 2126 38 3 v 1 w Fr(\))16 b Fm(!)34
2234 y(9)p Ft(s)105 2203 y Fp(0)105 2254 y Fu(1)138 2234
y Fr(\()p Ft(Re)o(vv)311 2203 y Fp(0)331 2234 y Fr(\()6
b Ft(p)p Fq(;)i Ft(s)i Fq(?)g Ft(s)547 2247 y Fu(1)582
2234 y Fr(\))16 b(=)h Ft(s)10 b Fq(?)g Ft(s)817 2203
y Fp(0)817 2254 y Fu(1)862 2234 y Fm(^)g Ft(Re)o(vv)p
Fr(\()p Ft(a)p Fr(\))17 b Fm(')1236 2193 y Fj(A)p Fk(\()p
Fj(T)7 b Fk(\))1236 2245 y Fj(s)1377 2234 y Ft(s)1406
2203 y Fp(0)1406 2254 y Fu(1)1456 2234 y Fd(m)16 b Fr(\()6
b Ft(p)p Fq(;)i Ft(n)p 1633 2247 V 1 w Fr(\)\))18 b Fq(:)-150
2369 y Fv(The)30 b(correctness)h(of)f Ft(Re)o(vv)598
2342 y Fp(0)648 2369 y Fv(with)f(respect)i(to)f Ft(Re)o(vv)f
Fv(is)h(much)h(easier)f(to)-150 2452 y(obtain)25 b(than)f(the)h
(high-le)n(v)o(el)f(correctness)i(property)f Ft(Re)o(vv)p
Fr(\()p Ft(a)p Fr(\))20 b(=)f Ft(Re)o(v)p Fr(\()p Ft(a)p
Fr(\))p Fv(.)-150 2535 y(Its)39 b(proof)h(is,)j(of)c(course,)45
b(by)40 b(hand)g(and)g(it)e(needs)i(a)g(lemma)f(about)-150
2618 y Ft(Re)o(vv)-6 2631 y Fu(1)27 2618 y Fr(\()p Ft(a)p
Fq(;)8 b Ft(i)p Fq(;)19 b Ft(j)r Fr(\))34 b Fv(asserting)f(that)h(pro)o
(vided)h(that)e Ft(i)25 b Fq(<)35 b Ft(j)27 b Fq(<)e
Ft(L)p Fr(\()p Ft(a)p Fr(\))p Fv(,)36 b(the)e(call)-150
2701 y(yields)c(a)f(list)f(whose)i(se)o(gment)g(between)g
Ft(i)f Fv(and)41 b Ft(j)31 b Fv(is)e(re)n(v)o(ersed)h(and)g(the)-150
2784 y(se)o(gments)e(between)g(0)f(and)h Ft(i)f Fv(as)g(well)g(as)g
(between)h Ft(i)e Fv(and)i Ft(L)p Fr(\()p Ft(a)p Fr(\))f
Fv(are)g(un-)-150 2867 y(changed.)43 b(If)25 b(one)h(e)o(xpresses)g
(this)f(by)g(a)g(formula)h(in)m(v)o(olving)g(quanti\002ers)-150
2950 y(and)21 b(inde)o(xing)g(then)f(its)f(proof)h(will)f(in)m(v)o(olv)
o(e)h(a)g(lot)g(of)g(arithmetic)f(and)i(will)-150 3033
y(be)e(quite)h(tedious)g(because)g(it)e(has)i(to)f(use)g(the)h
(property)g(2.3\(1\))f(leading)h(to)-150 3116 y(repeated)g(case)f
(analysis)g(and)h(hea)o(vy)g(manipulation)g(of)f(quanti\002ers.)-150
3282 y(The)h(reader)g(should)g(realize)g(that)g Ft(Re)o(vv)f
Fv(is)g(a)h(simple)g(array)g(program.)26 b(The)-150 3365
y(programs)e(presented)h(belo)n(w)f(lead)f(to)g(quite)h(dif)n(\002cult)
f(proofs)h(when)g(pro-)-150 3448 y(grammed)19 b(in)f(a)g(nai)n(v)o(e)h
(w)o(ay)f(with)g(the)g(e)o(xplicit)g(use)g(of)h(array)f(inde)o(xing)h
(and)-150 3531 y(modi\002cation.)-150 3722 y Fw(4.3)99
b(Methodology)25 b(f)n(or)g(the)g(v)o(eri\002cation)h(of)f(array)74
3822 y(pr)n(ograms)-150 3989 y Fv(The)h(conclusion)i(from)e(the)g(pre)n
(vious)h(paragraph)g(is)f(that,)h(although)h(e)o(x-)-150
4072 y(tremely)h(ef)n(\002cient,)j(arrays)e(are)f(inherently)h
(imperati)n(v)o(e.)55 b(Nai)n(v)o(e)30 b(use)g(of)-150
4155 y(arrays)d(in)g(a)g(high-le)n(v)o(el)h(declarati)n(v)o(e)g
(programming)g(language)h(leads)e(to)-150 4238 y(dif)n(\002cult)e(v)o
(eri\002cation)f(proofs.)42 b(This)25 b(is)g(because)h(arrays)f(are)g
(v)o(ery)g(close)-150 4321 y(to)17 b(stores)g(and)h(programs)g(\(both)f
(imperati)n(v)o(e)g(and)h(nai)n(v)o(e)g(declarati)n(v)o(e)f(ones\))-150
4404 y(typically)24 b(w)o(ork)g(only)h(on)f(their)g(se)o(gments.)38
b(The)24 b(adv)n(antage)i(of)d(declara-)-150 4487 y(ti)n(v)o(e)e
(programming)i(is)d(that)i(the)f(se)o(gments)h(can)f(be)h(passed)g(as)f
(ar)o(guments)-150 4570 y(of)j(functions)i(and)f(operations)g(on)g
(them)g(cannot)h(af)n(fect)e(the)h(unmodi\002ed)-150
4653 y(se)o(gments)20 b(of)f(arrays.)-150 4819 y(W)-6
b(e)15 b(will)g(no)n(w)i(discuss)f(a)g(methodology)i(for)d(the)h
(high-le)n(v)o(el)h(w)o(ork)f(with)g(ar)o(-)-150 4902
y(rays)k(which)h(still)e(enables)i(automatic)f(translation)h(and)f(v)o
(eri\002cation.)27 b(The)-150 4985 y(methodology)19 b(is)d(some)n(what)
h(surprising.)23 b(One,)17 b(namely)-5 b(,)18 b(deteriorates)f(the)-150
5068 y(ef)n(\002cienc)o(y)f(of)f(high-le)n(v)o(el)i(CL)e(programs)h(in)
f(order)h(to)g(obtain)g(easier)g(v)o(eri\002-)-150 5151
y(cation)k(proofs.)26 b(By)19 b(using)i(list)d(concatenation,)k(the)d
(high-le)n(v)o(el)i(programs)-150 5234 y(will)d(not)i(ha)o(v)o(e)f(to)g
(use)h(list)e(inde)o(xing/modi\002cation.)25 b(Their)19
b(ef)n(\002cienc)o(y)h(de-)-150 5317 y(teriorates)h(because)h(of)f
(splitting)g(discriminations,)h(for)f(instance,)h(for)f(e)o(x-)-150
5400 y(tracting)k(the)g(last)f(element)h(of)g(a)f(list.)40
b(The)25 b(v)o(eri\002cation)f(proofs)i(without)2049
83 y(e)o(xplicit)f(inde)o(xing)h(need)g(almost)f(no)h(arithmetic.)41
b(The)25 b(ef)n(\002cienc)o(y)g(is)g(re-)2049 166 y(stored)19
b(by)h(the)f(translation)g(to)g(a)f(PP)g(array)h(program.)p
2049 293 2001 4 v 2089 426 a Ft(t)c Fm(\010)2183 395
y Fp(0)2213 426 y Ft(u)i Fr(=)23 b Ft(p)p Fq(;)8 b Ft(k)k
Fr(+)e Ft(n)17 b Fm( )e Ft(t)21 b Fr(=)i Ft(p)p Fq(;)8
b Ft(k)k Fm(^)e Ft(u)17 b Fr(=)f Ft(q)p Fq(;)8 b Ft(n)519
b Fm( )16 b Ft(adj)q Fr(\()n Ft(t)5 b Fq(;)j Ft(u)p Fr(\))2091
621 y Ft(Singl)2244 590 y Fp(0)2264 621 y Fr(\()e Ft(p)p
Fq(;)i Fr(\()p Ft(q)p Fq(;)g Fv(1)p Fr(\))p Fq(;)g Ft(s)p
Fr(\))18 b(=)e Ft(s)p Fr([)p Ft(q)p Fv(:)p Fr(=)6 b Ft(p)p
Fr(])2696 713 y Fm( )16 b(9)p Ft(s)2858 726 y Fu(1)2891
713 y Fm(9)p Ft(s)2962 726 y Fu(2)2995 713 y Fm(9)p Ft(x)p
Fr(\()p Ft(s)3163 671 y Fq(:)3144 713 y Fr(=)h Ft(s)3248
726 y Fu(1)3292 713 y Fq(?)10 b Ft(s)3368 726 y Fu(2)3412
713 y Fm(^)g Ft(x)17 b Fm(\030)3580 686 y Fj(T)3580 731
y(s)3603 740 y Fb(1)3655 713 y Ft(p)10 b Fm(^)g Ft(s)3791
726 y Fu(2)3841 713 y Fd(m)16 b Ft(q)p Fq(;)8 b Fv(1)p
Fr(\))2091 911 y Ft(Dconc)2286 880 y Fp(0)2306 911 y
Fr(\()n Ft(t)d Fq(;)j Ft(n)p Fr(\))17 b(=)f Fv(1)p Fq(;)8
b Fv(0)569 b Fm( )14 b Ft(t)22 b Fr(=)h Ft(p)p Fq(;)8
b Ft(k)k Fm(^)e Ft(k)18 b Fq(<)e Ft(n)3567 1004 y Fm( )e
Ft(t)5 b Fq(;)j Ft(n)g Fv(:)22 b Ft(W)3870 976 y Fu(2)3914
1004 y Fm(\002)6 b Ft(W)2091 1124 y(Dconc)2286 1094 y
Fp(0)2306 1124 y Fr(\()n Ft(t)f Fq(;)j Ft(n)p Fr(\))17
b(=)f Fv(2)p Fq(;)8 b Fr(\()e Ft(p)p Fq(;)i Ft(n)p Fr(\))p
Fq(;)g Fr(\()e Ft(p)k Fr(+)g Ft(n)p Fq(;)e Ft(k)3089
1095 y Fv(.)3066 1124 y Fm(\000)i Ft(n)p Fr(\))17 b Fm( )d
Ft(t)22 b Fr(=)h Ft(p)p Fq(;)8 b Ft(k)k Fm(^)e Ft(k)18
b Fm(\025)e Ft(n)3567 1217 y Fm( )e Ft(t)5 b Fq(;)j Ft(n)g
Fv(:)22 b Ft(W)3870 1190 y Fu(2)3914 1217 y Fm(\002)6
b Ft(W)2091 1413 y(Dsingl)2290 1382 y Fp(0)2310 1413
y Fr(\()n Ft(t)f Fq(;)j Ft(s)p Fr(\))17 b(=)f Ft(s)p
Fr([)6 b Ft(p)p Fr(])16 b Fm( )f Ft(t)21 b Fr(=)i Ft(p)p
Fq(;)8 b Fv(1)2775 1524 y Fm( )16 b(9)p Ft(s)2937 1537
y Fu(1)2970 1524 y Fm(9)p Ft(s)3041 1537 y Fu(2)3074
1524 y Fm(9)p Ft(x)p Fr(\()p Ft(s)3242 1482 y Fq(:)3223
1524 y Fr(=)h Ft(s)3327 1537 y Fu(1)3371 1524 y Fq(?)10
b Ft(s)3447 1537 y Fu(2)3491 1524 y Fm(^)g Fr([)p Ft(x)p
Fr(])17 b Fm(')3701 1483 y Fj(A)p Fk(\()p Fj(T)7 b Fk(\))3701
1536 y Fj(s)3724 1545 y Fb(1)3842 1524 y Ft(s)3871 1537
y Fu(2)3921 1524 y Fd(m)14 b Ft(t)5 b Fr(\))2067 1663
y Fg(Figur)o(e)18 b(4.)23 b(PP)18 b(operations)h(and)f(discriminations)
g(f)n(or)h(the)f(type)h Ft(A)p Fr(\()p Ft(T)8 b Fr(\))p
2049 1746 V 2049 1960 a Fw(4.4)99 b(Arrays)25 b(of)g(v)o(ariable)f
(size)2049 2127 y Fv(Assume)i(that)f(we)g(are)g(gi)n(v)o(en)h(a)f
(PP-type)f Ft(T)9 b Fv(.)42 b(Instead)25 b(of)h(using)f(a)g(single)2049
2210 y(w)o(ord)i Ft(p)21 b Fv(to)g(point)g(to)g(an)g(array)g(of)g
(\002x)o(ed)g(size)g(we)g(can)g(use)g(the)g(tw)o(o)g(w)o(ords)2049
2293 y(designating)29 b(array)f(se)o(gments)h(in)f(an)g(representation)
h(predicate)g(for)f(the)2049 2376 y(PP-type)18 b Ft(A)p
Fr(\()p Ft(T)9 b Fr(\))19 b Fv(of)g(v)n(ariable)g(size)g(arrays:)2302
2545 y Ft(a)e Fm(\030)2414 2504 y Fj(A)p Fk(\()p Fj(T)6
b Fk(\))2414 2556 y Fj(s)2553 2545 y Ft(t)21 b Fm($)c(9)p
Ft(s)2758 2558 y Fu(1)2790 2545 y Fm(9)p Ft(s)2861 2558
y Fu(2)2894 2545 y Fr(\()p Ft(s)2988 2503 y Fq(:)2969
2545 y Fr(=)f Ft(s)3072 2558 y Fu(1)3116 2545 y Fq(?)10
b Ft(s)3192 2558 y Fu(2)3237 2545 y Fm(^)g Ft(a)17 b
Fm(')3409 2504 y Fj(A)p Fk(\()p Fj(T)6 b Fk(\))3409 2556
y Fj(s)3432 2565 y Fb(1)3550 2545 y Ft(s)3579 2558 y
Fu(2)3629 2545 y Fd(m)14 b Ft(t)5 b Fr(\))19 b Fq(:)2049
2685 y Fv(The)k(basic)g(high-le)n(v)o(el)h(CL)f(operations)h(on)f
Ft(A)p Fr(\()p Ft(T)9 b Fr(\))23 b Fv(are)g(0)8 b(:)27
b Ft(A)p Fr(\()p Ft(T)9 b Fr(\))p Fv(,)23 b Ft(Singl)d
Fr(=)2049 2768 y Fs(l)p Ft(x)p Fq(:)p Fr([)p Ft(x)p Fr(])8
b Fv(:)32 b Ft(T)37 b Fm(!)27 b Ft(A)p Fr(\()p Ft(T)9
b Fr(\))p Fv(,)43 b(and)d Fm(\010)8 b Fv(:)32 b Ft(A)p
Fr(\()p Ft(T)9 b Fr(\))18 b Fm(\002)f Ft(A)p Fr(\()p
Ft(T)9 b Fr(\))28 b Fm(!)f Ft(A)p Fr(\()p Ft(T)9 b Fr(\))p
Fv(.)82 b(Basic)39 b(dis-)2049 2851 y(criminations)32
b(are)f(the)h(list)e(splitting)h(typed)h(as)g Ft(Dconc)9
b Fv(:)29 b Ft(A)p Fr(\()p Ft(T)9 b Fr(\))15 b Fm(\002)c
Ft(W)33 b Fm(!)2049 2882 y Fe(S)2107 2934 y Fm(ff)p Fv(0)p
Fm(g)p Fq(;)8 b Ft(A)p Fr(\()p Ft(T)i Fr(\))19 b Fm(\002)g
Ft(A)p Fr(\()p Ft(T)9 b Fr(\))p Fm(g)42 b Fv(and)h(the)g(taking)g(of)g
(a)f(singleton)h(typed)h(as)2049 3017 y Ft(Dsingl)9 b
Fv(:)24 b Ft(A)p Fr(\()p Ft(T)9 b Fr(\))17 b Fm(!)f Ft(T)9
b Fv(.)2049 3193 y(Empty)28 b(list)e(0)i(is)f(translated)h(to)f(the)g
(empty)h(se)o(gment)h Fr(\()p Fv(0)p Fq(;)8 b Fv(0)p
Fr(\))g Fv(:)24 b Ft(W)3833 3166 y Fu(2)3866 3193 y Fv(.)49
b(The)2049 3276 y(clausal)23 b(de\002nitions)g(of)g(PP)e
(operations/discriminations)k(corresponding)2049 3359
y(to)19 b(the)h(remaining)g(CL)f(operations/discriminations)i(are)f(gi)
n(v)o(en)g(in)f(Fig.)g(4.)2049 3443 y(The)f(PP)f(concatenation)j
Fm(\010)2775 3415 y Fp(0)2804 3443 y Fv(:)g Ft(W)2917
3415 y Fu(2)2960 3443 y Fm(\002)6 b Ft(W)3096 3415 y
Fu(2)3145 3443 y Fm(!)12 b Ft(W)3303 3415 y Fu(2)3354
3443 y Fv(has)19 b(the)f(follo)n(wing)h(prop-)2049 3526
y(erty:)2132 3717 y Ft(a)e Fm(')2244 3676 y Fj(A)p Fk(\()p
Fj(T)7 b Fk(\))2244 3728 y Fj(s)2385 3717 y Ft(s)2414
3730 y Fu(1)2464 3717 y Fd(m)14 b Ft(t)i Fm(^)10 b Ft(b)17
b Fm(')2747 3676 y Fj(A)p Fk(\()p Fj(T)7 b Fk(\))2747
3728 y Fj(s)2888 3717 y Ft(s)2917 3730 y Fu(2)2967 3717
y Fd(m)16 b Ft(u)10 b Fm(^)g Ft(adj)q Fr(\()n Ft(t)5
b Fq(;)j Ft(u)p Fr(\))17 b Fm(!)3162 3825 y Ft(a)10 b
Fm(\010)g Ft(b)18 b Fm(')3390 3784 y Fj(A)p Fk(\()p Fj(T)7
b Fk(\))3390 3836 y Fj(s)3531 3825 y Ft(s)3560 3838 y
Fu(1)3604 3825 y Fq(?)j Ft(s)3680 3838 y Fu(2)3730 3825
y Fd(m)15 b Ft(t)g Fm(\010)3899 3794 y Fp(0)3930 3825
y Ft(u)2049 3965 y Fv(where)23 b(the)g(predicate)h Ft(adj)q
Fr(\()n Ft(t)5 b Fq(;)j Ft(u)p Fr(\))23 b Fv(holds)g(if)n(f)e
Ft(t)5 b Fv(,)23 b Ft(u)g Fv(are)g(designators)i(of)e(array)2049
4048 y(se)o(gments)17 b(and)h(the)o(y)f(are)f Ft(adjacent)p
Fv(,)i(i.e.,)e(either)h(one)g(of)g(them)f(has)h(length)h(0)2049
4131 y(or)h(the)o(y)g(are)g(of)g(a)g(form)e Ft(t)k Fr(=)i
Ft(p)p Fq(;)8 b Ft(k)20 b Fv(and)g Ft(u)d Fr(=)22 b Ft(p)10
b Fr(+)g Ft(k)q Fq(;)e Ft(n)p Fv(.)25 b(The)18 b(condition)i(on)g
Fm(\010)4030 4104 y Fp(0)2049 4214 y Fv(restricts)28
b(during)h(the)f(translation)h(the)f(high-le)n(v)o(el)h(operation)g
Fm(\010)f Fv(to)h(lists)2049 4297 y(whose)16 b(PP)f(array)h(se)o(gment)
g(designators)h(are)e(adjacent.)23 b(The)15 b(PP)g(operation)2049
4380 y Ft(Singl)2203 4351 y Fp(0)2231 4380 y Fv(:)21
b Ft(W)f Fm(\002)6 b Ft(W)2491 4353 y Fu(2)2535 4380
y Fm(\002)k Ft(S)18 b Fm(!)e Ft(S)k Fv(has)f(the)g(property:)2132
4555 y Ft(s)2196 4513 y Fq(:)2178 4555 y Fr(=)d Ft(s)2281
4568 y Fu(1)2325 4555 y Fq(?)10 b Ft(s)2401 4568 y Fu(2)2445
4555 y Fm(^)g Ft(x)18 b Fm(\030)2614 4525 y Fj(T)2614
4574 y(s)2637 4583 y Fb(1)2688 4555 y Ft(p)10 b Fm(^)g
Ft(s)2824 4568 y Fu(2)2874 4555 y Fd(m)15 b Ft(t)g Fm(^)10
b Ft(L)p Fr(\()n Ft(t)5 b Fr(\))16 b(=)h Fv(1)g Fm(!)2605
4678 y(9)p Ft(s)2676 4648 y Fp(0)2676 4698 y Fu(2)2709
4678 y Fr(\()p Ft(Singl)2892 4648 y Fp(0)2912 4678 y
Fr(\()6 b Ft(p)p Fq(;)g Ft(t)f Fq(;)j Ft(s)p Fr(\))3159
4636 y Fq(:)3140 4678 y Fr(=)17 b Ft(s)3244 4691 y Fu(1)3288
4678 y Fq(?)10 b Ft(s)3364 4648 y Fp(0)3364 4698 y Fu(2)3408
4678 y Fm(^)g Fr([)p Ft(x)p Fr(])17 b Fm(')3618 4638
y Fj(A)p Fk(\()p Fj(T)6 b Fk(\))3618 4690 y Fj(s)3641
4699 y Fb(1)3759 4678 y Ft(s)3788 4648 y Fp(0)3788 4698
y Fu(2)3838 4678 y Fd(m)14 b Ft(t)5 b Fr(\))2049 4819
y Fv(and)27 b(its)f(condition)h(restricts)f(the)g(high-le)n(v)o(el)h
(operation)g Fr([)p Ft(x)p Fr(])f Fv(to)g(such)h(po-)2049
4902 y(sitions)c(where)g(the)g(array)g(se)o(gment)h(designator)g(of)e
(the)h(result)g(is)e Ft(t)i Fr(=)c Ft(q)p Fq(;)8 b Fv(1)2049
4985 y(with)22 b Ft(s)p Fr([)p Ft(q)p Fr(])f Fv(e)o(xisting)i(and)f(v)n
(acant)h(\(i.e.,)f(its)f(v)n(alue)i(is)f(not)g(needed)i(an)o(ymore)2049
5068 y(and)c(can)f(be)g(o)o(v)o(erwritten\).)2049 5234
y(The)e(tw)o(o)g(PP)f(discriminators)i(re)n(v)o(ersing)g(the)f(ef)n
(fects)g(of)g Fm(\010)3606 5207 y Fp(0)3643 5234 y Fv(and)h
Ft(Singl)3922 5205 y Fp(0)3959 5234 y Fv(are)2049 5317
y(typed)f(as)f Ft(Dconc)2504 5290 y Fp(0)2532 5317 y
Fv(:)21 b Ft(W)2646 5290 y Fu(2)2686 5317 y Fm(\002)t
Ft(W)j Fm(!)2922 5265 y Fe(S)2980 5317 y Fm(ff)p Fv(0)p
Fm(g)p Fq(;)t Ft(W)3226 5290 y Fu(2)3267 5317 y Fm(\002)t
Ft(W)3400 5290 y Fu(2)3433 5317 y Fm(g)16 b Fv(and)h
Ft(Dsingl)3809 5288 y Fp(0)3838 5317 y Fv(:)j Ft(W)3951
5290 y Fu(2)3992 5317 y Fm(\002)2049 5400 y Ft(S)e Fm(!)12
b Ft(W)e Fv(.)p eop
%%Page: 7 7
7 6 bop -150 3 2001 4 v -150 136 a Ft(Re)o(vv)p Fr(\()p
Fv(0)p Fr(\))17 b(=)g Fv(0)-150 244 y Ft(Re)o(vv)p Fr(\([)p
Ft(x)p Fr(])10 b Fm(\010)g Fv(0)p Fr(\))18 b(=)e([)p
Ft(x)p Fr(])-150 352 y Ft(Re)o(vv)p Fr(\([)p Ft(x)p Fr(])10
b Fm(\010)g Ft(a)g Fm(\010)g Fr([)p Ft(y)p Fr(]\))18
b(=)f([)p Ft(y)p Fr(])10 b Fm(\010)g Ft(Re)o(vv)p Fr(\()p
Ft(a)p Fr(\))g Fm(\010)g Fr([)p Ft(x)p Fr(])-150 547
y Ft(Re)o(vv)-6 517 y Fp(0)14 547 y Fr(\()n Ft(t)5 b
Fq(;)j Ft(s)p Fr(\))17 b(=)f Ft(s)50 b Fm( )17 b Ft(Dconc)611
517 y Fp(0)631 547 y Fr(\()n Ft(t)5 b Fq(;)j Fv(1)p Fr(\))17
b(=)f Fv(1)p Fq(;)8 b Fv(0)610 659 y Fm( )16 b(9)p Ft(s)772
672 y Fu(1)805 659 y Fm(9)p Ft(s)876 672 y Fu(2)908 659
y Fm(9)p Ft(a)p Fr(\()p Ft(s)1081 616 y Fq(:)1062 659
y Fr(=)h Ft(s)1166 672 y Fu(1)1209 659 y Fq(?)10 b Ft(s)1285
672 y Fu(2)1330 659 y Fm(^)g Ft(a)17 b Fm(')1502 618
y Fj(A)p Fk(\()p Fj(T)7 b Fk(\))1502 670 y Fj(s)1525
679 y Fb(1)1643 659 y Ft(s)1672 672 y Fu(2)1722 659 y
Fd(m)14 b Ft(t)5 b Fr(\))-150 780 y Ft(Re)o(vv)-6 749
y Fp(0)14 780 y Fr(\()n Ft(t)g Fq(;)j Ft(s)p Fr(\))17
b(=)f Ft(s)50 b Fm( )17 b Ft(Dconc)611 749 y Fp(0)631
780 y Fr(\()n Ft(t)5 b Fq(;)j Fv(1)p Fr(\))17 b(=)f Fv(2)p
Fq(;)8 b Fr(\()p Ft(q)p Fq(;)g Fv(1)p Fr(\))p Fq(;)e
Ft(t)1145 793 y Fu(1)1190 780 y Fm(^)k Ft(L)p Fr(\()n
Ft(t)1340 793 y Fu(1)1373 780 y Fr(\))17 b(=)f Ft(k)c
Fr(+)e Fv(1)g Fm(^)416 900 y Ft(Dconc)611 869 y Fp(0)631
900 y Fr(\()n Ft(t)679 913 y Fu(1)712 900 y Fq(;)e Ft(k)q
Fr(\))17 b(=)g Fv(1)p Fq(;)8 b Fv(0)610 1012 y Fm( )16
b(9)p Ft(s)772 1025 y Fu(1)805 1012 y Fm(9)p Ft(s)876
1025 y Fu(2)908 1012 y Fm(9)p Ft(a)p Fr(\()p Ft(s)1081
969 y Fq(:)1062 1012 y Fr(=)h Ft(s)1166 1025 y Fu(1)1209
1012 y Fq(?)10 b Ft(s)1285 1025 y Fu(2)1330 1012 y Fm(^)g
Ft(a)17 b Fm(')1502 971 y Fj(A)p Fk(\()p Fj(T)7 b Fk(\))1502
1023 y Fj(s)1525 1032 y Fb(1)1643 1012 y Ft(s)1672 1025
y Fu(2)1722 1012 y Fd(m)14 b Ft(t)5 b Fr(\))-150 1132
y Ft(Re)o(vv)-6 1101 y Fp(0)14 1132 y Fr(\()n Ft(t)g
Fq(;)j Ft(s)p Fr(\))17 b(=)f Ft(s)274 1145 y Fu(2)324
1132 y Fm( )h Ft(Dconc)611 1101 y Fp(0)631 1132 y Fr(\()n
Ft(t)5 b Fq(;)j Fv(1)p Fr(\))17 b(=)f Fv(2)p Fq(;)8 b
Fr(\()p Ft(q)p Fq(;)g Fv(1)p Fr(\))p Fq(;)e Ft(t)1145
1145 y Fu(1)1190 1132 y Fm(^)k Ft(L)p Fr(\()n Ft(t)1340
1145 y Fu(1)1373 1132 y Fr(\))17 b(=)f Ft(k)c Fr(+)e
Fv(1)g Fm(^)416 1253 y Ft(Dconc)611 1222 y Fp(0)631 1253
y Fr(\()n Ft(t)679 1266 y Fu(1)712 1253 y Fq(;)e Ft(k)q
Fr(\))17 b(=)g Fv(2)p Fq(;)6 b Ft(t)981 1266 y Fu(2)1014
1253 y Fq(;)i Fr(\()e Ft(p)p Fq(;)i Fv(1)p Fr(\))i Fm(^)416
1374 y Ft(Re)o(vv)560 1343 y Fp(0)580 1374 y Fr(\()n
Ft(t)628 1387 y Fu(2)661 1374 y Fq(;)e Ft(s)p Fr(\))17
b(=)f Ft(s)868 1387 y Fu(1)912 1374 y Fm(^)10 b Ft(s)1001
1387 y Fu(1)1034 1374 y Fr([)p Ft(q)p Fv(:)p Fr(=)p Ft(s)1200
1387 y Fu(1)1234 1374 y Fr([)c Ft(p)p Fr(]])o([)g Ft(p)p
Fv(:)p Fr(=)o Ft(s)1510 1387 y Fu(1)1543 1374 y Fr([)p
Ft(q)p Fr(]])16 b(=)h Ft(s)1763 1387 y Fu(2)610 1485
y Fm( )f(9)p Ft(s)772 1498 y Fu(1)805 1485 y Fm(9)p Ft(s)876
1498 y Fu(2)908 1485 y Fm(9)p Ft(a)p Fr(\()p Ft(s)1081
1443 y Fq(:)1062 1485 y Fr(=)h Ft(s)1166 1498 y Fu(1)1209
1485 y Fq(?)10 b Ft(s)1285 1498 y Fu(2)1330 1485 y Fm(^)g
Ft(a)17 b Fm(')1502 1444 y Fj(A)p Fk(\()p Fj(T)7 b Fk(\))1502
1497 y Fj(s)1525 1506 y Fb(1)1643 1485 y Ft(s)1672 1498
y Fu(2)1722 1485 y Fd(m)14 b Ft(t)5 b Fr(\))10 1620 y
Fg(Figur)o(e)18 b(5.)23 b(High-le)o(v)o(el)c(and)f(PP)g(array)i(r)o(e)o
(v)o(ersal)f(pr)o(ograms)p -150 1703 V -150 1957 a Fw(4.5)99
b(In-place)26 b(list)e(r)n(e)o(v)o(ersal)h(pr)n(ogrammed)74
2056 y(pr)n(operly)-150 2223 y Fv(The)19 b(high-le)n(v)o(el)g(v)o
(ersion)h(of)f(the)g(list)f(re)n(v)o(ersal)h(function)g
Ft(Re)o(vv)q Fr(\()p Ft(a)p Fr(\))g Fv(is)f(gi)n(v)o(en)-150
2306 y(in)j(Fig.)g(5.)30 b(Note)21 b(that)g(the)h(program)g(is)f(only)h
(slightly)f(more)h(complicated)-150 2389 y(than)f(the)g(de\002nition)g
(of)g Ft(Re)o(v)p Fr(\()p Ft(a)p Fr(\))g Fv(needing)h
Fl(O)5 b Fr(\()p Ft(L)p Fr(\()p Ft(a)p Fr(\))1206 2362
y Fu(2)1239 2389 y Fr(\))21 b Fv(pairing)g(operations.)-150
2472 y(There)j(should)h(be)f(no)h(doubt)f(that)g(this)g(programs)h(is)e
(signi\002cantly)h(more)-150 2555 y(readable)j(than)h(its)e(nai)n(v)o
(e)h(v)o(ersion)g(in)g(Fig.)e(3.)47 b(Moreo)o(v)o(er)m(,)29
b(the)e(program)-150 2638 y(is)22 b(v)o(eri\002ed)h(as)g
Ft(Re)o(vv)p Fr(\()p Ft(a)p Fr(\))c(=)g Ft(Re)o(v)p Fr(\()p
Ft(a)p Fr(\))k Fv(by)g(a)g(tri)n(vial)f(induction)i(proof)f(on)h(the)
-150 2721 y(length)19 b(of)g(the)g(list)f Ft(a)p Fv(.)-150
2887 y(The)23 b(typing)i Ft(Re)o(vv)19 b Fv(:)g Fr(\()p
Ft(a)h Fv(:)e Ft(A)p Fr(\()p Ft(T)9 b Fr(\))19 b Fm(!)g
Ft(b)h Fv(:)f Ft(A)p Fr(\()p Ft(T)8 b Fr(\)\))24 b Fv(with)f
Ft(a)c Fm(')h Ft(b)j Fv(generates)i(the)-150 2980 y Fl(O)5
b Fr(\()p Ft(L)p Fr(\()p Ft(a)p Fr(\)\))29 b Fv(PP)f(function)h
Ft(Re)o(vv)662 2953 y Fp(0)704 2980 y Fv(:)18 b Ft(W)815
2953 y Fu(2)862 2980 y Fm(\002)c Ft(S)23 b Fm(!)f Ft(S)q
Fv(.)53 b(Its)28 b(\(total\))g(correctness)-150 3063
y(property)20 b(is)e(automatically)i(pro)o(v)o(ed)g(as:)-67
3226 y Ft(a)d Fm(')45 3185 y Fj(A)p Fk(\()p Fj(T)7 b
Fk(\))45 3238 y Fj(s)186 3226 y Ft(s)215 3239 y Fu(1)265
3226 y Fd(m)14 b Ft(t)22 b Fm(!)197 3347 y(9)p Ft(s)268
3316 y Fp(0)268 3367 y Fu(1)300 3347 y Fr(\()p Ft(Re)o(vv)474
3316 y Fp(0)494 3347 y Fr(\()n Ft(t)5 b Fq(;)j Ft(s)i
Fq(?)g Ft(s)691 3360 y Fu(1)725 3347 y Fr(\))17 b(=)f
Ft(s)10 b Fq(?)g Ft(s)960 3316 y Fp(0)960 3367 y Fu(1)1005
3347 y Fm(^)g Ft(Re)o(vv)p Fr(\()p Ft(a)p Fr(\))17 b
Fm(')1379 3306 y Fj(A)p Fk(\()p Fj(T)7 b Fk(\))1379 3358
y Fj(s)1520 3347 y Ft(s)1549 3316 y Fp(0)1549 3367 y
Fu(1)1599 3347 y Fd(m)15 b Ft(t)5 b Fr(\))18 b Fq(:)p
-150 3535 V -142 3651 a Ft(P)-6 b(art)r Fr(\([)6 b Ft(p)p
Fr(])k Fm(\010)g Fv(0)p Fr(\))17 b(=)f Fv(0)p Fq(;)8
b Fr([)e Ft(p)p Fr(])p Fq(;)i Fv(0)-142 3759 y Ft(P)-6
b(art)r Fr(\([)6 b Ft(p)p Fr(])k Fm(\010)g Ft(a)g Fm(\010)g
Fr([)p Ft(v)p Fr(]\))17 b(=)g Ft(l)t Fq(;)8 b Ft(r)-7
b Fq(;)8 b Fr(\()p Ft(g)i Fm(\010)g Fr([)p Ft(v)p Fr(]\))187
b Fm( )22 b Ft(p)17 b Fm(\024)g Ft(v)10 b Fm(^)1121 3867
y Ft(P)-6 b(art)r Fr(\([)6 b Ft(p)p Fr(])k Fm(\010)g
Ft(a)p Fr(\))17 b(=)f Ft(l)t Fq(;)8 b Ft(r)-7 b Fq(;)8
b Ft(g)-142 3975 y(P)-6 b(art)r Fr(\([)6 b Ft(p)p Fr(])k
Fm(\010)g Fv(0)g Fm(\010)g Fr([)p Ft(v)p Fr(]\))17 b(=)g([)p
Ft(v)p Fr(])p Fq(;)8 b Fr([)e Ft(p)p Fr(])p Fq(;)i Fv(0)285
b Fm( )22 b Ft(p)17 b Fq(>)g Ft(v)-142 4082 y(P)-6 b(art)r
Fr(\([)6 b Ft(p)p Fr(])k Fm(\010)g Fr([)p Ft(w)p Fr(])g
Fm(\010)g Ft(b)g Fm(\010)g Fr([)p Ft(v)p Fr(]\))17 b(=)g(\([)p
Ft(v)p Fr(])10 b Fm(\010)g Ft(l)t Fr(\))p Fq(;)e Ft(r)-7
b Fq(;)8 b Ft(g)17 b Fm( )22 b Ft(p)17 b Fq(>)g Ft(v)10
b Fm(^)1062 4190 y Ft(P)-6 b(art)q Fr(\([)6 b Ft(p)p
Fr(])k Fm(\010)g Ft(b)g Fm(\010)g Fr([)p Ft(w)p Fr(]\))17
b(=)g Ft(l)t Fq(;)8 b Ft(r)-7 b Fq(;)8 b Ft(g)-142 4406
y(Qs)p Fr(\()p Fv(0)p Fr(\))17 b(=)g Fv(0)-142 4514 y
Ft(Qs)p Fr(\()p Ft(a)p Fr(\))g(=)g Ft(Qs)p Fr(\()p Ft(l)t
Fr(\))10 b Fm(\010)g Ft(r)i Fm(\010)e Ft(Qs)q Fr(\()p
Ft(g)p Fr(\))17 b Fm( )f Ft(a)h Fm(6)p Fr(=)g Fv(0)10
b Fm(^)g Ft(P)-6 b(art)r Fr(\()p Ft(a)p Fr(\))17 b(=)g
Ft(l)t Fq(;)8 b Ft(r)-7 b Fq(;)8 b Ft(g)116 4649 y Fg(Figur)o(e)18
b(6.)23 b(High-le)o(v)o(el)c(array)h(Quicksort)e(pr)o(ogram)p
-150 4732 V -150 4929 a Fw(4.6)99 b(Quicksort)-150 5096
y Fv(Fig.)17 b(6)g(gi)n(v)o(es)h(a)f(high-le)n(v)o(el)i(CL)d
(de\002nition)i(of)g(the)f(well-kno)n(wn)h(Quicksort)-150
5179 y(program.)23 b(The)15 b(application)h Ft(Qs)p Fr(\()p
Ft(b)p Fr(\))g Fv(for)f Ft(b)f Fr(=)f([)6 b Ft(p)p Fr(])h
Fm(\010)g Ft(a)15 b Fv(calls)g(on)h(the)g(partition)-150
5262 y(function)k Ft(P)-6 b(art)20 b Fv(for)e(which)i(one)f(pro)o(v)o
(es)h(by)f(induction)h(on)g Ft(L)p Fr(\()p Ft(a)p Fr(\))p
Fv(:)-150 5400 y Fm(9)p Ft(l)t Fm(9)p Ft(g)p Fr(\()p
Ft(P)-6 b(art)p Fr(\([)6 b Ft(p)p Fr(])h Fm(\010)g Ft(a)p
Fr(\))14 b(=)f Ft(l)t Fq(;)8 b Fr([)e Ft(p)p Fr(])p Fq(;)i
Ft(g)f Fm(^)g Fv(max)q Fr(\()p Ft(l)t Fr(\))13 b Fq(<)19
b Ft(p)7 b Fm(^)13 b Ft(p)h Fm(\024)f Fv(min)q Fr(\()p
Ft(g)p Fr(\))7 b Fm(^)g Ft(a)14 b Fm(\030)g Ft(l)d Fm(\010)c
Ft(g)p Fr(\))2049 83 y Fv(where)21 b(the)f(predicate)h
Ft(a)d Fm(\030)f Ft(b)j Fv(holds)h(if)f(the)g(list)g
Ft(a)g Fv(is)g(a)g(permutation)h(of)g(the)2049 166 y(list)h
Ft(b)h Fv(\(see)g([7]\).)34 b(The)23 b(Quicksort)g(program)h(is)e(v)o
(eri\002ed)h(by)g(pro)o(ving)h Ft(a)19 b Fm(\030)2049
249 y Ft(Qs)p Fr(\()p Ft(a)p Fr(\))13 b Fm(^)g Ft(Or)m(d)e(Qs)p
Fr(\()p Ft(a)p Fr(\))26 b Fv(also)g(by)g(induction)h(on)f
Ft(L)p Fr(\()p Ft(a)p Fr(\))p Fv(.)44 b(Here)25 b(the)h(predicate)2049
332 y Ft(Or)m(d)s Fr(\()p Ft(a)p Fr(\))19 b Fv(holds)g(if)g(the)g(list)
f Ft(a)h Fv(is)f(non-decreasing.)2049 498 y(The)d(translation)f(of)h
Ft(Qs)f Fv(into)h(an)g(ef)n(\002cient)f(PP)g(program)h(is)f(triggered)i
(by)f(the)2049 581 y(typing)h Ft(Qs)8 b Fv(:)25 b Fr(\()p
Ft(a)8 b Fv(:)25 b Ft(A)p Fr(\()p Ft(N)t Fr(\))13 b Fm(!)g
Ft(b)h Fv(:)e Ft(A)p Fr(\()p Ft(N)t Fr(\)\))j Fv(with)g
Ft(a)e Fm(')h Ft(b)h Fv(and)h Ft(P)-6 b(art)9 b Fv(:)25
b Fr(\()p Ft(a)8 b Fv(:)25 b Ft(A)p Fr(\()p Ft(N)t Fr(\))13
b Fm(!)2049 664 y Ft(l)f Fv(:)27 b Ft(A)p Fr(\()p Ft(N)t
Fr(\))13 b Fm(\002)g Ft(r)d Fv(:)27 b Ft(A)p Fr(\()p
Ft(N)t Fr(\))13 b Fm(\002)f Ft(g)c Fv(:)28 b Ft(A)p Fr(\()p
Ft(N)t Fr(\)\))d Fv(with)g Ft(a)c Fm(')f Ft(l)d Fm(\010)c
Ft(r)h Fm(\010)f Ft(g)p Fv(.)43 b(The)25 b(last)g(spec-)2049
747 y(i\002es)k(that)g(the)h(three)f(output)i(array)e(se)o(gments)i(of)
e Ft(P)-6 b(art)3573 720 y Fp(0)3622 747 y Fv(should)31
b(in)e(that)2049 830 y(order)f(o)o(v)o(erlay)g(the)g(single)f(input)h
(array)g(se)o(gment)g(which)g(has)g(the)g(pi)n(v)o(ot)2049
913 y(element)h Ft(p)23 b Fv(at)f(the)h(be)o(ginning.)36
b(F)o(or)22 b(instance,)i(the)f(clause)h(for)e Ft(P)-6
b(art)3889 886 y Fp(0)3931 913 y Fv(cor)o(-)2049 996
y(responding)20 b(to)e(the)g(last)g(clause)h(of)f Ft(P)-6
b(art)19 b Fv(will)e(maintain)i(the)f(adjacenc)o(y)h(by)2049
1079 y(mo)o(ving)24 b(for)e(the)h(recursi)n(v)o(e)h(call)e(the)h(pi)n
(v)o(ot)29 b Ft(p)22 b Fv(to)h Ft(w)p Fv(')l(s)f(slot)g(which)i(will)d
(go)2049 1162 y(to)f Ft(v)p Fv(')l(s)f(slot)h(which)g(will)f(go)h(to)26
b Ft(p)p Fv(')l(s)19 b(slot)h(and)g(the)g(last)f(slot)h(will)f(be)h
(omitted)2049 1245 y(from)f(the)g(call.)2049 1411 y(The)g(correctness)h
(of)f(the)g(translation)g(is)f(pro)o(v)o(ed)i(automatically:)2132
1590 y Ft(s)2196 1548 y Fq(:)2178 1590 y Fr(=)c Ft(s)2281
1603 y Fu(1)2325 1590 y Fq(?)10 b Ft(s)2401 1603 y Fu(2)2445
1590 y Fm(^)g Ft(a)17 b Fm(')2617 1550 y Fj(A)p Fk(\()p
Fj(N)t Fk(\))2617 1602 y Fj(s)2640 1611 y Fb(1)2761 1590
y Ft(s)2790 1603 y Fu(2)2840 1590 y Fd(m)d Ft(t)22 b
Fm(!)2602 1711 y(9)p Ft(s)2673 1680 y Fp(0)2673 1731
y Fu(2)2706 1711 y Fr(\()p Ft(Qs)2818 1680 y Fp(0)2838
1711 y Fr(\()n Ft(t)5 b Fq(;)j Ft(s)p Fr(\))3014 1669
y Fq(:)2995 1711 y Fr(=)17 b Ft(s)3099 1724 y Fu(1)3142
1711 y Fq(?)10 b Ft(s)3218 1680 y Fp(0)3218 1731 y Fu(2)3263
1711 y Fm(^)g Ft(Qs)p Fr(\()p Ft(a)p Fr(\))17 b Fm(')3576
1671 y Fj(A)p Fk(\()p Fj(N)t Fk(\))3576 1723 y Fj(s)3599
1732 y Fb(1)3719 1711 y Ft(s)3748 1680 y Fp(0)3748 1731
y Fu(2)3798 1711 y Fd(m)e Ft(t)5 b Fr(\))18 b Fq(:)p
2049 1876 V 2049 1992 a Ft(Mr)m(gl)q Fr(\()p Fv(0)p Fq(;)8
b Ft(b)p Fr(\))17 b(=)g Ft(b)2049 2100 y(Mr)m(gl)q Fr(\([)p
Ft(u)p Fr(])10 b Fm(\010)g Ft(a)p Fq(;)e Fv(0)p Fr(\))18
b(=)e([)p Ft(u)p Fr(])10 b Fm(\010)g Ft(a)2049 2208 y(Mr)m(gl)q
Fr(\([)p Ft(u)p Fr(])g Fm(\010)g Ft(a)p Fq(;)e Fr([)p
Ft(v)p Fr(])i Fm(\010)g Ft(b)p Fr(\))18 b(=)f([)p Ft(u)p
Fr(])10 b Fm(\010)g Ft(Mr)m(gl)q Fr(\()p Ft(a)p Fq(;)e
Fr([)p Ft(v)p Fr(])i Fm(\010)g Ft(b)p Fr(\))18 b Fm( )e
Ft(u)h Fm(\024)g Ft(v)2049 2316 y(Mr)m(gl)q Fr(\([)p
Ft(u)p Fr(])10 b Fm(\010)g Ft(a)p Fq(;)e Fr([)p Ft(v)p
Fr(])i Fm(\010)g Ft(b)p Fr(\))18 b(=)f([)p Ft(v)p Fr(])10
b Fm(\010)g Ft(Mr)m(gl)q Fr(\([)p Ft(u)p Fr(])g Fm(\010)g
Ft(a)p Fq(;)e Ft(b)p Fr(\))18 b Fm( )e Ft(u)h Fq(>)g
Ft(v)2049 2532 y(Msl)p Fr(\()p Fv(0)p Fr(\))g(=)g Fv(0)2049
2639 y Ft(Msl)p Fr(\()p Ft(a)10 b Fm(\010)g Ft(b)p Fr(\))18
b(=)f Ft(Mr)m(gl)q Fr(\()p Ft(Msl)p Fr(\()p Ft(a)p Fr(\))p
Fq(;)8 b Ft(Msl)p Fr(\()p Ft(b)p Fr(\)\))17 b Fm( )g
Fv(0)g Fq(<)f Ft(L)p Fr(\()p Ft(a)p Fr(\))h Fm(\024)g
Ft(L)p Fr(\()p Ft(b)p Fr(\))f Fm(\024)h Ft(L)p Fr(\()p
Ft(a)p Fr(\))10 b(+)g Fv(1)2345 2774 y Fg(Figur)o(e)18
b(7.)24 b(High-le)o(v)o(el)18 b(list)h(mer)o(ge)h(sort)f(pr)o(ogram)p
2049 2857 V 2049 2959 V 2049 3092 a Ft(Mr)m(g)q Fr(\()p
Fv(0)p Fq(;)8 b Ft(b)p Fq(;)g Ft(c)p Fr(\))17 b(=)g Ft(Copy)q
Fr(\()p Ft(b)p Fq(;)8 b Ft(c)p Fr(\))676 b Fm( )17 b
Ft(L)p Fr(\()p Fv(0)10 b Fm(\010)g Ft(b)p Fr(\))17 b(=)g
Ft(L)p Fr(\()p Ft(c)p Fr(\))2049 3200 y Ft(Mr)m(g)q Fr(\([)p
Ft(u)p Fr(])10 b Fm(\010)g Ft(a)p Fq(;)e Fv(0)p Fq(;)g
Ft(c)p Fr(\))18 b(=)f Ft(Copy)p Fr(\([)p Ft(u)p Fr(])10
b Fm(\010)g Ft(a)p Fq(;)e Ft(c)p Fr(\))205 b Fm( )16
b Ft(L)p Fr(\([)p Ft(u)p Fr(])10 b Fm(\010)g Ft(a)g Fm(\010)g
Fv(0)p Fr(\))18 b(=)f Ft(L)p Fr(\()p Ft(c)p Fr(\))2049
3308 y Ft(Mr)m(g)q Fr(\([)p Ft(u)p Fr(])10 b Fm(\010)g
Ft(a)p Fq(;)e Fr([)p Ft(v)p Fr(])i Fm(\010)g Ft(b)p Fq(;)e
Fr([)p 2671 3308 23 4 v 28 w(])i Fm(\010)g Ft(c)p Fr(\))17
b(=)g([)p Ft(u)p Fr(])10 b Fm(\010)g Ft(Mr)m(g)r Fr(\()p
Ft(a)p Fq(;)e Fr([)p Ft(v)p Fr(])i Fm(\010)g Ft(b)p Fq(;)e
Ft(c)p Fr(\))17 b Fm( )g Ft(u)g Fm(\024)f Ft(v)3023 3391
y Fm( )g Ft(L)p Fr(\([)p Ft(u)p Fr(])10 b Fm(\010)g Ft(a)g
Fm(\010)g Fr([)p Ft(v)p Fr(])g Fm(\010)g Ft(b)p Fr(\))19
b(=)e Ft(L)p Fr(\([)p 3866 3391 V 26 w(])10 b Fm(\010)g
Ft(c)p Fr(\))2049 3507 y Ft(Mr)m(g)q Fr(\([)p Ft(u)p
Fr(])g Fm(\010)g Ft(a)p Fq(;)e Fr([)p Ft(v)p Fr(])i Fm(\010)g
Ft(b)p Fq(;)e Fr([)p 2671 3507 V 28 w(])i Fm(\010)g Ft(c)p
Fr(\))17 b(=)g([)p Ft(v)p Fr(])10 b Fm(\010)g Ft(Mr)m(g)q
Fr(\([)p Ft(u)p Fr(])g Fm(\010)g Ft(a)p Fq(;)e Ft(b)p
Fq(;)g Ft(c)p Fr(\))18 b Fm( )f Ft(u)g Fq(>)f Ft(v)3023
3590 y Fm( )g Ft(L)p Fr(\([)p Ft(u)p Fr(])10 b Fm(\010)g
Ft(a)g Fm(\010)g Fr([)p Ft(v)p Fr(])g Fm(\010)g Ft(b)p
Fr(\))19 b(=)e Ft(L)p Fr(\([)p 3866 3590 V 26 w(])10
b Fm(\010)g Ft(c)p Fr(\))2049 3781 y Ft(Ms)2140 3794
y Fu(1)2174 3781 y Fr(\()p Fv(0)p Fq(;)e Ft(c)p Fr(\))17
b(=)f Fv(0)1138 b Fm( )17 b Ft(L)p Fr(\()p Fv(0)p Fr(\))f(=)h
Ft(L)p Fr(\()p Ft(c)p Fr(\))2049 3889 y Ft(Ms)2140 3902
y Fu(1)2174 3889 y Fr(\()p Ft(a)10 b Fm(\010)g Ft(b)p
Fq(;)e Ft(c)i Fm(\010)g Ft(d)t Fr(\))19 b(=)e Ft(Mr)m(g)p
Fr(\()p Ft(Ms)2905 3902 y Fu(2)2938 3889 y Fr(\()p Ft(a)p
Fq(;)8 b Ft(c)p Fr(\))p Fq(;)g Ft(Ms)3216 3902 y Fu(2)3249
3889 y Fr(\()p Ft(b)p Fq(;)g Ft(d)t Fr(\))p Fq(;)g Ft(a)i
Fm(\010)g Ft(b)p Fr(\))2215 3997 y Fm( )16 b Fv(0)h Fq(<)g
Ft(L)p Fr(\()p Ft(a)p Fr(\))g Fm(\024)f Ft(L)p Fr(\()p
Ft(b)p Fr(\))h Fm(\024)g Ft(L)p Fr(\()p Ft(a)p Fr(\))10
b(+)g Fv(1)g Fm(^)g Ft(L)p Fr(\()p Ft(c)p Fr(\))18 b(=)f
Ft(L)p Fr(\()p Ft(a)p Fr(\))3361 4080 y Fm( )f Ft(L)p
Fr(\()p Ft(a)10 b Fm(\010)g Ft(b)p Fr(\))18 b(=)f Ft(L)p
Fr(\()p Ft(c)10 b Fm(\010)g Ft(d)t Fr(\))2049 4271 y
Ft(Ms)2140 4284 y Fu(2)2174 4271 y Fr(\()p Fv(0)p Fq(;)e
Ft(c)p Fr(\))17 b(=)f Ft(c)1142 b Fm( )17 b Ft(L)p Fr(\()p
Fv(0)p Fr(\))f(=)h Ft(L)p Fr(\()p Ft(c)p Fr(\))2049 4379
y Ft(Ms)2140 4392 y Fu(2)2174 4379 y Fr(\()p Ft(a)10
b Fm(\010)g Ft(b)p Fq(;)e Ft(c)i Fm(\010)g Ft(d)t Fr(\))19
b(=)e Ft(Mr)m(g)p Fr(\()p Ft(Ms)2905 4392 y Fu(1)2938
4379 y Fr(\()p Ft(a)p Fq(;)8 b Ft(c)p Fr(\))p Fq(;)g
Ft(Ms)3216 4392 y Fu(1)3249 4379 y Fr(\()p Ft(b)p Fq(;)g
Ft(d)t Fr(\))p Fq(;)g Ft(c)i Fm(\010)g Ft(d)t Fr(\))2215
4486 y Fm( )16 b Fv(0)h Fq(<)g Ft(L)p Fr(\()p Ft(a)p
Fr(\))g Fm(\024)f Ft(L)p Fr(\()p Ft(b)p Fr(\))h Fm(\024)g
Ft(L)p Fr(\()p Ft(a)p Fr(\))10 b(+)g Fv(1)g Fm(^)g Ft(L)p
Fr(\()p Ft(c)p Fr(\))18 b(=)f Ft(L)p Fr(\()p Ft(a)p Fr(\))3361
4569 y Fm( )f Ft(L)p Fr(\()p Ft(a)10 b Fm(\010)g Ft(b)p
Fr(\))18 b(=)f Ft(L)p Fr(\()p Ft(c)10 b Fm(\010)g Ft(d)t
Fr(\))2049 4760 y Ft(Ms)p Fr(\()p Ft(a)p Fr(\))17 b(=)g
Ft(Ms)2418 4773 y Fu(1)2451 4760 y Fr(\()p Ft(a)p Fq(;)8
b Ft(Ne)o(w)h(L)p Fr(\()p Ft(a)p Fr(\)\))2304 4893 y
Fg(Figur)o(e)18 b(8.)23 b(High-le)o(v)o(el)c(array)h(mer)o(ge)g(sort)f
(pr)o(ogram)p 2049 4976 2001 4 v 2049 5150 a Fw(4.7)99
b(Mer)o(ge)26 b(sort)2049 5317 y Fv(Fig.)20 b(7)h(contains)h(a)f(list)f
(v)o(ersion)h(of)g(the)g(mer)o(ge)g(sort)g(program.)30
b(The)20 b(func-)2049 5400 y(tion)f Ft(Msl)p Fr(\()p
Ft(c)p Fr(\))f Fv(repeatedly)i(splits)e(its)g(input)h(list)f
Ft(c)h Fv(into)f(tw)o(o)h(lists)f(of)h(roughly)p eop
%%Page: 8 8
8 7 bop -150 83 a Fv(equal)29 b(size)g(by)g(performing)g(a)g
(discrimination)g(for)f(which)h(e)o(xactly)g(one)-150
166 y(of)22 b Ft(L)p Fr(\()p Ft(c)p Fr(\))d(=)f Fv(0)23
b(or)f Ft(c)d Fr(=)f Ft(a)12 b Fm(\010)g Ft(b)g Fm(^)g
Fv(0)18 b Fq(<)h Ft(L)p Fr(\()p Ft(a)p Fr(\))g Fm(\024)f
Ft(L)p Fr(\()p Ft(b)p Fr(\))h Fm(\024)f Ft(L)p Fr(\()p
Ft(a)p Fr(\))12 b(+)g Fv(1)22 b(for)h(unique)-150 249
y Ft(a)i Fv(and)g Ft(b)g Fv(holds.)41 b(W)-6 b(e)25 b(can)g(pro)o(v)o
(e)g(\(by)g(hand\))h(the)f(correctness)g(of)g Ft(Msl)g
Fv(as)-150 332 y Ft(a)17 b Fm(\030)g Ft(Msl)p Fr(\()p
Ft(a)p Fr(\))10 b Fm(^)g Ft(Or)m(d)s(Msl)p Fr(\()p Ft(a)p
Fr(\))p Fv(.)-150 498 y(The)17 b(call)f Ft(Msl)q Fr(\()p
Ft(c)p Fr(\))g Fv(will)g(perform)i Fl(O)5 b Fr(\()p Fv(log)k
Ft(L)p Fr(\()p Ft(c)p Fr(\))g Fm(\002)g Ft(L)p Fr(\()p
Ft(c)p Fr(\)\))16 b Fv(pairing)h(operations.)-150 581
y(This)22 b(can)h(be)g(speeded)h(up,)g(and)f(the)g(ar)o(gument)h
Ft(c)e Fv(stored)h(in)g(an)g(array)-5 b(,)23 b(by)-150
664 y(pro)o(viding)j(in)e(a)h(second)h(array)e(of)h(the)f(same)h(size)g
(auxiliary)g(storage)g(for)-150 747 y(the)h(mer)o(ges.)43
b(Ob)o(viously)-5 b(,)28 b(this)e(cannot)g(be)g(done)h(automatically)f
(and)h(so)-150 830 y(we)19 b(program)h(a)e(ne)n(w)i(v)o(ersion)f(gi)n
(v)o(en)h(in)f(Fig.)f(8.)-150 996 y(The)27 b(functions)g(of)g(the)g(ne)
n(w)g(program)h(seemingly)f(do)g(not)g(do)h(an)o(ything)-150
1079 y(useful)c(as)g(the)o(y)g(completely)h(ignore)f(their)f(last)h(ar)
o(guments.)38 b(Indeed,)26 b(we)-150 1162 y(can)19 b(easily)g(pro)o(v)o
(e)h(\(by)f(hand\):)390 1293 y Ft(L)p Fr(\()p Ft(a)p
Fr(\))d(=)h Ft(L)p Fr(\()p Ft(b)p Fr(\))g Fm(!)f Ft(Copy)q
Fr(\()p Ft(a)p Fq(;)8 b Ft(b)p Fr(\))17 b(=)g Ft(a)133
1401 y(L)p Fr(\()p Ft(a)p Fr(\))10 b(+)g Ft(L)p Fr(\()p
Ft(b)p Fr(\))18 b(=)e Ft(L)p Fr(\()p Ft(c)p Fr(\))h Fm(!)f
Ft(Mr)m(gl)q Fr(\()p Ft(a)p Fq(;)8 b Ft(b)p Fr(\))17
b(=)g Ft(Mr)m(g)q Fr(\()p Ft(a)p Fq(;)8 b Ft(b)p Fq(;)g
Ft(c)p Fr(\))-51 1508 y Ft(L)p Fr(\()p Ft(a)p Fr(\))17
b(=)f Ft(L)p Fr(\()p Ft(c)p Fr(\))h Fm(!)f Ft(Msl)p Fr(\()p
Ft(a)p Fr(\))h(=)g Ft(Ms)p Fr(\()p Ft(a)p Fq(;)8 b Ft(c)p
Fr(\))18 b(=)e Ft(Ms)1148 1521 y Fu(1)1182 1508 y Fr(\()p
Ft(a)p Fq(;)8 b Ft(c)p Fr(\))17 b(=)f Ft(Ms)1522 1521
y Fu(2)1555 1508 y Fr(\()p Ft(a)p Fq(;)8 b Ft(c)p Fr(\))19
b Fq(:)-150 1639 y Fv(This)26 b(tri)n(vially)g(transfers)g(the)g
(correctness)i(of)e Ft(Msl)g Fv(to)g Ft(Ms)h Fv(v)o(erifying)g(the)-150
1722 y(latter)18 b(as)h(a)g(sorting)g(program,)-150 1888
y(The)25 b(storage)g(for)f(the)h(additional)g(ar)o(guments)h(will)e(be)
g(o)o(v)o(erwritten)h(with)-150 1971 y(the)k(results)f(of)h(the)g
(three)g(functions.)53 b(This)29 b(is)f(achie)n(v)o(ed)i(by)f(a)g
(transla-)-150 2054 y(tion)d(triggered)g(by)h(the)f(typing)g
Ft(Copy)9 b Fv(:)28 b Fr(\()p Ft(A)p Fr(\()p Ft(N)t Fr(\))13
b Fm(\002)g Ft(b)8 b Fv(:)28 b Ft(A)p Fr(\()p Ft(N)t
Fr(\))20 b Fm(!)g Ft(c)8 b Fv(:)28 b Ft(A)p Fr(\()p Ft(N)t
Fr(\)\))-150 2137 y Fv(with)17 b Ft(b)e Fm(')g Ft(c)p
Fv(,)j Ft(Mr)m(g)9 b Fv(:)24 b Fr(\()p Ft(A)p Fr(\()p
Ft(N)t Fr(\))9 b Fm(\002)g Ft(A)p Fr(\()p Ft(N)t Fr(\))g
Fm(\002)g Ft(c)f Fv(:)25 b Ft(A)p Fr(\()p Ft(N)t Fr(\))15
b Fm(!)g Ft(d)d Fv(:)25 b Ft(A)p Fr(\()p Ft(N)t Fr(\)\))17
b Fv(with)g Ft(c)e Fm(')g Ft(d)t Fv(,)-150 2220 y Ft(Ms)-59
2233 y Fu(1)-17 2220 y Fv(:)29 b Fr(\()p Ft(a)8 b Fv(:)31
b Ft(A)p Fr(\()p Ft(N)t Fr(\))15 b Fm(\002)g Ft(A)p Fr(\()p
Ft(N)t Fr(\))24 b Fm(!)g Ft(d)12 b Fv(:)30 b Ft(A)p Fr(\()p
Ft(N)t Fr(\)\))h Fv(with)h Ft(a)24 b Fm(')g Ft(d)t Fv(,)35
b Ft(Ms)1499 2233 y Fu(2)1540 2220 y Fv(:)30 b Fr(\()p
Ft(A)p Fr(\()p Ft(N)t Fr(\))15 b Fm(\002)-150 2303 y
Ft(c)8 b Fv(:)31 b Ft(A)p Fr(\()p Ft(N)t Fr(\))24 b Fm(!)h
Ft(d)12 b Fv(:)31 b Ft(A)p Fr(\()p Ft(N)t Fr(\)\))i Fv(with)h
Ft(c)25 b Fm(')g Ft(d)t Fv(,)37 b(and)d(\002nally)g Ft(Ms)8
b Fv(:)31 b Fr(\()p Ft(a)8 b Fv(:)30 b Ft(A)p Fr(\()p
Ft(N)t Fr(\))25 b Fm(!)-150 2386 y Ft(b)8 b Fv(:)25 b
Ft(A)p Fr(\()p Ft(N)t Fr(\)\))19 b Fv(with)f Ft(a)f Fm(')g
Ft(b)p Fv(.)-150 2552 y(W)-6 b(e)34 b(gi)n(v)o(e)i(here)f(just)f(the)h
(correctness)h(property)g(for)e(the)h(PP)f(program)-150
2635 y Ft(Ms)-59 2608 y Fp(0)-59 2659 y Fu(1)-17 2635
y Fv(:)24 b Ft(N)82 2608 y Fu(2)126 2635 y Fm(\002)10
b Ft(N)248 2608 y Fu(2)293 2635 y Fm(\002)g Ft(S)18 b
Fm(!)e Ft(S)q Fv(:)-67 2823 y Ft(L)p Fr(\()p Ft(a)p Fr(\))h(=)f
Ft(L)p Fr(\()p Ft(c)p Fr(\))10 b Fm(^)g Ft(a)18 b Fm(')477
2783 y Fj(A)p Fk(\()p Fj(N)t Fk(\))477 2835 y Fj(s)620
2823 y Ft(s)649 2836 y Fu(1)699 2823 y Fd(m)d Ft(t)g
Fm(^)10 b Ft(c)17 b Fm(')978 2783 y Fj(A)p Fk(\()p Fj(N)t
Fk(\))978 2835 y Fj(s)1122 2823 y Ft(s)1151 2836 y Fu(2)1201
2823 y Fd(m)f Ft(u)h Fm(!)521 2944 y(9)p Ft(s)592 2913
y Fp(0)592 2964 y Fu(1)624 2944 y Fm(9)p Ft(s)695 2913
y Fp(0)695 2964 y Fu(2)728 2944 y Fr(\()p Ft(Ms)848 2913
y Fp(0)848 2964 y Fu(1)882 2944 y Fr(\()n Ft(t)5 b Fq(;)j
Ft(u)p Fq(;)g Ft(s)i Fq(?)g Ft(s)1145 2957 y Fu(1)1190
2944 y Fq(?)g Ft(s)1266 2957 y Fu(2)1300 2944 y Fr(\))16
b(=)h Ft(s)10 b Fq(?)g Ft(s)1535 2913 y Fp(0)1535 2964
y Fu(1)1580 2944 y Fq(?)g Ft(s)1656 2913 y Fp(0)1656
2964 y Fu(2)1700 2944 y Fm(^)757 3087 y Ft(Ms)848 3100
y Fu(1)882 3087 y Fr(\()p Ft(a)p Fq(;)e Ft(c)p Fr(\))17
b Fm(')1114 3046 y Fj(A)p Fk(\()p Fj(N)t Fk(\))1114 3098
y Fj(s)1257 3087 y Ft(s)1286 3056 y Fp(0)1286 3107 y
Fu(1)1336 3087 y Fd(m)e Ft(t)g Fm(^)10 b Ft(s)1536 3056
y Fp(0)1536 3107 y Fu(2)1586 3087 y Fd(m)16 b Ft(u)p
Fr(\))j Fq(:)-150 3218 y Fv(Note)e(that)g(the)g(store)g(designated)i
(by)f Ft(u)f Fv(is)f(modi\002ed)i(in)f(the)g(recursi)n(v)o(e)h(calls)
-150 3301 y(to)h Ft(Ms)18 3274 y Fp(0)18 3325 y Fu(2)51
3301 y Fv(.)p -150 3423 2001 4 v 107 3555 a Ft(Bfn)211
3574 y Fu(1)244 3555 y Fr(\()p Ft(n)p Fq(;)8 b Fv(0)p
Fr(\))18 b(=)e Fv(0)107 3663 y Ft(Bfn)211 3682 y Fu(1)244
3663 y Fr(\()p Ft(n)p Fq(;)8 b Fr([)p Fm(\017)p Fr(])i
Fm(\010)g Ft(q)p Fr(\))18 b(=)f([)p Fm(\017)p Fr(])10
b Fm(\010)g Ft(Bfn)916 3682 y Fu(1)949 3663 y Fr(\()p
Ft(n)p Fq(;)e Ft(q)p Fr(\))107 3834 y Ft(Bfn)211 3852
y Fu(1)244 3728 y Ff(\022)299 3834 y Ft(n)p Fq(;)365
3728 y Ff(\024)453 3780 y Ft(x)p 415 3816 110 3 v 415
3885 a(l)20 b Fm(j)c Ft(r)524 3728 y Ff(\025)574 3834
y Fm(\010)10 b Ft(q)679 3728 y Ff(\023)751 3834 y Fr(=)826
3728 y Ff(\024)942 3780 y Ft(n)p 875 3816 171 3 v 875
3885 a(l)896 3898 y Fu(1)946 3885 y Fm(j)16 b Ft(r)1012
3898 y Fu(1)1046 3728 y Ff(\025)1095 3834 y Fm(\010)10
b Ft(q)1200 3847 y Fu(1)273 3996 y Fm( )17 b Ft(Bfn)468
4014 y Fu(1)502 3996 y Fr(\()p Ft(n)10 b Fr(+)g Fv(1)p
Fq(;)e Ft(q)i Fm(\010)g Fr([)p Ft(l)t Fr(])g Fm(\010)g
Fr([)p Ft(r)r Fr(]\))18 b(=)f Ft(q)1204 4009 y Fu(1)1247
3996 y Fm(\010)10 b Fr([)p Ft(l)1357 4009 y Fu(1)1391
3996 y Fr(])g Fm(\010)g Fr([)p Ft(r)1540 4009 y Fu(1)1573
3996 y Fr(])107 4212 y Ft(Bfn)p Fr(\()n Ft(t)5 b Fr(\))17
b(=)f Ft(Bfn)488 4230 y Fu(1)521 4212 y Fr(\()p Fv(0)p
Fq(;)8 b Fr([)n Ft(t)d Fr(]\))63 4345 y Fg(Figur)o(e)18
b(9.)23 b(Br)o(eadth-\002rst)17 b(numbering)h(of)h(binary)f(tr)o(ees)p
-150 4428 2001 4 v -150 4606 a Fw(4.8)99 b(Br)n(eadth-\002rst)28
b(tr)n(ee)e(numbering)-150 4773 y Fv(Here)19 b(is)f(an)i(interesting)f
(problem)g(analyzed)i(by)e(Okasaki)h([8]:)16 4921 y(Gi)n(v)o(en)c(a)f
(labeled)h(binary)f(tree,)h(create)f(a)g(ne)n(w)h(tree)f(of)g(the)g
(same)16 5004 y(shape)24 b(b)o(ut)g(with)f(labels)g(replaced)i(by)f
(consecuti)n(v)o(e)h(numbers)16 5087 y(in)19 b(breadth-\002rst)g(order)
l(.)-150 5234 y(Okasaki')l(s)j(surprisingly)f(dif)n(\002cult)g(to)g
(disco)o(v)o(er)h(solution)g(gi)n(v)o(en)f(in)g(Fig.)g(9)-150
5317 y(uses)j(a)f(queue)h(storing)f(a)g(forest)g(of)g(trees.)36
b(He)23 b(does)h(not)f(present)h(the)f(so-)-150 5400
y(lution)f(in)h(this)f(w)o(ay)g(\(kno)n(wing)i(that)e(it)g(w)o(ould)h
(be)f(inef)n(\002cient)g(because)i(of)2049 83 y(the)17
b(required)i(access)f(to)f(the)g(ends)h(of)g(lists\),)e(and)i(uses)g
(instead)g(an)g(abstract)2049 166 y(data)27 b(type)h
Ft(queue)p Fv(.)48 b(He)27 b(then)h(proceeds)g(with)f(its)f
(implementation)i(by)g(a)2049 249 y(declarati)n(v)o(e)19
b(double-ended)j(queue.)p 2049 355 V 2049 428 104 3 v
2049 488 a Ft(Bfn)2153 507 y Fu(1)2186 488 y Fr(\()p
Ft(n)p Fq(;)8 b Fv(0)p Fq(;)g Ft(e)p Fr(\))17 b(=)g Fv(0)1215
b Fm( )13 b Ft(C)r Fr(\()p Fv(0)p Fq(;)8 b Ft(e)p Fr(\))p
2049 552 V 2049 612 a Ft(Bfn)2153 631 y Fu(1)2186 612
y Fr(\()p Ft(n)p Fq(;)g Fr([)p Fm(\017)p Fr(])i Fm(\010)g
Ft(q)p Fq(;)e Ft(e)p Fr(\))18 b(=)f([)p Fm(\017)p Fr(])10
b Fm(\010)p 2816 552 V 10 w Ft(Bfn)2920 631 y Fu(1)2953
612 y Fr(\()p Ft(n)p Fq(;)e Ft(q)p Fq(;)g Ft(e)p Fr(\))420
b Fm( )12 b Ft(C)r Fr(\([)p Fm(\017)p Fr(])e Fm(\010)g
Ft(q)p Fq(;)e Ft(e)p Fr(\))p 2049 723 V 2049 783 a Ft(Bfn)2153
801 y Fu(1)2186 677 y Ff(\022)2241 783 y Ft(n)p Fq(;)2307
677 y Ff(\024)2395 729 y Ft(x)p 2357 766 110 3 v 2357
834 a(l)20 b Fm(j)c Ft(r)2466 677 y Ff(\025)2516 783
y Fm(\010)10 b Ft(q)p Fq(;)e Fr([)p 2675 783 23 4 v 2698
796 a Fu(1)2731 783 y Fr(])i Fm(\010)g Fr([)p 2855 783
V 2878 796 a Fu(2)2912 783 y Fr(])g Fm(\010)g Ft(e)3044
677 y Ff(\023)3116 783 y Fr(=)3191 677 y Ff(\024)3306
729 y Ft(n)p 3240 766 171 3 v 3240 834 a(l)3261 847 y
Fu(1)3310 834 y Fm(j)17 b Ft(r)3377 847 y Fu(1)3410 677
y Ff(\025)3460 783 y Fm(\010)10 b Ft(q)3565 796 y Fu(1)2140
953 y Fm( )p 2232 893 104 3 v 17 w Ft(Bfn)2335 971 y
Fu(1)2369 953 y Fr(\()p Ft(n)g Fr(+)g Fv(1)p Fq(;)e Ft(q)i
Fm(\010)g Fr([)p Ft(l)t Fr(])g Fm(\010)g Fr([)p Ft(r)r
Fr(])p Fq(;)e Ft(e)p Fr(\))18 b(=)f Ft(q)3133 966 y Fu(1)3177
953 y Fm(\010)10 b Fr([)p Ft(l)3287 966 y Fu(1)3320 953
y Fr(])g Fm(\010)g Fr([)p Ft(r)3469 966 y Fu(1)3502 953
y Fr(])3064 1092 y Fm( )i Ft(C)3203 987 y Ff(\022\024)3345
1038 y Ft(x)p 3307 1075 110 3 v 3307 1143 a(l)21 b Fm(j)16
b Ft(r)3417 987 y Ff(\025)3466 1092 y Fm(\010)10 b Ft(q)p
Fq(;)e Fr([)p 3625 1092 23 4 v 3649 1105 a Fu(1)3682
1092 y Fr(])i Fm(\010)g Fr([)p 3806 1092 V 3829 1105
a Fu(2)3862 1092 y Fr(])g Fm(\010)g Ft(e)3994 987 y Ff(\023)p
2049 1319 104 3 v 2049 1379 a Ft(Bfn)p Fr(\()n Ft(t)5
b Fr(\))16 b(=)p 2326 1319 V 17 w Ft(Bfn)2430 1397 y
Fu(1)2463 1379 y Fr(\()p Fv(0)p Fq(;)8 b Fr([)n Ft(t)d
Fr(])p Fq(;)j Ft(e)p Fr(\))17 b Fm( )f Ft(Ne)o(w)8 b
Fq(])p Fr(\([)n Ft(t)d Fr(]\))16 b(=)g([)p 3231 1379
23 4 v 27 w(])10 b Fm(\010)g Ft(e)423 b Fm( )16 b Ft(Bt)q
Fr(\()n Ft(t)5 b Fr(\))2049 1511 y Fg(Figur)o(e)20 b(10.)31
b(Br)o(eadth-\002rst)19 b(numbering)h(of)h(binary)g(tr)o(ees)g(without)
f(al-)2049 1594 y(location)p 2049 1678 2001 4 v 2049
1831 a Fv(Ha)o(ving)k(gone)g(through)h(the)f(preceding)h(e)o(xamples,)g
(the)f(reader)g(immedi-)2049 1914 y(ately)17 b(realizes)h(that)f(there)
g(is)g(no)h(need)g(for)f(such)h(queues,)h(all)e(we)g(need)h(is)f(to)
2049 1997 y(implement)22 b(the)g(queue)g(in)g(an)g(array)-5
b(.)31 b(So)22 b(the)f(\002rst)g(step)h(is)f(to)g(remo)o(v)o(e)i(the)
2049 2080 y(allocation)18 b(of)g(ne)n(w)g(queue)h(slots)f(by)h(the)e
(tw)o(o)h(singleton)h(operations)g(in)f(the)2049 2163
y(ar)o(gument)j(of)f(the)h(recursi)n(v)o(e)f(call)g(in)h(the)f(last)g
(clause)h(for)f Ft(Bfn)3693 2182 y Fu(1)3727 2163 y Fv(.)27
b(Note)20 b(that)2049 2246 y(the)25 b(tw)o(o)g(singleton)h(operations)g
(in)f(the)g(last)f(tw)o(o)h(clauses)h(for)e Ft(Bfn)3855
2265 y Fu(1)3913 2246 y Fv(used)2049 2329 y(in)d(the)g(construction)i
(of)e(the)g(result)g(can)h(be)f(done)h(in)f(place.)31
b(The)21 b(remain-)2049 2412 y(ing)26 b(four)g(occurrences)h(of)f
(singletons)g(in)f Ft(Bfn)3305 2431 y Fu(1)3364 2412
y Fv(are)g(pattern)h(matched)h(in)2049 2495 y(discriminations)19
b(by)h Ft(Dsingl)p Fv(.)2049 2661 y(The)25 b(length)g(of)f(the)h
(needed)h(queue)g(can)f(be)g(computed.)42 b(Preparatory)25
b(to)2049 2744 y(that)d(we)h(introduce)g(into)g(P)-7
b(A)21 b(a)i(predicate)g Ft(Bts)o Fr(\()p Ft(a)p Fr(\))g
Fv(holding)h(if)n(f)d Ft(a)i Fv(is)f(a)g(for)o(-)2049
2827 y(est)j(containing)i(binary)f(trees)g(\(with)f(numbers)i(as)e
(labels\),)i(i.e.,)f(if)f(e)n(v)o(ery)2049 2910 y(element)17
b Ft(t)24 b Fv(of)19 b Ft(a)g Fv(satis\002es)f(the)h(predicate)h
Ft(Bt)p Fr(\()n Ft(t)5 b Fr(\))19 b Fv(with)g(a)f(clausal)i
(de\002nition:)2091 3037 y Ft(Bt)p Fr(\()p Fm(\017)p
Fr(\))2091 3207 y Ft(Bt)2158 3102 y Ff(\022)2259 3153
y Ft(n)p 2223 3190 110 3 v 2223 3258 a(l)g Fm(j)d Ft(r)2333
3102 y Ff(\023)2404 3207 y Fm( )f Ft(Bt)q Fr(\()p Ft(l)t
Fr(\))10 b Fm(^)g Ft(Bt)q Fr(\()p Ft(r)r Fr(\))18 b Fq(:)2049
3386 y Fv(W)-6 b(e)24 b(then)h(introduce)h(into)f(P)-7
b(A)24 b(the)h Ft(tr)m(ee)g(size)g Fv(function)g Fq(])p
Fr(\()p Ft(a)p Fr(\))g Fv(which)g(for)g(a)2049 3469 y(forest)g(of)g
(binary)g(trees)g Ft(a)g Fv(counts)g(the)g(total)g(number)h(of)e
(occurrences)j(of)2049 3606 y(constructors)16 b Fm(\017)g
Fv(and)2652 3552 y Fm(\001)p 2615 3588 96 3 v 2615 3657
a(\001)g(j)g(\001)2725 3606 y Fv(in)f(all)g(elements)h(of)f
Ft(a)p Fv(.)22 b(The)15 b(number)i(of)e(singleton)2049
3740 y(slots)k(allocated)g(in)g(the)g(call)f Ft(Bfn)p
Fr(\()p Ft(n)p Fq(;)8 b Ft(q)p Fr(\))20 b Fv(is)e(then)i
Ft(k)g Fv(where)f Ft(L)p Fr(\()p Ft(q)p Fr(\))10 b(+)g
Ft(k)19 b Fr(=)d Fq(])p Fr(\()p Ft(q)p Fr(\))p Fv(.)2049
3906 y(Similarly)23 b(as)i(with)f(the)g(mer)o(ge)h(sort)f(e)o(xample,)j
(we)d(no)n(w)h(reprogram)g(\(by)2049 3989 y(hand\))f(the)e(numbering)i
(program)g(adding)g(to)e Ft(Bfn)3387 4007 y Fu(1)3442
3989 y Fv(a)h(ne)n(w)g(dummy)h(ar)o(gu-)2049 4072 y(ment)19
b Ft(e)f Fv(whose)i(slots)e(will)g(be)h(used)g(in)g(the)g(e)o(xtension)
g(of)g Ft(q)p Fv(.)k(The)c(program)2049 4155 y(is)g(gi)n(v)o(en)g(in)g
(Fig.)f(10.)24 b(The)19 b(condition)c Ft(C)21 b Fv(on)p
3225 4095 104 3 v 19 w Ft(Bfn)3329 4173 y Fu(1)3381 4155
y Fv(is)d(de\002ned)i(as)f(follo)n(ws:)2456 4281 y Ft(C)r
Fr(\()p Ft(q)p Fq(;)8 b Ft(e)p Fr(\))17 b Fm($)g Ft(Bts)o
Fr(\()p Ft(q)p Fr(\))10 b Fm(^)g Ft(L)p Fr(\()p Ft(q)p
Fr(\))g(+)g Ft(L)p Fr(\()p Ft(e)p Fr(\))18 b(=)f Fq(])p
Fr(\()p Ft(q)p Fr(\))i Fq(:)2049 4418 y Fv(The)24 b(condition)h(is)e
(established)h(in)g(the)g(initial)f(call)g(of)p 3535
4358 V 24 w Ft(Bfn)3639 4436 y Fu(1)3695 4418 y Fv(from)p
3864 4358 V 24 w Ft(Bfn)p Fr(\()n Ft(t)5 b Fr(\))2049
4501 y Fv(from)17 b(its)g(condition)i Ft(Bt)q Fr(\()n
Ft(t)5 b Fr(\))17 b Fv(and)h(it)f(is)g(maintained)h(in)f(the)h(recursi)
n(v)o(e)g(calls)f(to)p 2049 4534 V 2049 4594 a Ft(Bfn)2153
4612 y Fu(1)2186 4594 y Fv(.)32 b(W)-6 b(e)22 b(then)g(correlate)h(the)
f(old)g(functions)h(with)f(ne)n(w)g(ones)h(by)g(easily)2049
4677 y(pro)o(ving)d(\(by)f(hand\):)2513 4803 y Ft(C)r
Fr(\()p Ft(q)p Fq(;)8 b Ft(e)p Fr(\))17 b Fm(!)g Ft(Bfn)2934
4822 y Fu(1)2968 4803 y Fr(\()p Ft(n)p Fq(;)8 b Ft(q)p
Fr(\))17 b(=)p 3221 4743 V 17 w Ft(Bfn)3324 4822 y Fu(1)3358
4803 y Fr(\()p Ft(n)p Fq(;)8 b Ft(q)p Fq(;)g Ft(e)p Fr(\))2670
4928 y Ft(Bt)p Fr(\()n Ft(t)d Fr(\))17 b Fm(!)f Ft(Bfn)p
Fr(\()n Ft(t)5 b Fr(\))17 b(=)p 3204 4868 V 16 w Ft(Bfn)p
Fr(\()n Ft(t)5 b Fr(\))19 b Fq(:)2049 5054 y Fv(W)-6
b(e)18 b(trigger)h(the)g(translation)g(to)g(PP)f(with)h(the)g(typing)p
2128 5120 V 2128 5180 a Ft(Bfn)2232 5199 y Fu(1)2274
5180 y Fv(:)24 b Fr(\()p Ft(N)15 b Fm(\002)10 b Ft(q)e
Fv(:)26 b Ft(A)p Fr(\()p Ft(N)t Fr(\))10 b Fm(\002)g
Ft(e)e Fv(:)26 b Ft(A)p Fr(\()p Ft(n)p Fr(\))16 b Fm(!)g
Ft(r)10 b Fv(:)25 b Ft(A)p Fr(\()p Ft(N)t Fr(\)\))19
b Fv(with)f Ft(r)12 b Fm(\010)e Ft(e)18 b Fm(')e Ft(q)10
b Fm(\010)g Ft(e)2049 5317 y Fv(and)p 2175 5257 V 19
w Ft(Bfn)e Fv(:)24 b Ft(N)c Fm(!)c Ft(N)t Fv(.)22 b(The)c(storage)h
(sharing)f(instruction)g Ft(r)11 b Fm(\010)e Ft(e)17
b Fm(')e Ft(q)9 b Fm(\010)g Ft(e)19 b Fv(tells)2049 5400
y(the)g(translator)h(that)f(the)g(array)g(se)o(gments)h(corresponding)i
(to)d(lists)g Ft(q)g Fv(and)h Ft(e)p eop
%%Page: 9 9
9 8 bop -150 83 a Fv(will)23 b(be)i(adjacent,)h(and)f(that)f(the)g
(result)g Ft(r)i Fv(should)f(o)o(v)o(erlay)g Ft(q)p Fv(.)39
b(Note)24 b(that)-150 166 y(we)e(did)g(not)g(gi)n(v)o(e)h(an)o(y)f
(special)h(PP)e(representation)i(to)e(binary)i(trees,)f(the)o(y)-150
249 y(are)27 b(represented)h(in)f(the)h(standard)g(w)o(ay)f(through)h
(the)g(PP-type)e Ft(N)t Fv(.)48 b(The)-150 349 y(partial)23
b(correctness)h(property)f(for)g(the)g(function)p 1194
289 104 3 v 24 w Ft(Bfn)1298 305 y Fp(0)1341 349 y Fv(can)g(be)h
(generated)-150 432 y(and)c(pro)o(v)o(ed)g(automatically:)-67
607 y Ft(Bt)q Fr(\()n Ft(t)5 b Fr(\))10 b Fm(^)e Ft(t)22
b Fm(\030)252 576 y Fj(N)252 625 y(s)275 634 y Fb(1)326
607 y Ft(p)10 b Fm(^)g Ft(s)462 620 y Fu(2)513 607 y
Fd(m)16 b Ft(h)10 b Fm(^)p 696 547 V 10 w Ft(Bfn)801
563 y Fp(0)821 607 y Fv(0)p Fr(\()c Ft(p)p Fq(;)i Ft(h)p
Fq(;)g Ft(s)1054 620 y Fu(1)1098 607 y Fq(?)i Ft(s)1174
620 y Fu(2)1208 607 y Fr(\))17 b(=)f Ft(q)p Fq(;)8 b
Ft(h)1431 576 y Fp(0)1452 607 y Fq(;)g Ft(s)1510 576
y Fp(0)1547 607 y Fm(!)223 736 y(9)p Ft(s)294 705 y Fp(0)294
756 y Fu(1)327 736 y Fm(9)p Ft(s)398 705 y Fp(0)398 756
y Fu(2)431 736 y Fr(\()p Ft(s)489 705 y Fp(0)544 694
y Fq(:)526 736 y Fr(=)16 b Ft(s)629 749 y Fu(1)673 736
y Fq(?)10 b Ft(s)749 705 y Fp(0)749 756 y Fu(1)793 736
y Fq(?)g Ft(s)869 705 y Fp(0)869 756 y Fu(2)914 736 y
Fm(^)g Ft(Bfn)p Fr(\()n Ft(t)5 b Fr(\))16 b Fm(\030)1234
705 y Fj(N)1234 761 y(s)1257 770 y Fb(1)1282 761 y Fi(?)p
Fj(s)1334 741 y Fa(0)1334 778 y Fb(1)1379 736 y Ft(q)10
b Fm(^)g Ft(s)1515 705 y Fp(0)1515 756 y Fu(2)1566 736
y Fd(m)16 b Ft(h)1679 705 y Fp(0)1700 736 y Fr(\))i Fq(:)-150
895 y Fv(Note)24 b(that)f(the)h(store)f Ft(s)466 868
y Fp(0)466 919 y Fu(1)523 895 y Fv(is)g(used)i(for)e(the)h
(representation)g(of)g Ft(Bfn)p Fr(\()n Ft(t)5 b Fr(\))p
Fv(,)24 b(and)-150 978 y(that)19 b(the)g(ar)o(gument)e
Ft(t)24 b Fv(is)18 b(not)i(o)o(v)o(erwritten.)-150 1170
y Fw(4.9)99 b(Repr)n(esentation)27 b(of)e(binary)g(tr)n(ees)-150
1336 y Fv(The)c(reader)h(no)n(w)g(surely)f(asks)h(whether)g(it)e(w)o
(ould)i(be)g(possible)g(to)f(do)h(the)-150 1419 y(breadth-\002rst)29
b(numbering)i(of)f(binary)g(trees)f(from)g(the)h(preceding)h(para-)-150
1503 y(graph)26 b(by)g(also)g(o)o(v)o(erwriting)g(the)f(binary)i(trees)
e(in)g(place.)44 b(Probably)26 b(the)-150 1586 y(simplest)h(w)o(ay)h
(to)g(go)f(about)i(it)d(is)h(to)h(design)g(for)f(a)h(gi)n(v)o(en)g
(PP-type)f Ft(T)36 b Fv(a)-150 1669 y(PP-type)25 b Ft(Bt)q
Fr(\()p Ft(T)9 b Fr(\))25 b Fv(implementing)h(binary)g(trees)f(with)g
(labels)h(from)f Ft(T)9 b Fv(.)42 b(Its)-150 1752 y(representation)20
b(predicate)f(is)g(de\002ned)h(as)f(follo)n(ws:)-108
1910 y Fm(\017)d(\030)3 1870 y Fj(Bt)q Fk(\()p Fj(T)7
b Fk(\))3 1922 y Fj(s)162 1910 y Fv(0)104 b Fm( )17 b
Fv(0)p Fq(;)8 b Ft(s)g Fv(:)21 b Ft(W)f Fm(\002)10 b
Ft(S)-63 2027 y(n)p -99 2064 110 3 v -99 2132 a(l)21
b Fm(j)16 b Ft(r)27 2081 y Fm(\030)85 2040 y Fj(Bt)q
Fk(\()p Fj(T)7 b Fk(\))85 2092 y Fj(s)250 2081 y Ft(p)16
b Fm( )440 2027 y Ft(n)p 405 2064 V 405 2132 a(l)k Fm(j)c
Ft(r)514 2081 y Fq(;)8 b Ft(s)g Fv(:)21 b Ft(W)f Fm(\002)10
b Ft(S)h Fm(^)395 2242 y Ft(s)459 2200 y Fq(:)440 2242
y Fr(=)17 b([)6 b Ft(p)16 b Fm(7!)g Ft(q)723 2255 y Fu(1)757
2242 y Fv(;)8 b Ft(q)823 2255 y Fu(2)857 2242 y Fv(;)g
Ft(q)923 2255 y Fu(3)956 2242 y Fr(])i Fq(?)g Ft(s)1063
2255 y Fu(1)1108 2242 y Fq(?)g Ft(s)1184 2255 y Fu(2)1228
2242 y Fq(?)g Ft(s)1304 2255 y Fu(3)1349 2242 y Fm(^)395
2384 y Ft(n)17 b Fm(\030)507 2354 y Fj(T)507 2403 y(s)530
2412 y Fb(1)575 2384 y Ft(q)612 2397 y Fu(1)656 2384
y Fm(^)10 b Ft(l)20 b Fm(\030)815 2344 y Fj(Bt)q Fk(\()p
Fj(T)7 b Fk(\))815 2396 y Fj(s)838 2405 y Fb(2)973 2384
y Ft(q)1010 2397 y Fu(2)1054 2384 y Fm(^)j Ft(r)19 b
Fm(\030)1220 2344 y Fj(Bt)q Fk(\()p Fj(T)7 b Fk(\))1220
2396 y Fj(s)1243 2405 y Fb(3)1378 2384 y Ft(q)1415 2397
y Fu(3)1467 2384 y Fq(:)-150 2526 y Fv(W)-6 b(e)17 b(no)n(w)i(select)e
(and)i(type)f(the)g(basic)g(operations)g(on)h Ft(Bt)p
Fr(\()p Ft(T)9 b Fr(\))p Fv(,)18 b(for)f(instance,)-150
2665 y(the)37 b(constructors)h Fm(\017)8 b Fv(:)31 b
Ft(Bt)q Fr(\()p Ft(T)9 b Fr(\))37 b Fv(and)g Fs(l)p Ft(nl)t(r)-7
b Fq(:)1027 2611 y Ft(n)p 991 2648 V 991 2716 a(l)20
b Fm(j)d Ft(r)1109 2665 y Fv(:)31 b Ft(T)26 b Fm(\002)17
b Ft(Bt)q Fr(\()p Ft(T)9 b Fr(\))17 b Fm(\002)g Ft(Bt)q
Fr(\()p Ft(T)9 b Fr(\))26 b Fm(!)-150 2799 y Ft(Bt)q
Fr(\()p Ft(T)9 b Fr(\))27 b Fv(and)g(similarly)g(for)g(a)f(suitable)i
(discrimination)f(on)h(binary)f(trees.)-150 2882 y(W)-6
b(e)20 b(then)i(design)f(the)g(corresponding)i(PP)d(operations)h(and)h
(a)f(discrimina-)-150 2965 y(tion,)e(and)g(pro)o(v)o(e)h(properties)f
(connecting)i(the)e(tw)o(o)g(sets.)-150 3132 y(F)o(or)i(simplicity)h
(we)g(will)f(w)o(ork)i(with)e(binary)i(trees)f(with)f(labels)i(from)18
b Ft(W)9 b Fv(.)-150 3215 y(After)22 b(all,)h(we)f(do)h(not)g(need)g
(more)g(labels)g(for)f(the)h(numbering)h(of)e(binary)-150
3298 y(trees.)28 b(W)-6 b(e)20 b(abbre)n(viate)i(by)f
Ft(B)f Fv(the)h(PP-type)f Ft(A)p Fr(\()p Ft(Bt)p Fr(\()l
Ft(W)10 b Fr(\)\))20 b Fv(which)h(will)f(repre-)-150
3381 y(sent)j(the)h(forests)f(of)g(binary)h(trees.)36
b(W)-6 b(e)23 b(should)h(also)f(change)i(the)e(condi-)-150
3464 y(tions)c(on)g(the)g(functions)h(in)f(Fig.)f(10.)24
b(The)18 b(ne)n(w)i(condition)c Ft(C)k Fv(is)-31 3597
y Ft(C)r Fr(\()p Ft(n)p Fq(;)8 b Ft(q)p Fq(;)g Ft(e)p
Fr(\))18 b Fm($)e Ft(Bts)o Fr(\()p Ft(q)p Fr(\))10 b
Fm(^)g Ft(L)p Fr(\()p Ft(q)p Fr(\))g(+)g Ft(L)p Fr(\()p
Ft(e)p Fr(\))19 b(=)d Fq(])p Fr(\()p Ft(q)p Fr(\))10
b Fm(^)g Ft(n)g Fr(+)g Fq(])p Fr(\()p Ft(q)p Fr(\))g
Fm(\004)g Fv(2)e(:)26 b Ft(W)-150 3740 y Fv(and)e(the)g(condition)g(on)
p 500 3680 104 3 v 25 w Ft(Bfn)f Fv(is)g Ft(Bt)q Fr(\()n
Ft(t)5 b Fr(\))12 b Fm(^)g Fq(])p Fr(\([)n Ft(t)5 b Fr(]\))12
b Fm(\004)g Fv(2)c(:)23 b Ft(W)10 b Fv(.)37 b(The)23
b(ne)n(w)h(condi-)-150 3823 y(tions)i(are)h(needed)g(in)f(order)h(to)f
(guarantee)h(that)f(the)h Ft(n)13 b Fr(+)g Fv(1)27 b(operation)g(in)
-150 3906 y(the)18 b(body)i(of)p 207 3846 V 18 w Ft(Bfn)311
3924 y Fu(1)362 3906 y Fv(does)f(not)f(o)o(v)o(er\003o)n(w)h(\(we)f
(will)f(need)i(as)g(man)o(y)f(labels)h(as)-150 3989 y(there)i(are)f
(inner)h(nodes)g(in)f(the)h(trees\).)27 b(The)21 b(reader)f(should)i
(note)f(ho)n(w)g(the)-150 4072 y(restriction)j(of)h(labels)g(to)20
b Ft(W)35 b Fv(complicates)25 b(the)g(programming,)i(there)e(are)-150
4155 y(ne)n(w)19 b(proof)h(obligations)f(to)g(be)g(satis\002ed.)-150
4321 y(The)j(translation)h(to)f(PP)f(is)h(initiated)g(by)h(the)f
(typing)p 1273 4261 V 23 w Ft(Bfn)1377 4339 y Fu(1)1418
4321 y Fv(:)k Fr(\()l Ft(W)21 b Fm(\002)12 b Ft(q)c Fv(:)27
b Ft(B)12 b Fm(\002)-150 4404 y Ft(e)c Fv(:)28 b Ft(B)21
b Fm(!)h Ft(r)10 b Fv(:)28 b Ft(B)p Fr(\))f Fv(with)g
Ft(r)15 b Fm(\010)f Ft(e)22 b Fm(')f Ft(q)14 b Fm(\010)g
Ft(e)p Fv(,)29 b(b)o(ut,)g(we)f(also)g(need)g(someho)n(w)h(to)-150
4487 y(instruct)c(the)g(translator)g(that)g(the)g(o)o(v)o(erwriting)h
(is)e(`deep',)j(i.e.,)f(that)f(also)-150 4570 y(the)19
b(trees)g(in)g(the)g(forests)f(should)i(be)g(o)o(v)o(erwritten)e(in)h
(place.)-150 4736 y(W)m(ith)f(the)h(deep)h(sharing,)f(the)g(total)g
(correctness)g(property)h(should)g(be:)-71 4904 y Ft(C)r
Fr(\()p Ft(n)p Fq(;)8 b Ft(q)p Fq(;)g Ft(e)p Fr(\))i
Fm(^)g Ft(q)18 b Fm(\030)387 4873 y Fj(B)387 4923 y(s)410
4932 y Fb(1)455 4904 y Ft(u)10 b Fm(^)g Ft(e)18 b Fm(\030)671
4873 y Fj(B)671 4923 y(s)694 4932 y Fb(2)739 4904 y Ft(v)10
b Fm(^)g Ft(s)907 4862 y Fq(:)889 4904 y Fr(=)16 b Ft(s)992
4917 y Fu(1)1036 4904 y Fq(?)10 b Ft(s)1112 4917 y Fu(2)1163
4904 y Fm(!)527 5040 y(9)p Ft(s)598 5009 y Fp(0)598 5060
y Fu(1)631 5040 y Fm(9)p Ft(s)702 5009 y Fp(0)702 5060
y Fu(2)735 5040 y Fm(9)p Ft(e)810 5009 y Fp(0)830 5040
y Fr(\()p 859 4980 V Ft(Bfn)962 4996 y Fp(0)962 5059
y Fu(1)996 5040 y Fr(\()p Ft(n)p Fq(;)e Ft(u)p Fq(;)g
Ft(v)-6 b Fq(;)8 b Ft(s)p Fr(\))18 b(=)e Ft(s)1392 5009
y Fp(0)1392 5060 y Fu(1)1436 5040 y Fq(?)10 b Ft(s)1512
5009 y Fp(0)1512 5060 y Fu(2)1556 5040 y Fm(^)p 859 5107
V 859 5167 a Ft(Bfn)962 5185 y Fu(1)996 5167 y Fr(\()p
Ft(n)p Fq(;)e Ft(q)p Fq(;)g Ft(e)p Fr(\))17 b Fm(\030)1294
5136 y Fj(B)1294 5191 y(s)1317 5171 y Fa(0)1317 5208
y Fb(1)1362 5167 y Ft(u)10 b Fm(^)g Ft(e)1502 5136 y
Fp(0)1540 5167 y Fm(\030)1598 5136 y Fj(B)1598 5191 y(s)1621
5171 y Fa(0)1621 5208 y Fb(2)1666 5167 y Ft(v)p Fr(\))19
b Fq(:)-150 5317 y Fv(Note)24 b(that)f(the)h(representation)g
(predicates)g(with)g Fm(\030)f Fv(are)g(used)i(instead)f(of)-150
5400 y(those)19 b(with)g Fm(')p Fv(.)2049 83 y(The)30
b(typing)p 2415 23 V 30 w Ft(Bfn)8 b Fv(:)29 b Fr(\()n
Ft(t)13 b Fv(:)29 b Ft(Bt)q Fr(\()l Ft(W)10 b Fr(\))22
b Fm(!)h Ft(r)10 b Fv(:)28 b Ft(Bt)q Fr(\()l Ft(W)10
b Fr(\)\))29 b Fv(with)f Ft(t)f Fm(')c Ft(r)31 b Fv(initiates)f(the)
2049 166 y(translation)19 b(with)g(the)g(partial)f(correctness)i
(property:)2132 350 y Ft(Bt)q Fr(\()n Ft(t)5 b Fr(\))10
b Fm(^)e Ft(t)22 b Fm(\030)2451 309 y Fj(Bt)q Fk(\()m
Fj(W)7 b Fk(\))2451 362 y Fj(s)2474 371 y Fb(1)2622 350
y Ft(u)j Fm(^)g Ft(s)2758 363 y Fu(2)2809 350 y Fd(m)16
b Ft(h)10 b Fm(^)p 2992 290 V 10 w Ft(Bfn)3097 307 y
Fp(0)3117 350 y Fr(\()p Ft(u)p Fq(;)e Ft(h)p Fq(;)g Ft(s)3307
363 y Fu(1)3351 350 y Fq(?)i Ft(s)3427 363 y Fu(2)3461
350 y Fr(\))17 b(=)g Fv(1)p Fq(;)8 b Ft(h)3685 319 y
Fp(0)3705 350 y Fq(;)g Ft(s)3763 319 y Fp(0)3800 350
y Fm(!)2633 493 y(9)p Ft(s)2704 462 y Fp(0)2724 493 y
Fr(\()p Ft(s)2782 462 y Fp(0)2837 450 y Fq(:)2819 493
y Fr(=)16 b Ft(s)2922 462 y Fp(0)2922 513 y Fu(1)2966
493 y Fq(?)10 b Ft(s)3042 462 y Fp(0)3042 513 y Fu(2)3086
493 y Fm(^)p 3146 433 V 10 w Ft(Bfn)p Fr(\()n Ft(t)5
b Fr(\))17 b Fm(\030)3407 452 y Fj(Bt)q Fk(\()m Fj(W)7
b Fk(\))3407 521 y Fj(s)3430 501 y Fa(0)3430 538 y Fb(1)3578
493 y Ft(u)j Fm(^)g Ft(s)3714 462 y Fp(0)3714 513 y Fu(2)3765
493 y Fd(m)16 b Ft(h)3878 462 y Fp(0)3899 493 y Fr(\))i
Fq(:)2049 749 y Fw(5)99 b(Conclusions)2049 915 y Fv(W)-6
b(e)27 b(ha)o(v)o(e)g(outlined)h(a)f(methodology)i(for)e(the)g
(automatic)g(translation)h(of)2049 999 y(high-le)n(v)o(el)17
b(CL)e(programs)i(to)e(lo)n(w-le)n(v)o(el)h(PP)f(programs.)23
b(PP)15 b(programs)i(are)2049 1082 y(so)i(close)h(to)f(imperati)n(v)o
(e)h(programs)g(that)f(their)g(transformation)h(to)f(such)h(is)2049
1165 y(straightforw)o(ard.)42 b(The)24 b(methodology)j(is)e(e)o
(xtensible)g(because)i(it)d(allo)n(ws)2049 1248 y(for)h(the)g
(de\002nition)g(of)g(ne)n(w)g(PP-types)f(ef)n(\002ciently)h
(representing)h(v)n(arious)2049 1331 y(high-le)n(v)o(el)21
b(objects.)27 b(The)20 b(\002rst)f(such)h(type)h(which)f(should)h(be)g
(designed)g(is)2049 1414 y(the)j(record)h(\(structure\))f(type.)40
b(W)-6 b(e)24 b(ha)o(v)o(e)g(also)g(outlined)h(a)g(methodology)2049
1497 y(for)17 b(the)h(v)o(eri\002cation)f(of)g(high-le)n(v)o(el)h
(functions)g(operating)h(on)e(lists)g(in)g(such)2049
1580 y(a)f(w)o(ay)h(that)f(their)g(PP)f(translations)i(will)e(operate)i
(on)g(arrays)f(with)g(the)g(reuse)2049 1663 y(of)j(storage.)2049
1829 y(W)-6 b(e)26 b(ha)o(v)o(e)h(strong)h(reasons)f(to)g(belie)n(v)o
(e)h(that)e(it)g(will)g(be)h(possible)h(for)f(the)2049
1912 y(translator)e(to)f(formulate)h(the)g(correctness)h(property)f
(for)g(the)g(translation)2049 1995 y(and)g(ha)o(v)o(e)f(it)f
(automatically)i(pro)o(v)o(ed.)39 b(The)24 b(\002rst)f(author')l(s)h
(thesis)g(will)f(be)2049 2078 y(concerned)32 b(with)d(the)h(design)h
(of)e(algorithms)i(for)e(the)h(translation)g(with)2049
2161 y(the)21 b(reusal)h(of)f(storage)g(and)h(with)f(pro)o(ving)h
(their)f(correctness)h(on)g(a)f(meta-)2049 2244 y(theoretical)27
b(le)n(v)o(el.)46 b(The)26 b(hardest)h(part)g(of)f(the)h(thesis)f(will)
g(be)g(its)g(proof-)2049 2327 y(theoretical)17 b(part)f(which)h(will)f
(call)g(for)g(the)h(design)g(of)g(an)f(algorithm)h(taking)2049
2410 y(proofs)23 b(in)f(P)-7 b(A)21 b(of)h(properties)h(of)f(high-le)n
(v)o(el)g(functions)h(and)g(yielding)g(the)2049 2493
y(proof)16 b(of)f(the)g(correctness)g(properties)h(of)f(their)g
(translations.)22 b(The)15 b(correct-)2049 2576 y(ness)20
b(of)g(the)g(algorithm,)g(must)g(be)g(pro)o(v)o(ed)h(again)f(at)g(the)f
(meta-theoretical)2049 2659 y(le)n(v)o(el.)47 b(W)-6
b(e)27 b(think)g(that)g(this)f(will)g(be)i(probably)g(the)f(\002rst)f
(application)i(of)2049 2742 y(proof)20 b(theory)f(to)g(a)g(real)f
(practical)h(problem.)2049 2908 y(Note)f(that)g(the)g(meta-theoretical)
h(proof)g(is)e(not)i(directly)f(connected)i(to)e(the)2049
2991 y(proof)k(carrying)h(issue.)31 b(The)21 b(generated)i(proof)f(of)g
(the)g(correctness)g(prop-)2049 3074 y(erty)14 b(together)i(with)e(the)
g(proofs)i(of)e(high)h(le)n(v)o(el)g(properties)g(can)g(be)g(mechan-)
2049 3157 y(ically)k(check)o(ed)h(and,)f(if)g(correct,)f(their)h
(correctness)h(will)e(be)h(independent)2049 3240 y(of)26
b(possible)g(mistak)o(es)h(in)e(the)h(meta-theoretical)g(proofs.)45
b(Of)25 b(course,)j(if)2049 3323 y(the)21 b(proof)g(transfer)g
(algorithm)g(is)f(wrong,)h(or)g(if)f(there)h(is)f(a)h(b)o(ug)g(in)f
(the)h(in-)2049 3406 y(telligent)h(proof)h(assistant)f(of)g(CL,)f(then)
i(the)f(proofs)h(may)g(f)o(ail)f(the)g(check,)2049 3489
y(b)o(ut)d(at)f(least)h(we)g(will)f(kno)n(w)i(that)e(something)i(is)f
(wrong.)2049 3681 y Fw(6)99 b(Refer)n(ences)2086 3847
y Fv([1])42 b(A.)16 b(Bloss,)g(P)o(ath)g(analysis)h(and)h(the)e
(optimization)h(of)g(nonstrict)f(func-)2215 3931 y(tional)30
b(languages.)h Ft(A)n(CM)e(T)l(r)o(ansactions)h(on)g(Pr)m(o)o(gr)o
(amming)h(Lan-)2215 4014 y(gua)o(g)o(es)21 b(and)f(Systems)p
Fv(,)f(16\(3\):328\226369,)i(1994.)2086 4134 y([2])42
b Ft(The)19 b(pr)m(o)o(gr)o(amming)h(langua)o(g)o(e)h(and)f(pr)m(oof)f
(system)g(CL)p Fv(,)2215 4217 y(www)-5 b(.ii.fmph.uniba.sk/cl/)12
b(.)2086 4337 y([3])42 b Ft(The)19 b(pr)m(o)o(gr)o(amming)h(langua)o(g)
o(e)h(and)f(pr)m(oof)f(system)g(CL)p Fv(,)2215 4420 y(www)-5
b(.ii.fmph.uniba.sk/cl/online/)13 b(.)2086 4541 y([4])42
b(P)-8 b(.)30 b(O'Hearn,)k(J.)d(Re)o(ynolds,)k(H.)c(Y)-7
b(ang,)34 b(Local)d(Reasoning)i(about)2215 4624 y(Programs)47
b(that)h(Alter)e(Data)h(Structures.)g(In)h Ft(Pr)m(oceedings)g(of)2215
4707 y(CSL)m('01,)40 b(P)-6 b(aris,)39 b(2001)p Fv(,)i(LNCS)35
b(2142,)41 b(pages)36 b(1\22619,)41 b(Springer)o(-)2215
4790 y(V)-8 b(erlag,)18 b(2001.)2086 4910 y([5])42 b(N.)c(Shankar)m(,)
45 b Ft(Ef)o(\002ciently)38 b(Executing)h(PVS)p Fv(.)g(SRI)f
(International,)2215 4993 y(Menlo)20 b(P)o(ark,)e(CA,)g(1999.)2086
5114 y([6])42 b(J.)22 b(K)2337 5096 y(\020)2339 5114
y(luka,)i Ft(A)e(Simple)h(Semantics)h(for)e(Destructive)h(Updates)p
Fv(.)g(ESS-)2215 5197 y(LLI'03,)18 b(V)l(ienna,)h(2003.)h(T)-6
b(o)18 b(appear)l(.)2086 5317 y([7])42 b(J.)18 b(K)m(omara,)i
Ft(Speci\002cation)h(and)e(V)-8 b(eri\002cation)19 b(of)g(Pr)m(o)o(gr)o
(ams)p Fv(,)g(2001,)2215 5400 y(www)-5 b(.ii.fmph.uniba.sk/cl/courses/)
13 b(.)p eop
%%Page: 10 10
10 9 bop -113 83 a Fv([8])42 b(C.)20 b(Okasaki,)h(Breadth-First)f
(Numbering:)28 b(Lessons)21 b(from)g(a)g(Small)16 166
y(Ex)o(ercise)35 b(in)g(Algorithm)h(Design.)f(In)h Ft(Pr)m(oceedings)g
(of)f(the)h(\002fth)16 249 y(A)n(CM)22 b(SIGPLAN)g(international)i
(confer)m(ence)h(on)f(Functional)g(pr)m(o-)16 332 y(gr)o(amming)p
Fv(,)19 b(A)m(CM)g(Press,)f(2000,)i(pages)g(131\226136.)-113
452 y([9])42 b(A.V)-10 b(.)31 b(Sastry)-5 b(,)34 b(W)-7
b(.)31 b(Clinger)m(,)j(Z.)c(M.)i(Ariola.)f(Order)o(-of-e)n(v)n
(aluation)16 535 y(Analysis)h(for)f(Destructi)n(v)o(e)h(Updates)g(in)g
(Strict)e(Functional)i(Lan-)16 619 y(guages)e(with)e(Flat)f(Aggre)o
(gates.)i(In)g Ft(Pr)m(oc.)f(A)n(CM)f(Confer)m(ence)j(on)16
702 y(Functional)17 b(Pr)m(o)o(gr)o(amming)h(Langua)o(g)o(es)g(and)g
(Computer)f(Ar)m(c)o(hitec-)16 785 y(tur)m(e)p Fv(.)i(Uni)n(v)o(ersity)
g(of)g(Copenhagen,)i(Denmark,)e(June)h(1993.)-150 905
y([10])42 b(J.)18 b(Shoen\002eld,)h Ft(Mathematical)h(Lo)o(gic)p
Fv(.)f(Addison-W)-6 b(esle)o(y)h(,)20 b(1967.)-150 1025
y([11])42 b(P)-8 b(.)15 b(J.)h(V)-10 b(oda,)18 b Ft(What)f(Can)f(we)h
(Gain)f(by)h(Inte)m(gr)o(ating)g(a)g(Langua)o(g)o(e)h(Pr)m(o-)16
1108 y(cessor)i(with)e(a)h(Theor)m(em)h(Pr)m(o)o(ver?)p
Fv(,)16 1191 y(www)-5 b(.fmph.uniba.sk/)p Fn(s)p Fv(v)o(oda,)20
b(2003.)-150 1312 y([12])42 b(P)-8 b(.)18 b(J.)g(V)-10
b(oda,)20 b Ft(Grundla)o(g)o(enstr)m(eit)h(in)e(the)g(Theory)g(of)g(Pr)
m(o)o(gr)o(amming)p Fv(,)16 1395 y(www)-5 b(.fmph.uniba.sk/)p
Fn(s)p Fv(v)o(oda,)20 b(2003.)p eop
%%Trailer
end
userdict /end-hook known{end-hook}if
%%EOF
